var ua=Object.defineProperty;var ha=Object.getPrototypeOf;var fa=Reflect.get;var Qn=e=>{throw TypeError(e)};var ga=(e,t,r)=>t in e?ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var me=(e,t,r)=>ga(e,typeof t!="symbol"?t+"":t,r),$n=(e,t,r)=>t.has(e)||Qn("Cannot "+r);var ue=(e,t,r)=>($n(e,t,"read from private field"),r?r.call(e):t.get(e)),Vt=(e,t,r)=>t.has(e)?Qn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var fr=(e,t,r)=>($n(e,t,"access private method"),r);var ei=(e,t,r)=>fa(ha(e),r,t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const ti=!1;var or=Array.isArray,pa=Array.prototype.indexOf,In=Array.from,rs=Object.defineProperty,ft=Object.getOwnPropertyDescriptor,ns=Object.getOwnPropertyDescriptors,va=Object.prototype,ma=Array.prototype,Ln=Object.getPrototypeOf;function kt(e){return typeof e=="function"}const Oe=()=>{};function _a(e){return e()}function pn(e){for(var t=0;t<e.length;t++)e[t]()}const Ue=2,is=4,Gr=8,Fr=16,st=32,lr=64,Cr=128,Le=256,xr=512,ye=1024,at=2048,mt=4096,it=8192,Mr=16384,ss=32768,Dt=65536,ya=1<<17,ba=1<<19,as=1<<20,gt=Symbol("$state"),os=Symbol("legacy props"),wa=Symbol("");function ls(e){return e===this.v}function Gn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Fn(e){return!Gn(e,this.v)}function Ca(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function xa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ka(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Sa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Pa(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ea(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Aa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ta(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ra(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ot=!1,Da=!1;function Oa(){Ot=!0}const Ia=1,La=2,Ga=16,Fa=1,Ma=2,cs=4,Na=8,Ua=16,Ba=4,ds=1,Va=2,xe=Symbol(),kr="http://www.w3.org/2000/svg";function Nr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ee=null;function ri(e){ee=e}function Mn(e){return us().get(e)}function Sr(e,t){return us().set(e,t),t}function ke(e,t=!1,r){ee={p:ee,c:null,e:null,m:!1,s:e,x:null,l:null},Ot&&!t&&(ee.l={s:null,u:null,r1:[],r2:he(!1)})}function Se(e){const t=ee;if(t!==null){e!==void 0&&(t.x=e);const a=t.e;if(a!==null){var r=te,n=ne;t.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];We(i.effect),Ke(i.reaction),dr(i.fn)}}finally{We(r),Ke(n)}}ee=t.p,t.m=!0}return e||{}}function cr(){return!Ot||ee!==null&&ee.l===null}function us(e){return ee===null&&Nr(),ee.c??(ee.c=new Map(Ya(ee)||void 0))}function Ya(e){let t=e.p;for(;t!==null;){const r=t.c;if(r!==null)return r;t=t.p}return null}function he(e,t){var r={f:0,v:e,reactions:null,equals:ls,rv:0,wv:0};return r}function rr(e){return hs(he(e))}function Ur(e,t=!1){var n;const r=he(e);return t||(r.equals=Fn),Ot&&ee!==null&&ee.l!==null&&((n=ee.l).s??(n.s=[])).push(r),r}function Ie(e,t=!1){return hs(Ur(e,t))}function hs(e){return ne!==null&&!ze&&ne.f&Ue&&(qe===null?Qa([e]):qe.push(e)),e}function $r(e,t){return Z(e,Ge(()=>M(e))),t}function Z(e,t){return ne!==null&&!ze&&cr()&&ne.f&(Ue|Fr)&&(qe===null||!qe.includes(e))&&Ra(),fs(e,t)}function fs(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Ts(),gs(e,at),cr()&&te!==null&&te.f&ye&&!(te.f&(st|lr))&&(et===null?$a([e]):et.push(e))),t}function vn(e,t=1){var r=M(e),n=t===1?r++:r--;return Z(e,r),n}function gs(e,t){var r=e.reactions;if(r!==null)for(var n=cr(),s=r.length,i=0;i<s;i++){var a=r[i],c=a.f;c&at||!n&&a===te||(Ve(a,t),c&(ye|Le)&&(c&Ue?gs(a,mt):zr(a)))}}let ps=!1;function rt(e,t=null,r){if(typeof e!="object"||e===null||gt in e)return e;const n=Ln(e);if(n!==va&&n!==ma)return e;var s=new Map,i=or(e),a=he(0);i&&s.set("length",he(e.length));var c;return new Proxy(e,{defineProperty(h,f,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Ea();var w=s.get(f);return w===void 0?(w=he(v.value),s.set(f,w)):Z(w,rt(v.value,c)),!0},deleteProperty(h,f){var v=s.get(f);if(v===void 0)f in h&&s.set(f,he(xe));else{if(i&&typeof f=="string"){var w=s.get("length"),b=Number(f);Number.isInteger(b)&&b<w.v&&Z(w,b)}Z(v,xe),ni(a)}return!0},get(h,f,v){var g;if(f===gt)return e;var w=s.get(f),b=f in h;if(w===void 0&&(!b||(g=ft(h,f))!=null&&g.writable)&&(w=he(rt(b?h[f]:xe,c)),s.set(f,w)),w!==void 0){var _=M(w);return _===xe?void 0:_}return Reflect.get(h,f,v)},getOwnPropertyDescriptor(h,f){var v=Reflect.getOwnPropertyDescriptor(h,f);if(v&&"value"in v){var w=s.get(f);w&&(v.value=M(w))}else if(v===void 0){var b=s.get(f),_=b==null?void 0:b.v;if(b!==void 0&&_!==xe)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return v},has(h,f){var _;if(f===gt)return!0;var v=s.get(f),w=v!==void 0&&v.v!==xe||Reflect.has(h,f);if(v!==void 0||te!==null&&(!w||(_=ft(h,f))!=null&&_.writable)){v===void 0&&(v=he(w?rt(h[f],c):xe),s.set(f,v));var b=M(v);if(b===xe)return!1}return w},set(h,f,v,w){var o;var b=s.get(f),_=f in h;if(i&&f==="length")for(var g=v;g<b.v;g+=1){var u=s.get(g+"");u!==void 0?Z(u,xe):g in h&&(u=he(xe),s.set(g+"",u))}b===void 0?(!_||(o=ft(h,f))!=null&&o.writable)&&(b=he(void 0),Z(b,rt(v,c)),s.set(f,b)):(_=b.v!==xe,Z(b,rt(v,c)));var x=Reflect.getOwnPropertyDescriptor(h,f);if(x!=null&&x.set&&x.set.call(w,v),!_){if(i&&typeof f=="string"){var k=s.get("length"),l=Number(f);Number.isInteger(l)&&l>=k.v&&Z(k,l+1)}ni(a)}return!0},ownKeys(h){M(a);var f=Reflect.ownKeys(h).filter(b=>{var _=s.get(b);return _===void 0||_.v!==xe});for(var[v,w]of s)w.v!==xe&&!(v in h)&&f.push(v);return f},setPrototypeOf(){Aa()}})}function ni(e,t=1){Z(e,e.v+t)}var ii,vs,ms,_s;function ja(){if(ii===void 0){ii=window,vs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;ms=ft(t,"firstChild").get,_s=ft(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Br(e=""){return document.createTextNode(e)}function Ee(e){return ms.call(e)}function Vr(e){return _s.call(e)}function ve(e,t){return Ee(e)}function ae(e,t){{var r=Ee(e);return r instanceof Comment&&r.data===""?Vr(r):r}}function Me(e,t=1,r=!1){let n=e;for(;t--;)n=Vr(n);return n}function Xa(e){e.textContent=""}function pe(e){var t=Ue|at,r=ne!==null&&ne.f&Ue?ne:null;return te===null||r!==null&&r.f&Le?t|=Le:te.f|=as,{ctx:ee,deps:null,effects:null,equals:ls,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??te}}function Nn(e){const t=pe(e);return t.equals=Fn,t}function ys(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Be(t[r])}}function za(e){for(var t=e.parent;t!==null;){if(!(t.f&Ue))return t;t=t.parent}return null}function Ha(e){var t,r=te;We(za(e));try{ys(e),t=Ds(e)}finally{We(r)}return t}function bs(e){var t=Ha(e),r=(ht||e.f&Le)&&e.deps!==null?mt:ye;Ve(e,r),e.equals(t)||(e.v=t,e.wv=Ts())}function ws(e){te===null&&ne===null&&ka(),ne!==null&&ne.f&Le&&te===null&&xa(),Bn&&Ca()}function qa(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function It(e,t,r,n=!0){var s=(e&lr)!==0,i=te,a={ctx:ee,deps:null,nodes_start:null,nodes_end:null,f:e|at,first:null,fn:t,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,wv:0};if(r){var c=Pt;try{si(!0),Xr(a),a.f|=ss}catch(v){throw Be(a),v}finally{si(c)}}else t!==null&&zr(a);var h=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(as|Cr))===0;if(!h&&!s&&n&&(i!==null&&qa(a,i),ne!==null&&ne.f&Ue)){var f=ne;(f.effects??(f.effects=[])).push(a)}return a}function Cs(e){const t=It(Gr,null,!1);return Ve(t,ye),t.teardown=e,t}function $(e){ws();var t=te!==null&&(te.f&st)!==0&&ee!==null&&!ee.m;if(t){var r=ee;(r.e??(r.e=[])).push({fn:e,effect:te,reaction:ne})}else{var n=dr(e);return n}}function Ka(e){return ws(),Gt(e)}function Wa(e){const t=It(lr,e,!0);return(r={})=>new Promise(n=>{r.outro?nr(t,()=>{Be(t),n(void 0)}):(Be(t),n(void 0))})}function dr(e){return It(is,e,!1)}function Ae(e,t){var r=ee,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Gt(()=>{e(),!n.ran&&(n.ran=!0,Z(r.l.r2,!0),Ge(t))})}function Lt(){var e=ee;Gt(()=>{if(M(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&ye&&Ve(r,mt),Mt(r)&&Xr(r),t.ran=!1}e.l.r2.v=!1}})}function Gt(e){return It(Gr,e,!0)}function _e(e,t=[],r=pe){const n=t.map(r);return Ft(()=>e(...n.map(M)))}function Ft(e,t=0){return It(Gr|Fr|t,e,!0)}function pt(e,t=!0){return It(Gr|st,e,!0,t)}function xs(e){var t=e.teardown;if(t!==null){const r=Bn,n=ne;ai(!0),Ke(null);try{t.call(null)}finally{ai(r),Ke(n)}}}function ks(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Be(r,t),r=n}}function Ja(e){for(var t=e.first;t!==null;){var r=t.next;t.f&st||Be(t),t=r}}function Be(e,t=!0){var r=!1;if((t||e.f&ba)&&e.nodes_start!==null){for(var n=e.nodes_start,s=e.nodes_end;n!==null;){var i=n===s?null:Vr(n);n.remove(),n=i}r=!0}ks(e,t&&!r),Tr(e,0),Ve(e,Mr);var a=e.transitions;if(a!==null)for(const h of a)h.stop();xs(e);var c=e.parent;c!==null&&c.first!==null&&Ss(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ss(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function nr(e,t){var r=[];Un(e,r,!0),Ps(r,()=>{Be(e),t&&t()})}function Ps(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Un(e,t,r){if(!(e.f&it)){if(e.f^=it,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&Dt)!==0||(n.f&st)!==0;Un(n,t,i?r:!1),n=s}}}function ir(e){Es(e,!0)}function Es(e,t){if(e.f&it){e.f^=it,e.f&ye||(e.f^=ye),Mt(e)&&(Ve(e,at),zr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&Dt)!==0||(r.f&st)!==0;Es(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let mn=!1,_n=[];function Za(){mn=!1;const e=_n.slice();_n=[],pn(e)}function Yr(e){mn||(mn=!0,queueMicrotask(Za)),_n.push(e)}let _r=!1,Pr=!1,Er=null,Pt=!1,Bn=!1;function si(e){Pt=e}function ai(e){Bn=e}let yn=[],tr=0;let ne=null,ze=!1;function Ke(e){ne=e}let te=null;function We(e){te=e}let qe=null;function Qa(e){qe=e}let be=null,Pe=0,et=null;function $a(e){et=e}let As=1,Ar=0,ht=!1;function Ts(){return++As}function Mt(e){var w;var t=e.f;if(t&at)return!0;if(t&mt){var r=e.deps,n=(t&Le)!==0;if(r!==null){var s,i,a=(t&xr)!==0,c=n&&te!==null&&!ht,h=r.length;if(a||c){var f=e,v=f.parent;for(s=0;s<h;s++)i=r[s],(a||!((w=i==null?void 0:i.reactions)!=null&&w.includes(f)))&&(i.reactions??(i.reactions=[])).push(f);a&&(f.f^=xr),c&&v!==null&&!(v.f&Le)&&(f.f^=Le)}for(s=0;s<h;s++)if(i=r[s],Mt(i)&&bs(i),i.wv>e.wv)return!0}(!n||te!==null&&!ht)&&Ve(e,ye)}return!1}function eo(e,t){for(var r=t;r!==null;){if(r.f&Cr)try{r.fn(e);return}catch{r.f^=Cr}r=r.parent}throw _r=!1,e}function to(e){return(e.f&Mr)===0&&(e.parent===null||(e.parent.f&Cr)===0)}function jr(e,t,r,n){if(_r){if(r===null&&(_r=!1),to(t))throw e;return}r!==null&&(_r=!0);{eo(e,t);return}}function Rs(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];i.f&Ue?Rs(i,t,!1):t===i&&(r?Ve(i,at):i.f&ye&&Ve(i,mt),zr(i))}}function Ds(e){var _;var t=be,r=Pe,n=et,s=ne,i=ht,a=qe,c=ee,h=ze,f=e.f;be=null,Pe=0,et=null,ne=f&(st|lr)?null:e,ht=(f&Le)!==0&&(!Pt||s===null||h),qe=null,ri(e.ctx),ze=!1,Ar++;try{var v=(0,e.fn)(),w=e.deps;if(be!==null){var b;if(Tr(e,Pe),w!==null&&Pe>0)for(w.length=Pe+be.length,b=0;b<be.length;b++)w[Pe+b]=be[b];else e.deps=w=be;if(!ht)for(b=Pe;b<w.length;b++)((_=w[b]).reactions??(_.reactions=[])).push(e)}else w!==null&&Pe<w.length&&(Tr(e,Pe),w.length=Pe);if(cr()&&et!==null&&!ze&&w!==null&&!(e.f&(Ue|mt|at)))for(b=0;b<et.length;b++)Rs(et[b],e);return s!==null&&Ar++,v}finally{be=t,Pe=r,et=n,ne=s,ht=i,qe=a,ri(c),ze=h}}function ro(e,t){let r=t.reactions;if(r!==null){var n=pa.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&t.f&Ue&&(be===null||!be.includes(t))&&(Ve(t,mt),t.f&(Le|xr)||(t.f^=xr),ys(t),Tr(t,0))}function Tr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)ro(e,r[n])}function Xr(e){var t=e.f;if(!(t&Mr)){Ve(e,ye);var r=te,n=ee;te=e;try{t&Fr?Ja(e):ks(e),xs(e);var s=Ds(e);e.teardown=typeof s=="function"?s:null,e.wv=As;var i=e.deps,a;ti&&Da&&e.f&at}catch(c){jr(c,e,r,n||e.ctx)}finally{te=r}}}function no(){if(tr>1e3){tr=0;try{Sa()}catch(e){if(Er!==null)jr(e,Er,null);else throw e}}tr++}function io(e){var t=e.length;if(t!==0){no();var r=Pt;Pt=!0;try{for(var n=0;n<t;n++){var s=e[n];s.f&ye||(s.f^=ye);var i=oo(s);so(i)}}finally{Pt=r}}}function so(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&(Mr|it)))try{Mt(n)&&(Xr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Ss(n):n.fn=null))}catch(s){jr(s,n,null,n.ctx)}}}function ao(){if(Pr=!1,tr>1001)return;const e=yn;yn=[],io(e),Pr||(tr=0,Er=null)}function zr(e){Pr||(Pr=!0,queueMicrotask(ao)),Er=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(lr|st)){if(!(r&ye))return;t.f^=ye}}yn.push(t)}function oo(e){var t=[],r=e.first;e:for(;r!==null;){var n=r.f,s=(n&st)!==0,i=s&&(n&ye)!==0,a=r.next;if(!i&&!(n&it)){if(n&is)t.push(r);else if(s)r.f^=ye;else{var c=ne;try{ne=r,Mt(r)&&Xr(r)}catch(v){jr(v,r,null,r.ctx)}finally{ne=c}}var h=r.first;if(h!==null){r=h;continue}}if(a===null){let v=r.parent;for(;v!==null;){if(e===v)break e;var f=v.next;if(f!==null){r=f;continue e}v=v.parent}}r=a}return t}function M(e){var t=e.f,r=(t&Ue)!==0;if(ne!==null&&!ze){qe!==null&&qe.includes(e)&&Ta();var n=ne.deps;e.rv<Ar&&(e.rv=Ar,be===null&&n!==null&&n[Pe]===e?Pe++:be===null?be=[e]:(!ht||!be.includes(e))&&be.push(e))}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&!(i.f&Le)&&(s.f^=Le)}return r&&(s=e,Mt(s)&&bs(s)),e.v}function Ge(e){var t=ze;try{return ze=!0,e()}finally{ze=t}}const lo=-7169;function Ve(e,t){e.f=e.f&lo|t}function J(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(gt in e)bn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&gt in r&&bn(r)}}}function bn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{bn(e[n],t)}catch{}const r=Ln(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=ns(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}function co(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const uo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function ho(e){return uo.includes(e)}const fo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function go(e){return e=e.toLowerCase(),fo[e]??e}const po=["touchstart","touchmove"];function vo(e){return po.includes(e)}function mo(e,t){if(t){const r=document.body;e.autofocus=!0,Yr(()=>{document.activeElement===r&&e.focus()})}}let oi=!1;function _o(){oi||(oi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function Vn(e){var t=ne,r=te;Ke(null),We(null);try{return e()}finally{Ke(t),We(r)}}function yo(e,t,r,n=r){e.addEventListener(t,()=>Vn(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),_o()}const Os=new Set,wn=new Set;function Is(e,t,r,n={}){function s(i){if(n.capture||er.call(t,i),!i.cancelBubble)return Vn(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yr(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Q(e,t,r,n,s){var i={capture:n,passive:s},a=Is(e,t,r,i);(t===document.body||t===window||t===document)&&Cs(()=>{t.removeEventListener(e,a,i)})}function bo(e){for(var t=0;t<e.length;t++)Os.add(e[t]);for(var r of wn)r(e)}function er(e){var l;var t=this,r=t.ownerDocument,n=e.type,s=((l=e.composedPath)==null?void 0:l.call(e))||[],i=s[0]||e.target,a=0,c=e.__root;if(c){var h=s.indexOf(c);if(h!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;h<=f&&(a=h)}if(i=s[a]||e.target,i!==t){rs(e,"currentTarget",{configurable:!0,get(){return i||r}});var v=ne,w=te;Ke(null),We(null);try{for(var b,_=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var u=i["__"+n];if(u!==void 0&&!i.disabled)if(or(u)){var[x,...k]=u;x.apply(i,[e,...k])}else u.call(i,e)}catch(o){b?_.push(o):b=o}if(e.cancelBubble||g===t||g===null)break;i=g}if(b){for(let o of _)queueMicrotask(()=>{throw o});throw b}}finally{e.__root=t,delete e.currentTarget,Ke(v),We(w)}}}function Yn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function vt(e,t){var r=te;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function Re(e,t){var r=(t&ds)!==0,n=(t&Va)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Yn(i?e:"<!>"+e),r||(s=Ee(s)));var a=n||vs?document.importNode(s,!0):s.cloneNode(!0);if(r){var c=Ee(a),h=a.lastChild;vt(c,h)}else vt(a,a);return a}}function wo(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&ds)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,a;return()=>{if(!a){var c=Yn(i),h=Ee(c);if(s)for(a=document.createDocumentFragment();Ee(h);)a.appendChild(Ee(h));else a=Ee(h)}var f=a.cloneNode(!0);if(s){var v=Ee(f),w=f.lastChild;vt(v,w)}else vt(f,f);return f}}function Co(e=""){{var t=Br(e+"");return vt(t,t),t}}function ce(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Br();return e.append(t,r),vt(t,r),e}function K(e,t){e!==null&&e.before(t)}let Rr=!0;function li(e){Rr=e}function Dr(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function xo(e,t){return ko(e,t)}const Ct=new Map;function ko(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:a=!0}){ja();var c=new Set,h=w=>{for(var b=0;b<w.length;b++){var _=w[b];if(!c.has(_)){c.add(_);var g=vo(_);t.addEventListener(_,er,{passive:g});var u=Ct.get(_);u===void 0?(document.addEventListener(_,er,{passive:g}),Ct.set(_,1)):Ct.set(_,u+1)}}};h(In(Os)),wn.add(h);var f=void 0,v=Wa(()=>{var w=r??t.appendChild(Br());return pt(()=>{if(i){ke({});var b=ee;b.c=i}s&&(n.$$events=s),Rr=a,f=e(w,n)||{},Rr=!0,i&&Se()}),()=>{var g;for(var b of c){t.removeEventListener(b,er);var _=Ct.get(b);--_===0?(document.removeEventListener(b,er),Ct.delete(b)):Ct.set(b,_)}wn.delete(h),w!==r&&((g=w.parentNode)==null||g.removeChild(w))}});return So.set(f,v),f}let So=new WeakMap;function Te(e,t,r=!1){var n=e,s=null,i=null,a=xe,c=r?Dt:0,h=!1;const f=(w,b=!0)=>{h=!0,v(b,w)},v=(w,b)=>{a!==(a=w)&&(a?(s?ir(s):b&&(s=pt(()=>b(n))),i&&nr(i,()=>{i=null})):(i?ir(i):b&&(i=pt(()=>b(n))),s&&nr(s,()=>{s=null})))};Ft(()=>{h=!1,t(f),h||v(null,null)},c)}function ci(e,t){return t}function Po(e,t,r,n){for(var s=[],i=t.length,a=0;a<i;a++)Un(t[a].e,s,!0);var c=i>0&&s.length===0&&r!==null;if(c){var h=r.parentNode;Xa(h),h.append(r),n.clear(),ut(e,t[0].prev,t[i-1].next)}Ps(s,()=>{for(var f=0;f<i;f++){var v=t[f];c||(n.delete(v.k),ut(e,v.prev,v.next)),Be(v.e,!c)}})}function di(e,t,r,n,s,i=null){var a=e,c={flags:t,items:new Map,first:null},h=null,f=!1,v=Nn(()=>{var w=r();return or(w)?w:w==null?[]:In(w)});Ft(()=>{var w=M(v),b=w.length;f&&b===0||(f=b===0,Eo(w,c,a,s,t,n,r),i!==null&&(b===0?h?ir(h):h=pt(()=>i(a)):h!==null&&nr(h,()=>{h=null})),M(v))})}function Eo(e,t,r,n,s,i,a){var c=e.length,h=t.items,f=t.first,v=f,w,b=null,_=[],g=[],u,x,k,l;for(l=0;l<c;l+=1){if(u=e[l],x=i(u,l),k=h.get(x),k===void 0){var o=v?v.e.nodes_start:r;b=To(o,t,b,b===null?t.first:b.next,u,x,l,n,s,a),h.set(x,b),_=[],g=[],v=b.next;continue}if(Ao(k,u,l),k.e.f&it&&ir(k.e),k!==v){if(w!==void 0&&w.has(k)){if(_.length<g.length){var p=g[0],C;b=p.prev;var P=_[0],D=_[_.length-1];for(C=0;C<_.length;C+=1)ui(_[C],p,r);for(C=0;C<g.length;C+=1)w.delete(g[C]);ut(t,P.prev,D.next),ut(t,b,P),ut(t,D,p),v=p,b=D,l-=1,_=[],g=[]}else w.delete(k),ui(k,v,r),ut(t,k.prev,k.next),ut(t,k,b===null?t.first:b.next),ut(t,b,k),b=k;continue}for(_=[],g=[];v!==null&&v.k!==x;)v.e.f&it||(w??(w=new Set)).add(v),g.push(v),v=v.next;if(v===null)continue;k=v}_.push(k),b=k,v=k.next}if(v!==null||w!==void 0){for(var S=w===void 0?[]:In(w);v!==null;)v.e.f&it||S.push(v),v=v.next;var O=S.length;if(O>0){var E=null;Po(t,S,E,h)}}te.first=t.first&&t.first.e,te.last=b&&b.e}function Ao(e,t,r,n){fs(e.v,t),e.i=r}function To(e,t,r,n,s,i,a,c,h,f){var v=(h&Ia)!==0,w=(h&Ga)===0,b=v?w?Ur(s):he(s):s,_=h&La?he(a):a,g={i:_,v:b,k:i,a:null,e:null,prev:r,next:n};try{return g.e=pt(()=>c(e,b,_,f),ps),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function ui(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var a=Vr(i);s.before(i),i=a}}function ut(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ro(e,t,r,n,s){var i=e,a="",c;Ft(()=>{a!==(a=t()??"")&&(c!==void 0&&(Be(c),c=void 0),a!==""&&(c=pt(()=>{var h=a+"";h=`<svg>${h}</svg>`;var f=Yn(h);for(f=Ee(f),vt(Ee(f),f.lastChild);Ee(f);)i.before(Ee(f))})))})}function He(e,t,r,n,s){var c;var i=(c=t.$$slots)==null?void 0:c[r],a=!1;i===!0&&(i=t.children,a=!0),i===void 0||i(e,a?()=>n:n)}function Ls(e,t,...r){var n=e,s=Oe,i;Ft(()=>{s!==(s=t())&&(i&&(Be(i),i=null),i=pt(()=>s(n,...r)))},Dt)}function Cn(e,t,r,n,s,i){var a,c,h=null,f=e,v;Ft(()=>{const w=t()||null;var b=w==="svg"?kr:null;w!==a&&(v&&(w===null?nr(v,()=>{v=null,c=null}):w===c?ir(v):(Be(v),li(!1))),w&&w!==c&&(v=pt(()=>{if(h=b?document.createElementNS(b,w):document.createElement(w),vt(h,h),n){var _=h.appendChild(Br());n(h,_)}te.nodes_end=h,f.before(h)})),a=w,a&&(c=a),li(!0))},Dt)}function hi(e,t,r){dr(()=>{var n=Ge(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var s=!1,i={};Gt(()=>{var a=r();J(a),s&&Gn(i,a)&&(i=a,n.update(a))}),s=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Gs(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Gs(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Do(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Gs(e))&&(n&&(n+=" "),n+=t);return n}function xn(e){return typeof e=="object"?Do(e):e??""}function Oo(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function jn(e,t,r,n){var s=e.__attributes??(e.__attributes={});s[t]!==(s[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[wa]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Fs(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ne(e,t,r,n,s=!1,i=!1,a=!1){var c=t||{},h=e.tagName==="OPTION";for(var f in t)f in r||(r[f]=null);r.class&&(r.class=xn(r.class));var v=Fs(e),w=e.__attributes??(e.__attributes={});for(const l in r){let o=r[l];if(h&&l==="value"&&o==null){e.value=e.__value="",c[l]=o;continue}var b=c[l];if(o!==b){c[l]=o;var _=l[0]+l[1];if(_!=="$$"){if(_==="on"){const p={},C="$$"+l;let P=l.slice(2);var g=ho(P);if(co(P)&&(P=P.slice(0,-7),p.capture=!0),!g&&b){if(o!=null)continue;e.removeEventListener(P,c[C],p),c[C]=null}if(o!=null)if(g)e[`__${P}`]=o,bo([P]);else{let D=function(S){c[l].call(this,S)};var k=D;c[C]=Is(P,e,D,p)}else g&&(e[`__${P}`]=void 0)}else if(l==="style"&&o!=null)e.style.cssText=o+"";else if(l==="autofocus")mo(e,!!o);else if(!i&&(l==="__value"||l==="value"&&o!=null))e.value=e.__value=o;else if(l==="selected"&&h)Oo(e,o);else{var u=l;s||(u=go(u));var x=u==="defaultValue"||u==="defaultChecked";if(o==null&&!i&&!x)if(w[l]=null,u==="value"||u==="checked"){let p=e;const C=t===void 0;if(u==="value"){let P=p.defaultValue;p.removeAttribute(u),p.defaultValue=P,p.value=p.__value=C?P:null}else{let P=p.defaultChecked;p.removeAttribute(u),p.defaultChecked=P,p.checked=C?P:!1}}else e.removeAttribute(l);else x||v.includes(u)&&(i||typeof o!="string")?e[u]=o:typeof o!="function"&&jn(e,u,o)}l==="style"&&"__styles"in e&&(e.__styles={})}}}return c}var fi=new Map;function Fs(e){var t=fi.get(e.nodeName);if(t)return t;fi.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=ns(n);for(var i in r)r[i].set&&t.push(i);n=Ln(n)}return t}function kn(e,t,r){var n=e.__className,s=Io(t);(n!==s||ps)&&(t==null?e.removeAttribute("class"):e.className=s,e.__className=s)}function Io(e,t){return(e??"")+""}const Lo=()=>performance.now(),nt={tick:e=>requestAnimationFrame(e),now:()=>Lo(),tasks:new Set};function Ms(){const e=nt.now();nt.tasks.forEach(t=>{t.c(e)||(nt.tasks.delete(t),t.f())}),nt.tasks.size!==0&&nt.tick(Ms)}function Go(e){let t;return nt.tasks.size===0&&nt.tick(Ms),{promise:new Promise(r=>{nt.tasks.add(t={c:e,f:r})}),abort(){nt.tasks.delete(t)}}}function gr(e,t){Vn(()=>{e.dispatchEvent(new CustomEvent(t))})}function Fo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function gi(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Fo(s.trim());t[a]=i.trim()}return t}const Mo=e=>e;function No(e,t,r,n){var s=(e&Ba)!==0,i="both",a,c=t.inert,h=t.style.overflow,f,v;function w(){var x=ne,k=te;Ke(null),We(null);try{return a??(a=r()(t,(n==null?void 0:n())??{},{direction:i}))}finally{Ke(x),We(k)}}var b={is_global:s,in(){t.inert=c,gr(t,"introstart"),f=Sn(t,w(),v,1,()=>{gr(t,"introend"),f==null||f.abort(),f=a=void 0,t.style.overflow=h})},out(x){t.inert=!0,gr(t,"outrostart"),v=Sn(t,w(),f,0,()=>{gr(t,"outroend"),x==null||x()})},stop:()=>{f==null||f.abort(),v==null||v.abort()}},_=te;if((_.transitions??(_.transitions=[])).push(b),Rr){var g=s;if(!g){for(var u=_.parent;u&&u.f&Dt;)for(;(u=u.parent)&&!(u.f&Fr););g=!u||(u.f&ss)!==0}g&&dr(()=>{Ge(()=>b.in())})}}function Sn(e,t,r,n,s){var i=n===1;if(kt(t)){var a,c=!1;return Yr(()=>{if(!c){var x=t({direction:i?"in":"out"});a=Sn(e,x,r,n,s)}}),{abort:()=>{c=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:Oe,deactivate:Oe,reset:Oe,t:()=>n};const{delay:h=0,css:f,tick:v,easing:w=Mo}=t;var b=[];if(i&&r===void 0&&(v&&v(0,1),f)){var _=gi(f(0,1));b.push(_,_)}var g=()=>1-n,u=e.animate(b,{duration:h});return u.onfinish=()=>{var x=(r==null?void 0:r.t())??1-n;r==null||r.abort();var k=n-x,l=t.duration*Math.abs(k),o=[];if(l>0){var p=!1;if(f)for(var C=Math.ceil(l/16.666666666666668),P=0;P<=C;P+=1){var D=x+k*w(P/C),S=gi(f(D,1-D));o.push(S),p||(p=S.overflow==="hidden")}p&&(e.style.overflow="hidden"),g=()=>{var O=u.currentTime;return x+k*w(O/l)},v&&Go(()=>{if(u.playState!=="running")return!1;var O=g();return v(O,1-O),!0})}u=e.animate(o,{duration:l,fill:"forwards"}),u.onfinish=()=>{g=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=Oe)},deactivate:()=>{s=Oe},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>g()}}function Uo(e,t,r=t){var n=cr();yo(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=en(e)?tn(i):i,r(i),n&&i!==(i=t())){var a=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(c,e.value.length))}}),Ge(t)==null&&e.value&&r(en(e)?tn(e.value):e.value),Gt(()=>{var s=t();en(e)&&s===tn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function en(e){var t=e.type;return t==="number"||t==="range"}function tn(e){return e===""?null:+e}function pi(e,t){return e===t||(e==null?void 0:e[gt])===t}function Or(e={},t,r,n){return dr(()=>{var s,i;return Gt(()=>{s=i,i=[],Ge(()=>{e!==r(...i)&&(t(e,...i),s&&pi(r(...s),e)&&t(null,...s))})}),()=>{Yr(()=>{i&&pi(r(...i),e)&&t(null,...i)})}}),e}function Nt(e=!1){const t=ee,r=t.l.u;if(!r)return;let n=()=>J(t.s);if(e){let s=0,i={};const a=pe(()=>{let c=!1;const h=t.s;for(const f in h)h[f]!==i[f]&&(i[f]=h[f],c=!0);return c&&s++,s});n=()=>M(a)}r.b.length&&Ka(()=>{vi(t,n),pn(r.b)}),$(()=>{const s=Ge(()=>r.m.map(_a));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&$(()=>{vi(t,n),pn(r.a)})}function vi(e,t){if(e.l.s)for(const r of e.l.s)M(r);t()}function q(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=or(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Ns(e,t,r){if(e==null)return t(void 0),Oe;const n=Ge(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const xt=[];function Us(e,t=Oe){let r=null;const n=new Set;function s(c){if(Gn(e,c)&&(e=c,r)){const h=!xt.length;for(const f of n)f[1](),xt.push(f,e);if(h){for(let f=0;f<xt.length;f+=2)xt[f][0](xt[f+1]);xt.length=0}}}function i(c){s(c(e))}function a(c,h=Oe){const f=[c,h];return n.add(f),n.size===1&&(r=t(s,i)||Oe),c(e),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function Bo(e){let t;return Ns(e,r=>t=r)(),t}let pr=!1,Pn=Symbol();function Xn(e,t,r){const n=r[t]??(r[t]={store:null,source:Ur(void 0),unsubscribe:Oe});if(n.store!==e&&!(Pn in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Oe;else{var s=!0;n.unsubscribe=Ns(e,i=>{s?n.source.v=i:Z(n.source,i)}),s=!1}return e&&Pn in r?Bo(e):M(n.source)}function zn(){const e={};function t(){Cs(()=>{for(var r in e)e[r].unsubscribe();rs(e,Pn,{enumerable:!1,value:!0})})}return[e,t]}function Vo(e){var t=pr;try{return pr=!1,[e(),pr]}finally{pr=t}}const Yo={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Hr(e,t,r){return new Proxy({props:e,exclude:t},Yo)}const jo={get(e,t){if(!e.exclude.includes(t))return M(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=V({get[t](){return e.props[t]}},t,cs)),e.special[t](r),vn(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),vn(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Ye(e,t){return new Proxy({props:e,exclude:t,special:{},version:he(0)},jo)}const Xo={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(kt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];kt(s)&&(s=s());const i=ft(s,t);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(kt(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=ft(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===gt||t===os)return!1;for(let r of e.props)if(kt(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){kt(r)&&(r=r());for(const n in r)t.includes(n)||t.push(n)}return t}};function zo(...e){return new Proxy({props:e},Xo)}function V(e,t,r,n){var P;var s=(r&Fa)!==0,i=!Ot||(r&Ma)!==0,a=(r&Na)!==0,c=(r&Ua)!==0,h=!1,f;a?[f,h]=Vo(()=>e[t]):f=e[t];var v=gt in e||os in e,w=a&&(((P=ft(e,t))==null?void 0:P.set)??(v&&t in e&&(D=>e[t]=D)))||void 0,b=n,_=!0,g=!1,u=()=>(g=!0,_&&(_=!1,c?b=Ge(n):b=n),b);f===void 0&&n!==void 0&&(w&&i&&Pa(),f=u(),w&&w(f));var x;if(i)x=()=>{var D=e[t];return D===void 0?u():(_=!0,g=!1,D)};else{var k=(s?pe:Nn)(()=>e[t]);k.f|=ya,x=()=>{var D=M(k);return D!==void 0&&(b=void 0),D===void 0?b:D}}if(!(r&cs))return x;if(w){var l=e.$$legacy;return function(D,S){return arguments.length>0?((!i||!S||l||h)&&w(S?x():D),D):x()}}var o=!1,p=Ur(f),C=pe(()=>{var D=x(),S=M(p);return o?(o=!1,S):p.v=D});return s||(C.equals=Fn),function(D,S){if(arguments.length>0){const O=S?M(C):i&&a?rt(D):D;return C.equals(O)||(o=!0,Z(p,O),g&&b!==void 0&&(b=O),Ge(()=>M(C))),D}return M(C)}}function Ut(e){ee===null&&Nr(),Ot&&ee.l!==null?qo(ee).m.push(e):$(()=>{const t=Ge(e);if(typeof t=="function")return t})}function ur(e){ee===null&&Nr(),Ut(()=>()=>Ge(e))}function Ho(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function Bs(){const e=ee;return e===null&&Nr(),(t,r,n)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[t];if(s){const a=or(s)?s.slice():[s],c=Ho(t,r,n);for(const h of a)h.call(e.x,c);return!c.defaultPrevented}return!0}}function qo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Ko="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ko);Oa();const Vs=/^[a-z0-9]+(-[a-z0-9]+)*$/,qr=(e,t,r,n="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const c=s.pop(),h=s.pop(),f={provider:s.length>0?s[0]:n,prefix:h,name:c};return t&&!yr(f)?null:f}const i=s[0],a=i.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!yr(c)?null:c}if(r&&n===""){const c={provider:n,prefix:"",name:i};return t&&!yr(c,r)?null:c}return null},yr=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Ys=Object.freeze({left:0,top:0,width:16,height:16}),Ir=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Kr=Object.freeze({...Ys,...Ir}),En=Object.freeze({...Kr,body:"",hidden:!1});function Wo(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function mi(e,t){const r=Wo(e,t);for(const n in En)n in Ir?n in e&&!(n in r)&&(r[n]=Ir[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function Jo(e,t){const r=e.icons,n=e.aliases||Object.create(null),s=Object.create(null);function i(a){if(r[a])return s[a]=[];if(!(a in s)){s[a]=null;const c=n[a]&&n[a].parent,h=c&&i(c);h&&(s[a]=[c].concat(h))}return s[a]}return Object.keys(r).concat(Object.keys(n)).forEach(i),s}function Zo(e,t,r){const n=e.icons,s=e.aliases||Object.create(null);let i={};function a(c){i=mi(n[c]||s[c],i)}return a(t),r.forEach(a),mi(e,i)}function js(e,t){const r=[];if(typeof e!="object"||typeof e.icons!="object")return r;e.not_found instanceof Array&&e.not_found.forEach(s=>{t(s,null),r.push(s)});const n=Jo(e);for(const s in n){const i=n[s];i&&(t(s,Zo(e,s,i)),r.push(s))}return r}const Qo={provider:"",aliases:{},not_found:{},...Ys};function rn(e,t){for(const r in t)if(r in e&&typeof e[r]!=typeof t[r])return!1;return!0}function Xs(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!rn(e,Qo))return null;const r=t.icons;for(const s in r){const i=r[s];if(!s||typeof i.body!="string"||!rn(i,En))return null}const n=t.aliases||Object.create(null);for(const s in n){const i=n[s],a=i.parent;if(!s||typeof a!="string"||!r[a]&&!n[a]||!rn(i,En))return null}return t}const _i=Object.create(null);function $o(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Tt(e,t){const r=_i[e]||(_i[e]=Object.create(null));return r[t]||(r[t]=$o(e,t))}function zs(e,t){return Xs(t)?js(t,(r,n)=>{n?e.icons[r]=n:e.missing.add(r)}):[]}function el(e,t,r){try{if(typeof r.body=="string")return e.icons[t]={...r},!0}catch{}return!1}let sr=!1;function Hs(e){return typeof e=="boolean"&&(sr=e),sr}function tl(e){const t=typeof e=="string"?qr(e,!0,sr):e;if(t){const r=Tt(t.provider,t.prefix),n=t.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function rl(e,t){const r=qr(e,!0,sr);if(!r)return!1;const n=Tt(r.provider,r.prefix);return t?el(n,r.name,t):(n.missing.add(r.name),!0)}function nl(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),sr&&!t&&!e.prefix){let s=!1;return Xs(e)&&(e.prefix="",js(e,(i,a)=>{rl(i,a)&&(s=!0)})),s}const r=e.prefix;if(!yr({prefix:r,name:"a"}))return!1;const n=Tt(t,r);return!!zs(n,e)}const qs=Object.freeze({width:null,height:null}),Ks=Object.freeze({...qs,...Ir}),il=/(-?[0-9.]*[0-9]+[0-9.]*)/g,sl=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function yi(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(il);if(n===null||!n.length)return e;const s=[];let i=n.shift(),a=sl.test(i);for(;;){if(a){const c=parseFloat(i);isNaN(c)?s.push(i):s.push(Math.ceil(c*t*r)/r)}else s.push(i);if(i=n.shift(),i===void 0)return s.join("");a=!a}}function al(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const s=e.indexOf(">",n),i=e.indexOf("</"+t);if(s===-1||i===-1)break;const a=e.indexOf(">",i);if(a===-1)break;r+=e.slice(s+1,i).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function ol(e,t){return e?"<defs>"+e+"</defs>"+t:t}function ll(e,t,r){const n=al(e);return ol(n.defs,t+n.content+r)}const cl=e=>e==="unset"||e==="undefined"||e==="none";function dl(e,t){const r={...Kr,...e},n={...Ks,...t},s={left:r.left,top:r.top,width:r.width,height:r.height};let i=r.body;[r,n].forEach(u=>{const x=[],k=u.hFlip,l=u.vFlip;let o=u.rotate;k?l?o+=2:(x.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),x.push("scale(-1 1)"),s.top=s.left=0):l&&(x.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),x.push("scale(1 -1)"),s.top=s.left=0);let p;switch(o<0&&(o-=Math.floor(o/4)*4),o=o%4,o){case 1:p=s.height/2+s.top,x.unshift("rotate(90 "+p.toString()+" "+p.toString()+")");break;case 2:x.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:p=s.width/2+s.left,x.unshift("rotate(-90 "+p.toString()+" "+p.toString()+")");break}o%2===1&&(s.left!==s.top&&(p=s.left,s.left=s.top,s.top=p),s.width!==s.height&&(p=s.width,s.width=s.height,s.height=p)),x.length&&(i=ll(i,'<g transform="'+x.join(" ")+'">',"</g>"))});const a=n.width,c=n.height,h=s.width,f=s.height;let v,w;a===null?(w=c===null?"1em":c==="auto"?f:c,v=yi(w,h/f)):(v=a==="auto"?h:a,w=c===null?yi(v,f/h):c==="auto"?f:c);const b={},_=(u,x)=>{cl(x)||(b[u]=x.toString())};_("width",v),_("height",w);const g=[s.left,s.top,h,f];return b.viewBox=g.join(" "),{attributes:b,viewBox:g,body:i}}const ul=/\sid="(\S+)"/g,hl="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let fl=0;function gl(e,t=hl){const r=[];let n;for(;n=ul.exec(e);)r.push(n[1]);if(!r.length)return e;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(i=>{const a=typeof t=="function"?t(i):t+(fl++).toString(),c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+a+s+"$3")}),e=e.replace(new RegExp(s,"g"),""),e}const An=Object.create(null);function pl(e,t){An[e]=t}function Tn(e){return An[e]||An[""]}function Hn(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const qn=Object.create(null),Yt=["https://api.simplesvg.com","https://api.unisvg.com"],br=[];for(;Yt.length>0;)Yt.length===1||Math.random()>.5?br.push(Yt.shift()):br.push(Yt.pop());qn[""]=Hn({resources:["https://api.iconify.design"].concat(br)});function vl(e,t){const r=Hn(t);return r===null?!1:(qn[e]=r,!0)}function Kn(e){return qn[e]}const ml=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let bi=ml();function _l(e,t){const r=Kn(e);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let s=0;r.resources.forEach(a=>{s=Math.max(s,a.length)});const i=t+".json?icons=";n=r.maxURL-s-r.path.length-i.length}return n}function yl(e){return e===404}const bl=(e,t,r)=>{const n=[],s=_l(e,t),i="icons";let a={type:i,provider:e,prefix:t,icons:[]},c=0;return r.forEach((h,f)=>{c+=h.length+1,c>=s&&f>0&&(n.push(a),a={type:i,provider:e,prefix:t,icons:[]},c=h.length),a.icons.push(h)}),n.push(a),n};function wl(e){if(typeof e=="string"){const t=Kn(e);if(t)return t.path}return"/"}const Cl=(e,t,r)=>{if(!bi){r("abort",424);return}let n=wl(t.provider);switch(t.type){case"icons":{const i=t.prefix,c=t.icons.join(","),h=new URLSearchParams({icons:c});n+=i+".json?"+h.toString();break}case"custom":{const i=t.uri;n+=i.slice(0,1)==="/"?i.slice(1):i;break}default:r("abort",400);return}let s=503;bi(e+n).then(i=>{const a=i.status;if(a!==200){setTimeout(()=>{r(yl(a)?"abort":"next",a)});return}return s=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?r("abort",i):r("next",s)});return}setTimeout(()=>{r("success",i)})}).catch(()=>{r("next",s)})},xl={prepare:bl,send:Cl};function kl(e){const t={loaded:[],missing:[],pending:[]},r=Object.create(null);e.sort((s,i)=>s.provider!==i.provider?s.provider.localeCompare(i.provider):s.prefix!==i.prefix?s.prefix.localeCompare(i.prefix):s.name.localeCompare(i.name));let n={provider:"",prefix:"",name:""};return e.forEach(s=>{if(n.name===s.name&&n.prefix===s.prefix&&n.provider===s.provider)return;n=s;const i=s.provider,a=s.prefix,c=s.name,h=r[i]||(r[i]=Object.create(null)),f=h[a]||(h[a]=Tt(i,a));let v;c in f.icons?v=t.loaded:a===""||f.missing.has(c)?v=t.missing:v=t.pending;const w={provider:i,prefix:a,name:c};v.push(w)}),t}function Ws(e,t){e.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(s=>s.id!==t))})}function Sl(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let r=!1;const n=e.provider,s=e.prefix;t.forEach(i=>{const a=i.icons,c=a.pending.length;a.pending=a.pending.filter(h=>{if(h.prefix!==s)return!0;const f=h.name;if(e.icons[f])a.loaded.push({provider:n,prefix:s,name:f});else if(e.missing.has(f))a.missing.push({provider:n,prefix:s,name:f});else return r=!0,!0;return!1}),a.pending.length!==c&&(r||Ws([e],i.id),i.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),i.abort))})}))}let Pl=0;function El(e,t,r){const n=Pl++,s=Ws.bind(null,r,n);if(!t.pending.length)return s;const i={id:n,icons:t,callback:e,abort:s};return r.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(i)}),s}function Al(e,t=!0,r=!1){const n=[];return e.forEach(s=>{const i=typeof s=="string"?qr(s,t,r):s;i&&n.push(i)}),n}var Tl={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Rl(e,t,r,n){const s=e.resources.length,i=e.random?Math.floor(Math.random()*s):e.index;let a;if(e.random){let P=e.resources.slice(0);for(a=[];P.length>1;){const D=Math.floor(Math.random()*P.length);a.push(P[D]),P=P.slice(0,D).concat(P.slice(D+1))}a=a.concat(P)}else a=e.resources.slice(i).concat(e.resources.slice(0,i));const c=Date.now();let h="pending",f=0,v,w=null,b=[],_=[];typeof n=="function"&&_.push(n);function g(){w&&(clearTimeout(w),w=null)}function u(){h==="pending"&&(h="aborted"),g(),b.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),b=[]}function x(P,D){D&&(_=[]),typeof P=="function"&&_.push(P)}function k(){return{startTime:c,payload:t,status:h,queriesSent:f,queriesPending:b.length,subscribe:x,abort:u}}function l(){h="failed",_.forEach(P=>{P(void 0,v)})}function o(){b.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),b=[]}function p(P,D,S){const O=D!=="success";switch(b=b.filter(E=>E!==P),h){case"pending":break;case"failed":if(O||!e.dataAfterTimeout)return;break;default:return}if(D==="abort"){v=S,l();return}if(O){v=S,b.length||(a.length?C():l());return}if(g(),o(),!e.random){const E=e.resources.indexOf(P.resource);E!==-1&&E!==e.index&&(e.index=E)}h="completed",_.forEach(E=>{E(S)})}function C(){if(h!=="pending")return;g();const P=a.shift();if(P===void 0){if(b.length){w=setTimeout(()=>{g(),h==="pending"&&(o(),l())},e.timeout);return}l();return}const D={status:"pending",resource:P,callback:(S,O)=>{p(D,S,O)}};b.push(D),f++,w=setTimeout(C,e.rotate),r(P,t,D.callback)}return setTimeout(C),k}function Js(e){const t={...Tl,...e};let r=[];function n(){r=r.filter(c=>c().status==="pending")}function s(c,h,f){const v=Rl(t,c,h,(w,b)=>{n(),f&&f(w,b)});return r.push(v),v}function i(c){return r.find(h=>c(h))||null}return{query:s,find:i,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:n}}function wi(){}const nn=Object.create(null);function Dl(e){if(!nn[e]){const t=Kn(e);if(!t)return;const r=Js(t),n={config:t,redundancy:r};nn[e]=n}return nn[e]}function Ol(e,t,r){let n,s;if(typeof e=="string"){const i=Tn(e);if(!i)return r(void 0,424),wi;s=i.send;const a=Dl(e);a&&(n=a.redundancy)}else{const i=Hn(e);if(i){n=Js(i);const a=e.resources?e.resources[0]:"",c=Tn(a);c&&(s=c.send)}}return!n||!s?(r(void 0,424),wi):n.query(t,s,r)().abort}function Ci(){}function Il(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Sl(e)}))}function Ll(e){const t=[],r=[];return e.forEach(n=>{(n.match(Vs)?t:r).push(n)}),{valid:t,invalid:r}}function jt(e,t,r){function n(){const s=e.pendingIcons;t.forEach(i=>{s&&s.delete(i),e.icons[i]||e.missing.add(i)})}if(r&&typeof r=="object")try{if(!zs(e,r).length){n();return}}catch(s){console.error(s)}n(),Il(e)}function xi(e,t){e instanceof Promise?e.then(r=>{t(r)}).catch(()=>{t(null)}):t(e)}function Gl(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:r,prefix:n}=e,s=e.iconsToLoad;if(delete e.iconsToLoad,!s||!s.length)return;const i=e.loadIcon;if(e.loadIcons&&(s.length>1||!i)){xi(e.loadIcons(s,n,r),v=>{jt(e,s,v)});return}if(i){s.forEach(v=>{const w=i(v,n,r);xi(w,b=>{const _=b?{prefix:n,icons:{[v]:b}}:null;jt(e,[v],_)})});return}const{valid:a,invalid:c}=Ll(s);if(c.length&&jt(e,c,null),!a.length)return;const h=n.match(Vs)?Tn(r):null;if(!h){jt(e,a,null);return}h.prepare(r,n,a).forEach(v=>{Ol(r,v,w=>{jt(e,v.icons,w)})})}))}const Fl=(e,t)=>{const r=Al(e,!0,Hs()),n=kl(r);if(!n.pending.length){let h=!0;return t&&setTimeout(()=>{h&&t(n.loaded,n.missing,n.pending,Ci)}),()=>{h=!1}}const s=Object.create(null),i=[];let a,c;return n.pending.forEach(h=>{const{provider:f,prefix:v}=h;if(v===c&&f===a)return;a=f,c=v,i.push(Tt(f,v));const w=s[f]||(s[f]=Object.create(null));w[v]||(w[v]=[])}),n.pending.forEach(h=>{const{provider:f,prefix:v,name:w}=h,b=Tt(f,v),_=b.pendingIcons||(b.pendingIcons=new Set);_.has(w)||(_.add(w),s[f][v].push(w))}),i.forEach(h=>{const f=s[h.provider][h.prefix];f.length&&Gl(h,f)}),t?El(t,n,i):Ci};function Ml(e,t){const r={...e};for(const n in t){const s=t[n],i=typeof s;n in qs?(s===null||s&&(i==="string"||i==="number"))&&(r[n]=s):i===typeof r[n]&&(r[n]=n==="rotate"?s%4:s)}return r}const Nl=/[\s,]+/;function Ul(e,t){t.split(Nl).forEach(r=>{switch(r.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function Bl(e,t=0){const r=e.replace(/^-?[0-9.]*/,"");function n(s){for(;s<0;)s+=4;return s%4}if(r===""){const s=parseInt(e);return isNaN(s)?0:n(s)}else if(r!==e){let s=0;switch(r){case"%":s=25;break;case"deg":s=90}if(s){let i=parseFloat(e.slice(0,e.length-r.length));return isNaN(i)?0:(i=i/s,i%1===0?n(i):0)}}return t}function Vl(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function Yl(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function jl(e){return"data:image/svg+xml,"+Yl(e)}function Xl(e){return'url("'+jl(e)+'")'}const ki={...Ks,inline:!1},zl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Hl={display:"inline-block"},Rn={"background-color":"currentColor"},Zs={"background-color":"transparent"},Si={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Pi={"-webkit-mask":Rn,mask:Rn,background:Zs};for(const e in Pi){const t=Pi[e];for(const r in Si)t[e+"-"+r]=Si[r]}function ql(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function Kl(e,t){const r=Ml(ki,t),n=t.mode||"svg",s=n==="svg"?{...zl}:{};e.body.indexOf("xlink:")===-1&&delete s["xmlns:xlink"];let i=typeof t.style=="string"?t.style:"";for(let k in t){const l=t[k];if(l!==void 0)switch(k){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":r[k]=l===!0||l==="true"||l===1;break;case"flip":typeof l=="string"&&Ul(r,l);break;case"color":i=i+(i.length>0&&i.trim().slice(-1)!==";"?";":"")+"color: "+l+"; ";break;case"rotate":typeof l=="string"?r[k]=Bl(l):typeof l=="number"&&(r[k]=l);break;case"ariaHidden":case"aria-hidden":l!==!0&&l!=="true"&&delete s["aria-hidden"];break;default:if(k.slice(0,3)==="on:")break;ki[k]===void 0&&(s[k]=l)}}const a=dl(e,r),c=a.attributes;if(r.inline&&(i="vertical-align: -0.125em; "+i),n==="svg"){Object.assign(s,c),i!==""&&(s.style=i);let k=0,l=t.id;return typeof l=="string"&&(l=l.replace(/-/g,"_")),{svg:!0,attributes:s,body:gl(a.body,l?()=>l+"ID"+k++:"iconifySvelte")}}const{body:h,width:f,height:v}=e,w=n==="mask"||(n==="bg"?!1:h.indexOf("currentColor")!==-1),b=Vl(h,{...c,width:f+"",height:v+""}),g={"--svg":Xl(b)},u=k=>{const l=c[k];l&&(g[k]=ql(l))};u("width"),u("height"),Object.assign(g,Hl,w?Rn:Zs);let x="";for(const k in g)x+=k+": "+g[k]+";";return s.style=x+i,{svg:!1,attributes:s}}Hs(!0);pl("",xl);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!nl(n))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let r in t){const n="IconifyProviders["+r+"] is invalid.";try{const s=t[r];if(typeof s!="object"||!s||s.resources===void 0)continue;vl(r,s)||console.error(n)}catch{console.error(n)}}}}function Wl(e,t,r,n,s){function i(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof e=="object"&&e!==null&&typeof e.body=="string")return t.name="",i(),{data:{...Kr,...e}};let a;if(typeof e!="string"||(a=qr(e,!1,!0))===null)return i(),null;const c=tl(a);if(!c)return r&&(!t.loading||t.loading.name!==e)&&(i(),t.name="",t.loading={name:e,abort:Fl([a],n)}),null;i(),t.name!==e&&(t.name=e,s&&!t.destroyed&&s(e));const h=["iconify"];return a.prefix!==""&&h.push("iconify--"+a.prefix),a.provider!==""&&h.push("iconify--"+a.provider),{data:c,classes:h}}function Ei(e,t){return e?Kl({...Kr,...e},t):null}var Jl=wo("<svg><!></svg>"),Zl=Re("<span></span>");function Ai(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]);ke(t,!1);const n=Ie({name:"",loading:null,destroyed:!1});let s=Ie(!1),i=Ie(0),a=Ie();const c=b=>{typeof r.onLoad=="function"&&r.onLoad(b),Bs()("load",{icon:b})};function h(){vn(i)}Ut(()=>{Z(s,!0)}),ur(()=>{$r(n,M(n).destroyed=!0),M(n).loading&&(M(n).loading.abort(),$r(n,M(n).loading=null))}),Ae(()=>(M(i),J(r),M(s),M(n),M(a),Ei),()=>{M(i);const b=!!r.ssr||M(s),_=Wl(r.icon,M(n),b,h,c);Z(a,_?Ei(_.data,r):null),M(a)&&_.classes&&$r(a,M(a).attributes.class=(typeof r.class=="string"?r.class+" ":"")+_.classes.join(" "))}),Lt(),Nt();var f=ce(),v=ae(f);{var w=b=>{var _=ce(),g=ae(_);{var u=k=>{var l=Jl();let o;var p=ve(l);Ro(p,()=>M(a).body),_e(()=>o=Ne(l,o,{...M(a).attributes},void 0,!0)),K(k,l)},x=k=>{var l=Zl();let o;_e(()=>o=Ne(l,o,{...M(a).attributes})),K(k,l)};Te(g,k=>{M(a).svg?k(u):k(x,!1)})}K(b,_)};Te(v,b=>{M(a)&&b(w)})}K(e,f),Se()}function Xt(e){Z(e,e.v+1)}const Wn="-",Ql=e=>{const t=ec(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const c=a.split(Wn);return c[0]===""&&c.length!==1&&c.shift(),Qs(c,t)||$l(a)},getConflictingClassGroupIds:(a,c)=>{const h=r[a]||[];return c&&n[a]?[...h,...n[a]]:h}}},Qs=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Qs(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Wn);return(a=t.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},Ti=/^\[(.+)\]$/,$l=e=>{if(Ti.test(e)){const t=Ti.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ec=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return rc(Object.entries(e.classGroups),r).forEach(([i,a])=>{Dn(a,n,i,t)}),n},Dn=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ri(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(tc(s)){Dn(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Dn(a,Ri(t,i),r,n)})})},Ri=(e,t)=>{let r=e;return t.split(Wn).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tc=e=>e.isThemeGetter,rc=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[t+a,c])):i);return[r,s]}):e,nc=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},$s="!",ic=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=c=>{const h=[];let f=0,v=0,w;for(let x=0;x<c.length;x++){let k=c[x];if(f===0){if(k===s&&(n||c.slice(x,x+i)===t)){h.push(c.slice(v,x)),v=x+i;continue}if(k==="/"){w=x;continue}}k==="["?f++:k==="]"&&f--}const b=h.length===0?c:c.substring(v),_=b.startsWith($s),g=_?b.substring(1):b,u=w&&w>v?w-v:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:g,maybePostfixModifierPosition:u}};return r?c=>r({className:c,parseClassName:a}):a},sc=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ac=e=>({cache:nc(e.cacheSize),parseClassName:ic(e),...Ql(e)}),oc=/\s+/,lc=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(oc);let c="";for(let h=a.length-1;h>=0;h-=1){const f=a[h],{modifiers:v,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:_}=r(f);let g=!!_,u=n(g?b.substring(0,_):b);if(!u){if(!g){c=f+(c.length>0?" "+c:c);continue}if(u=n(b),!u){c=f+(c.length>0?" "+c:c);continue}g=!1}const x=sc(v).join(":"),k=w?x+$s:x,l=k+u;if(i.includes(l))continue;i.push(l);const o=s(u,g);for(let p=0;p<o.length;++p){const C=o[p];i.push(k+C)}c=f+(c.length>0?" "+c:c)}return c};function cc(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=ea(t))&&(n&&(n+=" "),n+=r);return n}const ea=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=ea(e[n]))&&(r&&(r+=" "),r+=t);return r};function dc(e,...t){let r,n,s,i=a;function a(h){const f=t.reduce((v,w)=>w(v),e());return r=ac(f),n=r.cache.get,s=r.cache.set,i=c,c(h)}function c(h){const f=n(h);if(f)return f;const v=lc(h,r);return s(h,v),v}return function(){return i(cc.apply(null,arguments))}}const le=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ta=/^\[(?:([a-z-]+):)?(.+)\]$/i,uc=/^\d+\/\d+$/,hc=new Set(["px","full","screen"]),fc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ze=e=>Et(e)||hc.has(e)||uc.test(e),lt=e=>Bt(e,"length",Sc),Et=e=>!!e&&!Number.isNaN(Number(e)),sn=e=>Bt(e,"number",Et),zt=e=>!!e&&Number.isInteger(Number(e)),_c=e=>e.endsWith("%")&&Et(e.slice(0,-1)),X=e=>ta.test(e),ct=e=>fc.test(e),yc=new Set(["length","size","percentage"]),bc=e=>Bt(e,yc,ra),wc=e=>Bt(e,"position",ra),Cc=new Set(["image","url"]),xc=e=>Bt(e,Cc,Ec),kc=e=>Bt(e,"",Pc),Ht=()=>!0,Bt=(e,t,r)=>{const n=ta.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Sc=e=>gc.test(e)&&!pc.test(e),ra=()=>!1,Pc=e=>vc.test(e),Ec=e=>mc.test(e),Ac=()=>{const e=le("colors"),t=le("spacing"),r=le("blur"),n=le("brightness"),s=le("borderColor"),i=le("borderRadius"),a=le("borderSpacing"),c=le("borderWidth"),h=le("contrast"),f=le("grayscale"),v=le("hueRotate"),w=le("invert"),b=le("gap"),_=le("gradientColorStops"),g=le("gradientColorStopPositions"),u=le("inset"),x=le("margin"),k=le("opacity"),l=le("padding"),o=le("saturate"),p=le("scale"),C=le("sepia"),P=le("skew"),D=le("space"),S=le("translate"),O=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",X,t],L=()=>[X,t],d=()=>["",Ze,lt],y=()=>["auto",Et,X],m=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",X],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Et,X];return{cacheSize:500,separator:":",theme:{colors:[Ht],spacing:[Ze,lt],blur:["none","",ct,X],brightness:B(),borderColor:[e],borderRadius:["none","","full",ct,X],borderSpacing:L(),borderWidth:d(),contrast:B(),grayscale:N(),hueRotate:B(),invert:N(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[_c,lt],inset:I(),margin:I(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:N(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[ct]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...m(),X]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zt,X]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",zt,X]}],"grid-cols":[{"grid-cols":[Ht]}],"col-start-end":[{col:["auto",{span:["full",zt,X]},X]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[Ht]}],"row-start-end":[{row:["auto",{span:[zt,X]},X]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[l]}],px:[{px:[l]}],py:[{py:[l]}],ps:[{ps:[l]}],pe:[{pe:[l]}],pt:[{pt:[l]}],pr:[{pr:[l]}],pb:[{pb:[l]}],pl:[{pl:[l]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,t]}],"min-w":[{"min-w":[X,t,"min","max","fit"]}],"max-w":[{"max-w":[X,t,"none","full","min","max","fit","prose",{screen:[ct]},ct]}],h:[{h:[X,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ct,lt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sn]}],"font-family":[{font:[Ht]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",Et,sn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ze,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ze,lt]}],"underline-offset":[{"underline-offset":["auto",Ze,X]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...m(),wc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xc]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Ze,X]}],"outline-w":[{outline:[Ze,lt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:d()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Ze,lt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ct,kc]}],"shadow-color":[{shadow:[Ht]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",ct,X]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[o]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[o]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[zt,X]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ze,lt,sn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rt=dc(Ac),Tc={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""};function Rc(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]),n=Ye(r,["tag","color","rounded","border","shadow","node","use","options","role","transition","params","open"]);ke(t,!1);const s=()=>{};Sr("background",!0);let i=V(t,"tag",24,()=>n.href?"a":"div"),a=V(t,"color",12,"default"),c=V(t,"rounded",8,!1),h=V(t,"border",8,!1),f=V(t,"shadow",8,!1),v=V(t,"node",28,()=>{}),w=V(t,"use",8,s),b=V(t,"options",24,()=>({})),_=V(t,"role",24,()=>{}),g=V(t,"transition",24,()=>{}),u=V(t,"params",24,()=>({})),x=V(t,"open",8,!0);const k=Bs(),l={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},o={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let p=Ie();Ae(()=>J(x()),()=>{k(x()?"open":"close")}),Ae(()=>J(x()),()=>{k("show",x())}),Ae(()=>J(a()),()=>{a(a()??"default")}),Ae(()=>J(a()),()=>{Sr("color",a())}),Ae(()=>(J(a()),J(c()),J(h()),J(f()),J(r)),()=>{Z(p,Rt(Tc[a()],l[a()],c()&&"rounded-lg",h()&&"border",o[a()],f()&&"shadow-md",r.class))}),Lt(),Nt();var C=ce(),P=ae(C);{var D=O=>{var E=ce(),I=ae(E);Cn(I,i,!1,(L,d)=>{hi(L,(T,G)=>{var N;return(N=w())==null?void 0:N(T,G)},b),Or(L,T=>v(T),()=>v());let y;_e(()=>y=Ne(L,y,{role:_(),...n,class:M(p)},void 0,L.namespaceURI===kr,L.nodeName.includes("-"))),No(3,L,g,u),Q("click",L,function(T){q.call(this,t,T)}),Q("mouseenter",L,function(T){q.call(this,t,T)}),Q("mouseleave",L,function(T){q.call(this,t,T)}),Q("focusin",L,function(T){q.call(this,t,T)}),Q("focusout",L,function(T){q.call(this,t,T)});var m=ce(),A=ae(m);He(A,t,"default",{}),K(d,m)}),K(O,E)},S=O=>{var E=ce(),I=ae(E);{var L=d=>{var y=ce(),m=ae(y);Cn(m,i,!1,(A,T)=>{hi(A,(B,j)=>{var H;return(H=w())==null?void 0:H(B,j)},b),Or(A,B=>v(B),()=>v());let G;_e(()=>G=Ne(A,G,{role:_(),...n,class:M(p)},void 0,A.namespaceURI===kr,A.nodeName.includes("-"))),Q("click",A,function(B){q.call(this,t,B)}),Q("mouseenter",A,function(B){q.call(this,t,B)}),Q("mouseleave",A,function(B){q.call(this,t,B)}),Q("focusin",A,function(B){q.call(this,t,B)}),Q("focusout",A,function(B){q.call(this,t,B)});var N=ce(),U=ae(N);He(U,t,"default",{}),K(T,N)}),K(d,y)};Te(I,d=>{x()&&d(L)},!0)}K(O,E)};Te(P,O=>{g()&&x()?O(D):O(S,!1)})}K(e,C),Se()}var Dc=Re("<a><!></a>"),Oc=Re("<label><!></label>"),Ic=Re("<button><!></button>");function Lc(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]),n=Ye(r,["pill","outline","size","href","type","color","shadow","tag","checked","disabled"]);ke(t,!1);const s=Mn("group");let i=V(t,"pill",8,!1),a=V(t,"outline",8,!1),c=V(t,"size",8,s?"sm":"md"),h=V(t,"href",24,()=>{}),f=V(t,"type",8,"button"),v=V(t,"color",24,()=>s?a()?"dark":"alternative":"primary"),w=V(t,"shadow",8,!1),b=V(t,"tag",8,"button"),_=V(t,"checked",24,()=>{}),g=V(t,"disabled",8,!1);const u={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white dark:hover:bg-gray-700",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},x={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},k={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},l={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},o={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},p={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},C=()=>a()||v()==="alternative"||v()==="light";let P=Ie();Ae(()=>(J(c()),J(a()),J(_()),J(v()),J(i()),J(w()),J(g()),J(r)),()=>{Z(P,Rt("text-center font-medium",s?"focus-within:ring-2":"focus-within:ring-4",s&&"focus-within:z-10",s||"focus-within:outline-none","inline-flex items-center justify-center "+p[c()],a()&&_()&&"border dark:border-gray-900",a()&&_()&&x[v()],a()&&!_()&&o[v()],!a()&&_()&&x[v()],!a()&&!_()&&u[v()],v()==="alternative"&&(s&&!_()?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-600"),a()&&v()==="dark"&&(s?_()?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),k[v()],C()&&s&&"[&:not(:first-child)]:-ms-px",s?i()&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":i()&&"rounded-full"||"rounded-lg",w()&&"shadow-lg",w()&&l[v()],g()&&"cursor-not-allowed opacity-50",r.class))}),Lt(),Nt();var D=ce(),S=ae(D);{var O=I=>{var L=Dc();let d;var y=ve(L);He(y,t,"default",{}),_e(()=>d=Ne(L,d,{href:h(),...n,class:M(P),role:"button"})),Q("click",L,function(m){q.call(this,t,m)}),Q("change",L,function(m){q.call(this,t,m)}),Q("keydown",L,function(m){q.call(this,t,m)}),Q("keyup",L,function(m){q.call(this,t,m)}),Q("touchstart",L,function(m){q.call(this,t,m)},void 0,!0),Q("touchend",L,function(m){q.call(this,t,m)}),Q("touchcancel",L,function(m){q.call(this,t,m)}),Q("mouseenter",L,function(m){q.call(this,t,m)}),Q("mouseleave",L,function(m){q.call(this,t,m)}),K(I,L)},E=I=>{var L=ce(),d=ae(L);{var y=A=>{var T=Oc();let G;var N=ve(T);He(N,t,"default",{}),_e(()=>G=Ne(T,G,{...n,class:M(P)})),K(A,T)},m=A=>{var T=ce(),G=ae(T);{var N=B=>{var j=Ic();let H;var W=ve(j);He(W,t,"default",{}),_e(()=>H=Ne(j,H,{type:f(),...n,disabled:g(),class:M(P)})),Q("click",j,function(z){q.call(this,t,z)}),Q("change",j,function(z){q.call(this,t,z)}),Q("keydown",j,function(z){q.call(this,t,z)}),Q("keyup",j,function(z){q.call(this,t,z)}),Q("touchstart",j,function(z){q.call(this,t,z)},void 0,!0),Q("touchend",j,function(z){q.call(this,t,z)}),Q("touchcancel",j,function(z){q.call(this,t,z)}),Q("mouseenter",j,function(z){q.call(this,t,z)}),Q("mouseleave",j,function(z){q.call(this,t,z)}),K(B,j)},U=B=>{var j=ce(),H=ae(j);Cn(H,b,!1,(W,z)=>{let ie;_e(()=>ie=Ne(W,ie,{...n,class:M(P)},void 0,W.namespaceURI===kr,W.nodeName.includes("-")));var R=ce(),F=ae(R);He(F,t,"default",{}),K(z,R)}),K(B,j)};Te(G,B=>{b()==="button"?B(N):B(U,!1)},!0)}K(A,T)};Te(d,A=>{b()==="label"?A(y):A(m,!1)},!0)}K(I,L)};Te(S,I=>{h()&&!g()?I(O):I(E,!1)})}K(e,D),Se()}var Gc=Re('<img alt=""> <div><!></div>',1);function Fc(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]),n=Ye(r,["href","horizontal","reverse","img","padding","size","imgClass"]);ke(t,!1);let s=V(t,"href",24,()=>{}),i=V(t,"horizontal",8,!1),a=V(t,"reverse",8,!1),c=V(t,"img",24,()=>{}),h=V(t,"padding",8,"lg"),f=V(t,"size",8,"sm"),v=V(t,"imgClass",8,"");const w={none:"",xs:"p-2",sm:"p-4",md:"p-4 sm:p-5",lg:"p-4 sm:p-6",xl:"p-4 sm:p-8"},b={none:"",xs:"max-w-xs",sm:"max-w-sm",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-screen-xl"};let _=Ie(),g=Ie(),u=Ie();Ae(()=>J(h()),()=>{Z(_,w[h()])}),Ae(()=>(J(f()),J(a()),J(i()),J(s()),J(c()),M(_),J(r)),()=>{Z(g,Rt("flex w-full",b[f()],a()?"flex-col-reverse":"flex-col",i()&&(a()?"md:flex-row-reverse":"md:flex-row"),s()&&"hover:bg-gray-100 dark:hover:bg-gray-700",!c()&&M(_),r.class))}),Ae(()=>(J(a()),J(i()),J(v())),()=>{Z(u,Rt(a()?"rounded-b-lg":"rounded-t-lg",i()&&"object-cover w-full h-96 md:h-auto md:w-48 md:rounded-none",i()&&(a()?"md:rounded-e-lg":"md:rounded-s-lg"),v()))}),Lt(),Nt();const x=Nn(()=>s()?"a":"div");Rc(e,zo({get tag(){return M(x)},rounded:!0,shadow:!0,border:!0,get href(){return s()}},()=>n,{get class(){return M(g)},$$events:{click(k){q.call(this,t,k)},focusin(k){q.call(this,t,k)},focusout(k){q.call(this,t,k)},mouseenter(k){q.call(this,t,k)},mouseleave(k){q.call(this,t,k)}},children:(k,l)=>{var o=ce(),p=ae(o);{var C=D=>{var S=Gc(),O=ae(S),E=Me(O,2),I=ve(E);He(I,t,"default",{}),_e(()=>{kn(O,xn(M(u))),jn(O,"src",c()),kn(E,xn(M(_)))}),K(D,S)},P=D=>{var S=ce(),O=ae(S);He(O,t,"default",{}),K(D,S)};Te(p,D=>{c()?D(C):D(P,!1)})}K(k,o)},$$slots:{default:!0}})),Se()}var Mc=Re("<label><!></label>");function Nc(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]),n=Ye(r,["color","defaultClass","show"]);ke(t,!1);const s=Ie();let i=V(t,"color",12,"gray"),a=V(t,"defaultClass",8,"text-sm rtl:text-right font-medium block"),c=V(t,"show",8,!0),h=Ie();const f={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500 grayscale contrast-50"};Ae(()=>(M(h),J(i())),()=>{var u;const g=(u=M(h))==null?void 0:u.control;i(g!=null&&g.disabled?"disabled":i())}),Ae(()=>(J(a()),J(i()),J(r)),()=>{Z(s,Rt(a(),f[i()],r.class))}),Lt(),Nt();var v=ce(),w=ae(v);{var b=g=>{var u=Mc();let x;var k=ve(u);He(k,t,"default",{}),Or(u,l=>Z(h,l),()=>M(h)),_e(()=>x=Ne(u,x,{...n,class:M(s)})),K(g,u)},_=g=>{var u=ce(),x=ae(u);He(x,t,"default",{}),K(g,u)};Te(w,g=>{c()?g(b):g(_,!1)})}K(e,v),Se()}var Uc=Re("<input>");function Bc(e,t){const r=Ye(t,["children","$$slots","$$events","$$legacy"]),n=Ye(r,["value","size"]);ke(t,!1);let s=V(t,"value",12,0),i=V(t,"size",8,"md");const a={sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"};let c=Ie();Ae(()=>(J(i()),J(r)),()=>{Z(c,Rt("w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",a[i()]??a.md,r.class))}),Lt(),Nt();var h=Uc();let f;_e(()=>f=Ne(h,f,{type:"range",...n,class:M(c)})),Uo(h,s),Q("change",h,function(v){q.call(this,t,v)}),Q("click",h,function(v){q.call(this,t,v)}),Q("keydown",h,function(v){q.call(this,t,v)}),Q("keypress",h,function(v){q.call(this,t,v)}),Q("keyup",h,function(v){q.call(this,t,v)}),K(e,h),Se()}var je,Xe,tt,At,wr;const Zn=class Zn extends Map{constructor(r){super();Vt(this,At);Vt(this,je,new Map);Vt(this,Xe,he(0));Vt(this,tt,he(0));if(r){for(var[n,s]of r)super.set(n,s);ue(this,tt).v=super.size}}has(r){var n=ue(this,je),s=n.get(r);if(s===void 0){var i=super.get(r);if(i!==void 0)s=he(0),n.set(r,s);else return M(ue(this,Xe)),!1}return M(s),!0}forEach(r,n){fr(this,At,wr).call(this),super.forEach(r,n)}get(r){var n=ue(this,je),s=n.get(r);if(s===void 0){var i=super.get(r);if(i!==void 0)s=he(0),n.set(r,s);else{M(ue(this,Xe));return}}return M(s),super.get(r)}set(r,n){var w;var s=ue(this,je),i=s.get(r),a=super.get(r),c=super.set(r,n),h=ue(this,Xe);if(i===void 0)s.set(r,he(0)),Z(ue(this,tt),super.size),Xt(h);else if(a!==n){Xt(i);var f=h.reactions===null?null:new Set(h.reactions),v=f===null||!((w=i.reactions)!=null&&w.every(b=>f.has(b)));v&&Xt(h)}return c}delete(r){var n=ue(this,je),s=n.get(r),i=super.delete(r);return s!==void 0&&(n.delete(r),Z(ue(this,tt),super.size),Z(s,-1),Xt(ue(this,Xe))),i}clear(){if(super.size!==0){super.clear();var r=ue(this,je);Z(ue(this,tt),0);for(var n of r.values())Z(n,-1);Xt(ue(this,Xe)),r.clear()}}keys(){return M(ue(this,Xe)),super.keys()}values(){return fr(this,At,wr).call(this),super.values()}entries(){return fr(this,At,wr).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return M(ue(this,tt)),super.size}};je=new WeakMap,Xe=new WeakMap,tt=new WeakMap,At=new WeakSet,wr=function(){M(ue(this,Xe));var r=ue(this,je);if(ue(this,tt).v!==r.size)for(var n of ei(Zn.prototype,this,"keys").call(this))r.has(n)||r.set(n,he(0));for(var[,s]of ue(this,je))M(s)};let On=Zn;var Di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var an={},on={},ln={},Oi;function ge(){return Oi||(Oi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof Di<"u"?Di:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.18",isBrowser:r(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return e.Konva.angleDeg?s*t:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var s;return(s=e.Konva.Transformer)===null||s===void 0?void 0:s.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(s){e.glob.Konva=s}};const n=s=>{e.Konva[s.prototype.getClassName()]=s};e._registerNode=n,e.Konva._injectGlobal(e.Konva)}(ln)),ln}var Ii;function we(){return Ii||(Ii=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=ge();class r{constructor(p=[1,0,0,1,0,0]){this.dirty=!1,this.m=p&&p.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(p){p.m[0]=this.m[0],p.m[1]=this.m[1],p.m[2]=this.m[2],p.m[3]=this.m[3],p.m[4]=this.m[4],p.m[5]=this.m[5]}point(p){const C=this.m;return{x:C[0]*p.x+C[2]*p.y+C[4],y:C[1]*p.x+C[3]*p.y+C[5]}}translate(p,C){return this.m[4]+=this.m[0]*p+this.m[2]*C,this.m[5]+=this.m[1]*p+this.m[3]*C,this}scale(p,C){return this.m[0]*=p,this.m[1]*=p,this.m[2]*=C,this.m[3]*=C,this}rotate(p){const C=Math.cos(p),P=Math.sin(p),D=this.m[0]*C+this.m[2]*P,S=this.m[1]*C+this.m[3]*P,O=this.m[0]*-P+this.m[2]*C,E=this.m[1]*-P+this.m[3]*C;return this.m[0]=D,this.m[1]=S,this.m[2]=O,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(p,C){const P=this.m[0]+this.m[2]*C,D=this.m[1]+this.m[3]*C,S=this.m[2]+this.m[0]*p,O=this.m[3]+this.m[1]*p;return this.m[0]=P,this.m[1]=D,this.m[2]=S,this.m[3]=O,this}multiply(p){const C=this.m[0]*p.m[0]+this.m[2]*p.m[1],P=this.m[1]*p.m[0]+this.m[3]*p.m[1],D=this.m[0]*p.m[2]+this.m[2]*p.m[3],S=this.m[1]*p.m[2]+this.m[3]*p.m[3],O=this.m[0]*p.m[4]+this.m[2]*p.m[5]+this.m[4],E=this.m[1]*p.m[4]+this.m[3]*p.m[5]+this.m[5];return this.m[0]=C,this.m[1]=P,this.m[2]=D,this.m[3]=S,this.m[4]=O,this.m[5]=E,this}invert(){const p=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*p,P=-this.m[1]*p,D=-this.m[2]*p,S=this.m[0]*p,O=p*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=p*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=P,this.m[2]=D,this.m[3]=S,this.m[4]=O,this.m[5]=E,this}getMatrix(){return this.m}decompose(){const p=this.m[0],C=this.m[1],P=this.m[2],D=this.m[3],S=this.m[4],O=this.m[5],E=p*D-C*P,I={x:S,y:O,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(p!=0||C!=0){const L=Math.sqrt(p*p+C*C);I.rotation=C>0?Math.acos(p/L):-Math.acos(p/L),I.scaleX=L,I.scaleY=E/L,I.skewX=(p*P+C*D)/E,I.skewY=0}else if(P!=0||D!=0){const L=Math.sqrt(P*P+D*D);I.rotation=Math.PI/2-(D>0?Math.acos(-P/L):-Math.acos(P/L)),I.scaleX=E/L,I.scaleY=L,I.skewX=0,I.skewY=(p*P+C*D)/E}return I.rotation=e.Util._getRotation(I.rotation),I}}e.Transform=r;const n="[object Array]",s="[object Number]",i="[object String]",a="[object Boolean]",c=Math.PI/180,h=180/Math.PI,f="#",v="",w="0",b="Konva warning: ",_="Konva error: ",g="rgb(",u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let k=[];const l=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(o){setTimeout(o,60)};e.Util={_isElement(o){return!!(o&&o.nodeType==1)},_isFunction(o){return!!(o&&o.constructor&&o.call&&o.apply)},_isPlainObject(o){return!!o&&o.constructor===Object},_isArray(o){return Object.prototype.toString.call(o)===n},_isNumber(o){return Object.prototype.toString.call(o)===s&&!isNaN(o)&&isFinite(o)},_isString(o){return Object.prototype.toString.call(o)===i},_isBoolean(o){return Object.prototype.toString.call(o)===a},isObject(o){return o instanceof Object},isValidSelector(o){if(typeof o!="string")return!1;const p=o[0];return p==="#"||p==="."||p===p.toUpperCase()},_sign(o){return o===0||o>0?1:-1},requestAnimFrame(o){k.push(o),k.length===1&&l(function(){const p=k;k=[],p.forEach(function(C){C()})})},createCanvasElement(){const o=document.createElement("canvas");try{o.style=o.style||{}}catch{}return o},createImageElement(){return document.createElement("img")},_isInDocument(o){for(;o=o.parentNode;)if(o==document)return!0;return!1},_urlToImage(o,p){const C=e.Util.createImageElement();C.onload=function(){p(C)},C.src=o},_rgbToHex(o,p,C){return((1<<24)+(o<<16)+(p<<8)+C).toString(16).slice(1)},_hexToRgb(o){o=o.replace(f,v);const p=parseInt(o,16);return{r:p>>16&255,g:p>>8&255,b:p&255}},getRandomColor(){let o=(Math.random()*16777215<<0).toString(16);for(;o.length<6;)o=w+o;return f+o},getRGB(o){let p;return o in u?(p=u[o],{r:p[0],g:p[1],b:p[2]}):o[0]===f?this._hexToRgb(o.substring(1)):o.substr(0,4)===g?(p=x.exec(o.replace(/ /g,"")),{r:parseInt(p[1],10),g:parseInt(p[2],10),b:parseInt(p[3],10)}):{r:0,g:0,b:0}},colorToRGBA(o){return o=o||"black",e.Util._namedColorToRBA(o)||e.Util._hex3ColorToRGBA(o)||e.Util._hex4ColorToRGBA(o)||e.Util._hex6ColorToRGBA(o)||e.Util._hex8ColorToRGBA(o)||e.Util._rgbColorToRGBA(o)||e.Util._rgbaColorToRGBA(o)||e.Util._hslColorToRGBA(o)},_namedColorToRBA(o){const p=u[o.toLowerCase()];return p?{r:p[0],g:p[1],b:p[2],a:1}:null},_rgbColorToRGBA(o){if(o.indexOf("rgb(")===0){o=o.match(/rgb\(([^)]+)\)/)[1];const p=o.split(/ *, */).map(Number);return{r:p[0],g:p[1],b:p[2],a:1}}},_rgbaColorToRGBA(o){if(o.indexOf("rgba(")===0){o=o.match(/rgba\(([^)]+)\)/)[1];const p=o.split(/ *, */).map((C,P)=>C.slice(-1)==="%"?P===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:p[0],g:p[1],b:p[2],a:p[3]}}},_hex8ColorToRGBA(o){if(o[0]==="#"&&o.length===9)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:parseInt(o.slice(7,9),16)/255}},_hex6ColorToRGBA(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:1}},_hex4ColorToRGBA(o){if(o[0]==="#"&&o.length===5)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:parseInt(o[4]+o[4],16)/255}},_hex3ColorToRGBA(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:1}},_hslColorToRGBA(o){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(o)){const[p,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(o),P=Number(C[0])/360,D=Number(C[1])/100,S=Number(C[2])/100;let O,E,I;if(D===0)return I=S*255,{r:Math.round(I),g:Math.round(I),b:Math.round(I),a:1};S<.5?O=S*(1+D):O=S+D-S*D;const L=2*S-O,d=[0,0,0];for(let y=0;y<3;y++)E=P+1/3*-(y-1),E<0&&E++,E>1&&E--,6*E<1?I=L+(O-L)*6*E:2*E<1?I=O:3*E<2?I=L+(O-L)*(2/3-E)*6:I=L,d[y]=I*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(o,p){return!(p.x>o.x+o.width||p.x+p.width<o.x||p.y>o.y+o.height||p.y+p.height<o.y)},cloneObject(o){const p={};for(const C in o)this._isPlainObject(o[C])?p[C]=this.cloneObject(o[C]):this._isArray(o[C])?p[C]=this.cloneArray(o[C]):p[C]=o[C];return p},cloneArray(o){return o.slice(0)},degToRad(o){return o*c},radToDeg(o){return o*h},_degToRad(o){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(o)},_radToDeg(o){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(o)},_getRotation(o){return t.Konva.angleDeg?e.Util.radToDeg(o):o},_capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)},throw(o){throw new Error(_+o)},error(o){console.error(_+o)},warn(o){t.Konva.showWarnings&&console.warn(b+o)},each(o,p){for(const C in o)p(C,o[C])},_inRange(o,p,C){return p<=o&&o<C},_getProjectionToSegment(o,p,C,P,D,S){let O,E,I;const L=(o-C)*(o-C)+(p-P)*(p-P);if(L==0)O=o,E=p,I=(D-C)*(D-C)+(S-P)*(S-P);else{const d=((D-o)*(C-o)+(S-p)*(P-p))/L;d<0?(O=o,E=p,I=(o-D)*(o-D)+(p-S)*(p-S)):d>1?(O=C,E=P,I=(C-D)*(C-D)+(P-S)*(P-S)):(O=o+d*(C-o),E=p+d*(P-p),I=(O-D)*(O-D)+(E-S)*(E-S))}return[O,E,I]},_getProjectionToLine(o,p,C){const P=e.Util.cloneObject(o);let D=Number.MAX_VALUE;return p.forEach(function(S,O){if(!C&&O===p.length-1)return;const E=p[(O+1)%p.length],I=e.Util._getProjectionToSegment(S.x,S.y,E.x,E.y,o.x,o.y),L=I[0],d=I[1],y=I[2];y<D&&(P.x=L,P.y=d,D=y)}),P},_prepareArrayForTween(o,p,C){const P=[],D=[];if(o.length>p.length){const O=p;p=o,o=O}for(let O=0;O<o.length;O+=2)P.push({x:o[O],y:o[O+1]});for(let O=0;O<p.length;O+=2)D.push({x:p[O],y:p[O+1]});const S=[];return D.forEach(function(O){const E=e.Util._getProjectionToLine(O,P,C);S.push(E.x),S.push(E.y)}),S},_prepareToStringify(o){let p;o.visitedByCircularReferenceRemoval=!0;for(const C in o)if(o.hasOwnProperty(C)&&o[C]&&typeof o[C]=="object"){if(p=Object.getOwnPropertyDescriptor(o,C),o[C].visitedByCircularReferenceRemoval||e.Util._isElement(o[C]))if(p.configurable)delete o[C];else return null;else if(e.Util._prepareToStringify(o[C])===null)if(p.configurable)delete o[C];else return null}return delete o.visitedByCircularReferenceRemoval,o},_assign(o,p){for(const C in p)o[C]=p[C];return o},_getFirstPointerId(o){return o.touches?o.changedTouches[0].identifier:o.pointerId||999},releaseCanvas(...o){t.Konva.releaseCanvasOnDestroy&&o.forEach(p=>{p.width=0,p.height=0})},drawRoundedRectPath(o,p,C,P){let D=0,S=0,O=0,E=0;typeof P=="number"?D=S=O=E=Math.min(P,p/2,C/2):(D=Math.min(P[0]||0,p/2,C/2),S=Math.min(P[1]||0,p/2,C/2),E=Math.min(P[2]||0,p/2,C/2),O=Math.min(P[3]||0,p/2,C/2)),o.moveTo(D,0),o.lineTo(p-S,0),o.arc(p-S,S,S,Math.PI*3/2,0,!1),o.lineTo(p,C-E),o.arc(p-E,C-E,E,0,Math.PI/2,!1),o.lineTo(O,C),o.arc(O,C-O,O,Math.PI/2,Math.PI,!1),o.lineTo(0,D),o.arc(D,D,D,Math.PI,Math.PI*3/2,!1)}}}(on)),on}var Ce={},Li;function _t(){if(Li)return Ce;Li=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.RGBComponent=n,Ce.alphaComponent=s,Ce.getNumberValidator=i,Ce.getNumberOrArrayOfNumbersValidator=a,Ce.getNumberOrAutoValidator=c,Ce.getStringValidator=h,Ce.getStringOrGradientValidator=f,Ce.getFunctionValidator=v,Ce.getNumberArrayValidator=w,Ce.getBooleanValidator=b,Ce.getComponentValidator=_;const e=ge(),t=we();function r(g){return t.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||t.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function n(g){return g>255?255:g<0?0:Math.round(g)}function s(g){return g>1?1:g<1e-4?1e-4:g}function i(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isNumber(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a number.'),g}}function a(g){if(e.Konva.isUnminified)return function(u,x){let k=t.Util._isNumber(u),l=t.Util._isArray(u)&&u.length==g;return!k&&!l&&t.Util.warn(r(u)+' is a not valid value for "'+x+'" attribute. The value should be a number or Array<number>('+g+")"),u}}function c(){if(e.Konva.isUnminified)return function(g,u){var x=t.Util._isNumber(g),k=g==="auto";return x||k||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a number or "auto".'),g}}function h(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isString(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a string.'),g}}function f(){if(e.Konva.isUnminified)return function(g,u){const x=t.Util._isString(g),k=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return x||k||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a string or a native gradient.'),g}}function v(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isFunction(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a function.'),g}}function w(){if(e.Konva.isUnminified)return function(g,u){const x=Int8Array?Object.getPrototypeOf(Int8Array):null;return x&&g instanceof x||(t.Util._isArray(g)?g.forEach(function(k){t.Util._isNumber(k)||t.Util.warn('"'+u+'" attribute has non numeric element '+k+". Make sure that all elements are numbers.")}):t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a array of numbers.')),g}}function b(){if(e.Konva.isUnminified)return function(g,u){var x=g===!0||g===!1;return x||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a boolean.'),g}}function _(g){if(e.Konva.isUnminified)return function(u,x){return u==null||t.Util.isObject(u)||t.Util.warn(r(u)+' is a not valid value for "'+x+'" attribute. The value should be an object with properties '+g),u}}return Ce}var Gi;function yt(){return Gi||(Gi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=we(),r=_t(),n="get",s="set";e.Factory={addGetterSetter(i,a,c,h,f){e.Factory.addGetter(i,a,c),e.Factory.addSetter(i,a,h,f),e.Factory.addOverloadedGetterSetter(i,a)},addGetter(i,a,c){var h=n+t.Util._capitalize(a);i.prototype[h]=i.prototype[h]||function(){const f=this.attrs[a];return f===void 0?c:f}},addSetter(i,a,c,h){var f=s+t.Util._capitalize(a);i.prototype[f]||e.Factory.overWriteSetter(i,a,c,h)},overWriteSetter(i,a,c,h){var f=s+t.Util._capitalize(a);i.prototype[f]=function(v){return c&&v!==void 0&&v!==null&&(v=c.call(this,v,a)),this._setAttr(a,v),h&&h.call(this),this}},addComponentsGetterSetter(i,a,c,h,f){const v=c.length,w=t.Util._capitalize,b=n+w(a),_=s+w(a);i.prototype[b]=function(){const u={};for(let x=0;x<v;x++){const k=c[x];u[k]=this.getAttr(a+w(k))}return u};const g=(0,r.getComponentValidator)(c);i.prototype[_]=function(u){const x=this.attrs[a];h&&(u=h.call(this,u,a)),g&&g.call(this,u,a);for(const k in u)u.hasOwnProperty(k)&&this._setAttr(a+w(k),u[k]);return u||c.forEach(k=>{this._setAttr(a+w(k),void 0)}),this._fireChangeEvent(a,x,u),f&&f.call(this),this},e.Factory.addOverloadedGetterSetter(i,a)},addOverloadedGetterSetter(i,a){var c=t.Util._capitalize(a),h=s+c,f=n+c;i.prototype[a]=function(){return arguments.length?(this[h](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(i,a,c,h){t.Util.error("Adding deprecated "+a);const f=n+t.Util._capitalize(a),v=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[f]=function(){t.Util.error(v);const w=this.attrs[a];return w===void 0?c:w},e.Factory.addSetter(i,a,h,function(){t.Util.error(v)}),e.Factory.addOverloadedGetterSetter(i,a)},backCompat(i,a){t.Util.each(a,function(c,h){const f=i.prototype[h],v=n+t.Util._capitalize(c),w=s+t.Util._capitalize(c);function b(){f.apply(this,arguments),t.Util.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}i.prototype[c]=b,i.prototype[v]=b,i.prototype[w]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(an)),an}var cn={},qt={},Qe={},$e={},Fi;function na(){if(Fi)return $e;Fi=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.HitContext=$e.SceneContext=$e.Context=void 0;const e=we(),t=ge();function r(k){const l=[],o=k.length,p=e.Util;for(let C=0;C<o;C++){let P=k[C];p._isNumber(P)?P=Math.round(P*1e3)/1e3:p._isString(P)||(P=P+""),l.push(P)}return l}const n=",",s="(",i=")",a="([",c="])",h=";",f="()",v="=",w=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],_=100;let g=class{constructor(l){this.canvas=l,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(l){l.fillEnabled()&&this._fill(l)}_fill(l){}strokeShape(l){l.hasStroke()&&this._stroke(l)}_stroke(l){}fillStrokeShape(l){l.attrs.fillAfterStrokeEnabled?(this.strokeShape(l),this.fillShape(l)):(this.fillShape(l),this.strokeShape(l))}getTrace(l,o){let p=this.traceArr,C=p.length,P="",D,S,O,E;for(D=0;D<C;D++)S=p[D],O=S.method,O?(E=S.args,P+=O,l?P+=f:e.Util._isArray(E[0])?P+=a+E.join(n)+c:(o&&(E=E.map(I=>typeof I=="number"?Math.floor(I):I)),P+=s+E.join(n)+i)):(P+=S.property,l||(P+=v+S.val)),P+=h;return P}clearTrace(){this.traceArr=[]}_trace(l){let o=this.traceArr,p;o.push(l),p=o.length,p>=_&&o.shift()}reset(){const l=this.getCanvas().getPixelRatio();this.setTransform(1*l,0,0,1*l,0,0)}getCanvas(){return this.canvas}clear(l){const o=this.getCanvas();l?this.clearRect(l.x||0,l.y||0,l.width||0,l.height||0):this.clearRect(0,0,o.getWidth()/o.pixelRatio,o.getHeight()/o.pixelRatio)}_applyLineCap(l){const o=l.attrs.lineCap;o&&this.setAttr("lineCap",o)}_applyOpacity(l){const o=l.getAbsoluteOpacity();o!==1&&this.setAttr("globalAlpha",o)}_applyLineJoin(l){const o=l.attrs.lineJoin;o&&this.setAttr("lineJoin",o)}setAttr(l,o){this._context[l]=o}arc(l,o,p,C,P,D){this._context.arc(l,o,p,C,P,D)}arcTo(l,o,p,C,P){this._context.arcTo(l,o,p,C,P)}beginPath(){this._context.beginPath()}bezierCurveTo(l,o,p,C,P,D){this._context.bezierCurveTo(l,o,p,C,P,D)}clearRect(l,o,p,C){this._context.clearRect(l,o,p,C)}clip(...l){this._context.clip.apply(this._context,l)}closePath(){this._context.closePath()}createImageData(l,o){const p=arguments;if(p.length===2)return this._context.createImageData(l,o);if(p.length===1)return this._context.createImageData(l)}createLinearGradient(l,o,p,C){return this._context.createLinearGradient(l,o,p,C)}createPattern(l,o){return this._context.createPattern(l,o)}createRadialGradient(l,o,p,C,P,D){return this._context.createRadialGradient(l,o,p,C,P,D)}drawImage(l,o,p,C,P,D,S,O,E){const I=arguments,L=this._context;I.length===3?L.drawImage(l,o,p):I.length===5?L.drawImage(l,o,p,C,P):I.length===9&&L.drawImage(l,o,p,C,P,D,S,O,E)}ellipse(l,o,p,C,P,D,S,O){this._context.ellipse(l,o,p,C,P,D,S,O)}isPointInPath(l,o,p,C){return p?this._context.isPointInPath(p,l,o,C):this._context.isPointInPath(l,o,C)}fill(...l){this._context.fill.apply(this._context,l)}fillRect(l,o,p,C){this._context.fillRect(l,o,p,C)}strokeRect(l,o,p,C){this._context.strokeRect(l,o,p,C)}fillText(l,o,p,C){C?this._context.fillText(l,o,p,C):this._context.fillText(l,o,p)}measureText(l){return this._context.measureText(l)}getImageData(l,o,p,C){return this._context.getImageData(l,o,p,C)}lineTo(l,o){this._context.lineTo(l,o)}moveTo(l,o){this._context.moveTo(l,o)}rect(l,o,p,C){this._context.rect(l,o,p,C)}roundRect(l,o,p,C,P){this._context.roundRect(l,o,p,C,P)}putImageData(l,o,p){this._context.putImageData(l,o,p)}quadraticCurveTo(l,o,p,C){this._context.quadraticCurveTo(l,o,p,C)}restore(){this._context.restore()}rotate(l){this._context.rotate(l)}save(){this._context.save()}scale(l,o){this._context.scale(l,o)}setLineDash(l){this._context.setLineDash?this._context.setLineDash(l):"mozDash"in this._context?this._context.mozDash=l:"webkitLineDash"in this._context&&(this._context.webkitLineDash=l)}getLineDash(){return this._context.getLineDash()}setTransform(l,o,p,C,P,D){this._context.setTransform(l,o,p,C,P,D)}stroke(l){l?this._context.stroke(l):this._context.stroke()}strokeText(l,o,p,C){this._context.strokeText(l,o,p,C)}transform(l,o,p,C,P,D){this._context.transform(l,o,p,C,P,D)}translate(l,o){this._context.translate(l,o)}_enableTrace(){let l=this,o=w.length,p=this.setAttr,C,P;const D=function(S){let O=l[S],E;l[S]=function(){return P=r(Array.prototype.slice.call(arguments,0)),E=O.apply(l,arguments),l._trace({method:S,args:P}),E}};for(C=0;C<o;C++)D(w[C]);l.setAttr=function(){p.apply(l,arguments);const S=arguments[0];let O=arguments[1];(S==="shadowOffsetX"||S==="shadowOffsetY"||S==="shadowBlur")&&(O=O/this.canvas.getPixelRatio()),l._trace({property:S,val:O})}}_applyGlobalCompositeOperation(l){const o=l.attrs.globalCompositeOperation;!o||o==="source-over"||this.setAttr("globalCompositeOperation",o)}};$e.Context=g,b.forEach(function(k){Object.defineProperty(g.prototype,k,{get(){return this._context[k]},set(l){this._context[k]=l}})});class u extends g{constructor(l,{willReadFrequently:o=!1}={}){super(l),this._context=l._canvas.getContext("2d",{willReadFrequently:o})}_fillColor(l){const o=l.fill();this.setAttr("fillStyle",o),l._fillFunc(this)}_fillPattern(l){this.setAttr("fillStyle",l._getFillPattern()),l._fillFunc(this)}_fillLinearGradient(l){const o=l._getLinearGradient();o&&(this.setAttr("fillStyle",o),l._fillFunc(this))}_fillRadialGradient(l){const o=l._getRadialGradient();o&&(this.setAttr("fillStyle",o),l._fillFunc(this))}_fill(l){const o=l.fill(),p=l.getFillPriority();if(o&&p==="color"){this._fillColor(l);return}const C=l.getFillPatternImage();if(C&&p==="pattern"){this._fillPattern(l);return}const P=l.getFillLinearGradientColorStops();if(P&&p==="linear-gradient"){this._fillLinearGradient(l);return}const D=l.getFillRadialGradientColorStops();if(D&&p==="radial-gradient"){this._fillRadialGradient(l);return}o?this._fillColor(l):C?this._fillPattern(l):P?this._fillLinearGradient(l):D&&this._fillRadialGradient(l)}_strokeLinearGradient(l){const o=l.getStrokeLinearGradientStartPoint(),p=l.getStrokeLinearGradientEndPoint(),C=l.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(o.x,o.y,p.x,p.y);if(C){for(let D=0;D<C.length;D+=2)P.addColorStop(C[D],C[D+1]);this.setAttr("strokeStyle",P)}}_stroke(l){const o=l.dash(),p=l.getStrokeScaleEnabled();if(l.hasStroke()){if(!p){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(l),o&&l.dashEnabled()&&(this.setLineDash(o),this.setAttr("lineDashOffset",l.dashOffset())),this.setAttr("lineWidth",l.strokeWidth()),l.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),l.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(l):this.setAttr("strokeStyle",l.stroke()),l._strokeFunc(this),p||this.restore()}}_applyShadow(l){var o,p,C;const P=(o=l.getShadowRGBA())!==null&&o!==void 0?o:"black",D=(p=l.getShadowBlur())!==null&&p!==void 0?p:5,S=(C=l.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},O=l.getAbsoluteScale(),E=this.canvas.getPixelRatio(),I=O.x*E,L=O.y*E;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",D*Math.min(Math.abs(I),Math.abs(L))),this.setAttr("shadowOffsetX",S.x*I),this.setAttr("shadowOffsetY",S.y*L)}}$e.SceneContext=u;class x extends g{constructor(l){super(l),this._context=l._canvas.getContext("2d",{willReadFrequently:!0})}_fill(l){this.save(),this.setAttr("fillStyle",l.colorKey),l._fillFuncHit(this),this.restore()}strokeShape(l){l.hasHitStroke()&&this._stroke(l)}_stroke(l){if(l.hasHitStroke()){const o=l.getStrokeScaleEnabled();if(!o){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(l);const p=l.hitStrokeWidth(),C=p==="auto"?l.strokeWidth():p;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",l.colorKey),l._strokeFuncHit(this),o||this.restore()}}}return $e.HitContext=x,$e}var Mi;function Wr(){if(Mi)return Qe;Mi=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.HitCanvas=Qe.SceneCanvas=Qe.Canvas=void 0;const e=we(),t=na(),r=ge(),n=yt(),s=_t();let i;function a(){if(i)return i;const v=e.Util.createCanvasElement(),w=v.getContext("2d");return i=function(){const b=r.Konva._global.devicePixelRatio||1,_=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1;return b/_}(),e.Util.releaseCanvas(v),i}let c=class{constructor(w){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const _=(w||{}).pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=_,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(w){const b=this.pixelRatio;this.pixelRatio=w,this.setSize(this.getWidth()/b,this.getHeight()/b)}setWidth(w){this.width=this._canvas.width=w*this.pixelRatio,this._canvas.style.width=w+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}setHeight(w){this.height=this._canvas.height=w*this.pixelRatio,this._canvas.style.height=w+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}getWidth(){return this.width}getHeight(){return this.height}setSize(w,b){this.setWidth(w||0),this.setHeight(b||0)}toDataURL(w,b){try{return this._canvas.toDataURL(w,b)}catch{try{return this._canvas.toDataURL()}catch(g){return e.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Qe.Canvas=c,n.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,s.getNumberValidator)());class h extends c{constructor(w={width:0,height:0,willReadFrequently:!1}){super(w),this.context=new t.SceneContext(this,{willReadFrequently:w.willReadFrequently}),this.setSize(w.width,w.height)}}Qe.SceneCanvas=h;class f extends c{constructor(w={width:0,height:0}){super(w),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(w.width,w.height)}}return Qe.HitCanvas=f,Qe}var dn={},Ni;function Jn(){return Ni||(Ni=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=ge(),r=we();e.DD={get isDragging(){let n=!1;return e.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return e.DD._dragElements.forEach(s=>{n=s.node}),n},_dragElements:new Map,_drag(n){const s=[];e.DD._dragElements.forEach((i,a)=>{const{node:c}=i,h=c.getStage();h.setPointersPositions(n),i.pointerId===void 0&&(i.pointerId=r.Util._getFirstPointerId(n));const f=h._changedPointerPositions.find(v=>v.id===i.pointerId);if(f){if(i.dragStatus!=="dragging"){const v=c.dragDistance();if(Math.max(Math.abs(f.x-i.startPointerPos.x),Math.abs(f.y-i.startPointerPos.y))<v||(c.startDrag({evt:n}),!c.isDragging()))return}c._setDragPosition(n,i),s.push(c)}}),s.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:n},!0)})},_endDragBefore(n){const s=[];e.DD._dragElements.forEach(i=>{const{node:a}=i,c=a.getStage();if(n&&c.setPointersPositions(n),!c._changedPointerPositions.find(v=>v.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,i.dragStatus="stopped");const f=i.node.getLayer()||i.node instanceof t.Konva.Stage&&i.node;f&&s.indexOf(f)===-1&&s.push(f)}),s.forEach(i=>{i.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((s,i)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:n},!0),s.dragStatus!=="dragging"&&e.DD._dragElements.delete(i)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(dn)),dn}var Ui;function hr(){if(Ui)return qt;Ui=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.Node=void 0;const e=we(),t=yt(),r=Wr(),n=ge(),s=Jn(),i=_t(),a="absoluteOpacity",c="allEventListeners",h="absoluteTransform",f="absoluteScale",v="canvas",w="Change",b="children",_="konva",g="listening",u="mouseenter",x="mouseleave",k="set",l="Shape",o=" ",p="stage",C="transform",P="Stage",D="visible",S=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(o);let O=1;class E{constructor(d){this._id=O++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(d),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(d){(d===C||d===h)&&this._cache.get(d)?this._cache.get(d).dirty=!0:d?this._cache.delete(d):this._cache.clear()}_getCache(d,y){let m=this._cache.get(d);return(m===void 0||(d===C||d===h)&&m.dirty===!0)&&(m=y.call(this),this._cache.set(d,m)),m}_calculate(d,y,m){if(!this._attachedDepsListeners.get(d)){const A=y.map(T=>T+"Change.konva").join(o);this.on(A,()=>{this._clearCache(d)}),this._attachedDepsListeners.set(d,!0)}return this._getCache(d,m)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(d){this._clearCache(d),d===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:d,filter:y,hit:m}=this._cache.get(v);e.Util.releaseCanvas(d,y,m),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(d){const y=d||{};let m={};(y.x===void 0||y.y===void 0||y.width===void 0||y.height===void 0)&&(m=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let A=Math.ceil(y.width||m.width),T=Math.ceil(y.height||m.height),G=y.pixelRatio,N=y.x===void 0?Math.floor(m.x):y.x,U=y.y===void 0?Math.floor(m.y):y.y,B=y.offset||0,j=y.drawBorder||!1,H=y.hitCanvasPixelRatio||1;if(!A||!T){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const W=Math.abs(Math.round(m.x)-N)>.5?1:0,z=Math.abs(Math.round(m.y)-U)>.5?1:0;A+=B*2+W,T+=B*2+z,N-=B,U-=B;const ie=new r.SceneCanvas({pixelRatio:G,width:A,height:T}),R=new r.SceneCanvas({pixelRatio:G,width:0,height:0,willReadFrequently:!0}),F=new r.HitCanvas({pixelRatio:H,width:A,height:T}),Y=ie.getContext(),re=F.getContext();return F.isCache=!0,ie.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,y.imageSmoothingEnabled===!1&&(ie.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),Y.save(),re.save(),Y.translate(-N,-U),re.translate(-N,-U),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(f),this.drawScene(ie,this),this.drawHit(F,this),this._isUnderCache=!1,Y.restore(),re.restore(),j&&(Y.save(),Y.beginPath(),Y.rect(0,0,A,T),Y.closePath(),Y.setAttr("strokeStyle","red"),Y.setAttr("lineWidth",5),Y.stroke(),Y.restore()),this._cache.set(v,{scene:ie,filter:R,hit:F,x:N,y:U}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(d){throw new Error('abstract "getClientRect" method call')}_transformedRect(d,y){const m=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}];let A=1/0,T=1/0,G=-1/0,N=-1/0;const U=this.getAbsoluteTransform(y);return m.forEach(function(B){const j=U.point(B);A===void 0&&(A=G=j.x,T=N=j.y),A=Math.min(A,j.x),T=Math.min(T,j.y),G=Math.max(G,j.x),N=Math.max(N,j.y)}),{x:A,y:T,width:G-A,height:N-T}}_drawCachedSceneCanvas(d){d.save(),d._applyOpacity(this),d._applyGlobalCompositeOperation(this);const y=this._getCanvasCache();d.translate(y.x,y.y);const m=this._getCachedSceneCanvas(),A=m.pixelRatio;d.drawImage(m._canvas,0,0,m.width/A,m.height/A),d.restore()}_drawCachedHitCanvas(d){const y=this._getCanvasCache(),m=y.hit;d.save(),d.translate(y.x,y.y),d.drawImage(m._canvas,0,0,m.width/m.pixelRatio,m.height/m.pixelRatio),d.restore()}_getCachedSceneCanvas(){let d=this.filters(),y=this._getCanvasCache(),m=y.scene,A=y.filter,T=A.getContext(),G,N,U,B;if(d){if(!this._filterUpToDate){const j=m.pixelRatio;A.setSize(m.width/m.pixelRatio,m.height/m.pixelRatio);try{for(G=d.length,T.clear(),T.drawImage(m._canvas,0,0,m.getWidth()/j,m.getHeight()/j),N=T.getImageData(0,0,A.getWidth(),A.getHeight()),U=0;U<G;U++){if(B=d[U],typeof B!="function"){e.Util.error("Filter should be type of function, but got "+typeof B+" instead. Please check correct filters");continue}B.call(this,N),T.putImageData(N,0,0)}}catch(H){e.Util.error("Unable to apply filter. "+H.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return m}on(d,y){if(this._cache&&this._cache.delete(c),arguments.length===3)return this._delegate.apply(this,arguments);let m=d.split(o),A=m.length,T,G,N,U,B;for(T=0;T<A;T++)G=m[T],N=G.split("."),U=N[0],B=N[1]||"",this.eventListeners[U]||(this.eventListeners[U]=[]),this.eventListeners[U].push({name:B,handler:y});return this}off(d,y){let m=(d||"").split(o),A=m.length,T,G,N,U,B,j;if(this._cache&&this._cache.delete(c),!d)for(G in this.eventListeners)this._off(G);for(T=0;T<A;T++)if(N=m[T],U=N.split("."),B=U[0],j=U[1],B)this.eventListeners[B]&&this._off(B,j,y);else for(G in this.eventListeners)this._off(G,j,y);return this}dispatchEvent(d){const y={target:this,type:d.type,evt:d};return this.fire(d.type,y),this}addEventListener(d,y){return this.on(d,function(m){y.call(this,m.evt)}),this}removeEventListener(d){return this.off(d),this}_delegate(d,y,m){const A=this;this.on(d,function(T){const G=T.target.findAncestors(y,!0,A);for(let N=0;N<G.length;N++)T=e.Util.cloneObject(T),T.currentTarget=G[N],m.call(G[N],T)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(D),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const d=this.getParent();d&&d.children&&(d.children.splice(this.index,1),d._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(d){const y="get"+e.Util._capitalize(d);return e.Util._isFunction(this[y])?this[y]():this.attrs[d]}getAncestors(){let d=this.getParent(),y=[];for(;d;)y.push(d),d=d.getParent();return y}getAttrs(){return this.attrs||{}}setAttrs(d){return this._batchTransformChanges(()=>{let y,m;if(!d)return this;for(y in d)y!==b&&(m=k+e.Util._capitalize(y),e.Util._isFunction(this[m])?this[m](d[y]):this._setAttr(y,d[y]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(d){if(!this.listening())return!1;const m=this.getParent();return m&&m!==d&&this!==d?m._isListening(d):!0}isVisible(){return this._getCache(D,this._isVisible)}_isVisible(d){if(!this.visible())return!1;const m=this.getParent();return m&&m!==d&&this!==d?m._isVisible(d):!0}shouldDrawHit(d,y=!1){if(d)return this._isVisible(d)&&this._isListening(d);const m=this.getLayer();let A=!1;s.DD._dragElements.forEach(G=>{G.dragStatus==="dragging"&&(G.node.nodeType==="Stage"||G.node.getLayer()===m)&&(A=!0)});const T=!y&&!n.Konva.hitOnDragEnabled&&(A||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!T}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let d=this.getDepth(),y=this,m=0,A,T,G,N;function U(j){for(A=[],T=j.length,G=0;G<T;G++)N=j[G],m++,N.nodeType!==l&&(A=A.concat(N.getChildren().slice())),N._id===y._id&&(G=T);A.length>0&&A[0].getDepth()<=d&&U(A)}const B=this.getStage();return y.nodeType!==P&&B&&U(B.getChildren()),m}getDepth(){let d=0,y=this.parent;for(;y;)d++,y=y.parent;return d}_batchTransformChanges(d){this._batchingTransformChange=!0,d(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(d){return this._batchTransformChanges(()=>{this.x(d.x),this.y(d.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const d=this.getStage();if(!d)return null;const y=d.getPointerPosition();if(!y)return null;const m=this.getAbsoluteTransform().copy();return m.invert(),m.point(y)}getAbsolutePosition(d){let y=!1,m=this.parent;for(;m;){if(m.isCached()){y=!0;break}m=m.parent}y&&!d&&(d=!0);const A=this.getAbsoluteTransform(d).getMatrix(),T=new e.Transform,G=this.offset();return T.m=A.slice(),T.translate(G.x,G.y),T.getTranslation()}setAbsolutePosition(d){const{x:y,y:m,...A}=this._clearTransform();this.attrs.x=y,this.attrs.y=m,this._clearCache(C);const T=this._getAbsoluteTransform().copy();return T.invert(),T.translate(d.x,d.y),d={x:this.attrs.x+T.getTranslation().x,y:this.attrs.y+T.getTranslation().y},this._setTransform(A),this.setPosition({x:d.x,y:d.y}),this._clearCache(C),this._clearSelfAndDescendantCache(h),this}_setTransform(d){let y;for(y in d)this.attrs[y]=d[y]}_clearTransform(){const d={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,d}move(d){let y=d.x,m=d.y,A=this.x(),T=this.y();return y!==void 0&&(A+=y),m!==void 0&&(T+=m),this.setPosition({x:A,y:T}),this}_eachAncestorReverse(d,y){let m=[],A=this.getParent(),T,G;if(!(y&&y._id===this._id)){for(m.unshift(this);A&&(!y||A._id!==y._id);)m.unshift(A),A=A.parent;for(T=m.length,G=0;G<T;G++)d(m[G])}}rotate(d){return this.rotation(this.rotation()+d),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const d=this.index,y=this.parent.getChildren().length;return d<y-1?(this.parent.children.splice(d,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;const d=this.index,y=this.parent.getChildren().length;return d<y-1?(this.parent.children.splice(d,1),this.parent.children.splice(d+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;const d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.splice(d-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(d){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(d<0||d>=this.parent.children.length)&&e.Util.warn("Unexpected value "+d+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const y=this.index;return this.parent.children.splice(y,1),this.parent.children.splice(d,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let d=this.opacity();const y=this.getParent();return y&&!y._isUnderCache&&(d*=y.getAbsoluteOpacity()),d}moveTo(d){return this.getParent()!==d&&(this._remove(),d.add(this)),this}toObject(){let d=this.getAttrs(),y,m,A,T,G;const N={attrs:{},className:this.getClassName()};for(y in d)m=d[y],G=e.Util.isObject(m)&&!e.Util._isPlainObject(m)&&!e.Util._isArray(m),!G&&(A=typeof this[y]=="function"&&this[y],delete d[y],T=A?A.call(this):null,d[y]=m,T!==m&&(N.attrs[y]=m));return e.Util._prepareToStringify(N)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(d,y,m){const A=[];y&&this._isMatch(d)&&A.push(this);let T=this.parent;for(;T;){if(T===m)return A;T._isMatch(d)&&A.push(T),T=T.parent}return A}isAncestorOf(d){return!1}findAncestor(d,y,m){return this.findAncestors(d,y,m)[0]}_isMatch(d){if(!d)return!1;if(typeof d=="function")return d(this);let y=d.replace(/ /g,"").split(","),m=y.length,A,T;for(A=0;A<m;A++)if(T=y[A],e.Util.isValidSelector(T)||(e.Util.warn('Selector "'+T+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),T.charAt(0)==="#"){if(this.id()===T.slice(1))return!0}else if(T.charAt(0)==="."){if(this.hasName(T.slice(1)))return!0}else if(this.className===T||this.nodeType===T)return!0;return!1}getLayer(){const d=this.getParent();return d?d.getLayer():null}getStage(){return this._getCache(p,this._getStage)}_getStage(){const d=this.getParent();return d?d.getStage():null}fire(d,y={},m){return y.target=y.target||this,m?this._fireAndBubble(d,y):this._fire(d,y),this}getAbsoluteTransform(d){return d?this._getAbsoluteTransform(d):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(d){let y;if(d)return y=new e.Transform,this._eachAncestorReverse(function(m){const A=m.transformsEnabled();A==="all"?y.multiply(m.getTransform()):A==="position"&&y.translate(m.x()-m.offsetX(),m.y()-m.offsetY())},d),y;{y=this._cache.get(h)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(y):y.reset();const m=this.transformsEnabled();if(m==="all")y.multiply(this.getTransform());else if(m==="position"){const A=this.attrs.x||0,T=this.attrs.y||0,G=this.attrs.offsetX||0,N=this.attrs.offsetY||0;y.translate(A-G,T-N)}return y.dirty=!1,y}}getAbsoluteScale(d){let y=this;for(;y;)y._isUnderCache&&(d=y),y=y.getParent();const A=this.getAbsoluteTransform(d).decompose();return{x:A.scaleX,y:A.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var d,y;const m=this._cache.get(C)||new e.Transform;m.reset();const A=this.x(),T=this.y(),G=n.Konva.getAngle(this.rotation()),N=(d=this.attrs.scaleX)!==null&&d!==void 0?d:1,U=(y=this.attrs.scaleY)!==null&&y!==void 0?y:1,B=this.attrs.skewX||0,j=this.attrs.skewY||0,H=this.attrs.offsetX||0,W=this.attrs.offsetY||0;return(A!==0||T!==0)&&m.translate(A,T),G!==0&&m.rotate(G),(B!==0||j!==0)&&m.skew(B,j),(N!==1||U!==1)&&m.scale(N,U),(H!==0||W!==0)&&m.translate(-1*H,-1*W),m.dirty=!1,m}clone(d){let y=e.Util.cloneObject(this.attrs),m,A,T,G,N;for(m in d)y[m]=d[m];const U=new this.constructor(y);for(m in this.eventListeners)for(A=this.eventListeners[m],T=A.length,G=0;G<T;G++)N=A[G],N.name.indexOf(_)<0&&(U.eventListeners[m]||(U.eventListeners[m]=[]),U.eventListeners[m].push(N));return U}_toKonvaCanvas(d){d=d||{};const y=this.getClientRect(),m=this.getStage(),A=d.x!==void 0?d.x:Math.floor(y.x),T=d.y!==void 0?d.y:Math.floor(y.y),G=d.pixelRatio||1,N=new r.SceneCanvas({width:d.width||Math.ceil(y.width)||(m?m.width():0),height:d.height||Math.ceil(y.height)||(m?m.height():0),pixelRatio:G}),U=N.getContext(),B=new r.SceneCanvas({width:N.width/N.pixelRatio+Math.abs(A),height:N.height/N.pixelRatio+Math.abs(T),pixelRatio:N.pixelRatio});return d.imageSmoothingEnabled===!1&&(U._context.imageSmoothingEnabled=!1),U.save(),(A||T)&&U.translate(-1*A,-1*T),this.drawScene(N,void 0,B),U.restore(),N}toCanvas(d){return this._toKonvaCanvas(d)._canvas}toDataURL(d){d=d||{};const y=d.mimeType||null,m=d.quality||null,A=this._toKonvaCanvas(d).toDataURL(y,m);return d.callback&&d.callback(A),A}toImage(d){return new Promise((y,m)=>{try{const A=d==null?void 0:d.callback;A&&delete d.callback,e.Util._urlToImage(this.toDataURL(d),function(T){y(T),A==null||A(T)})}catch(A){m(A)}})}toBlob(d){return new Promise((y,m)=>{try{const A=d==null?void 0:d.callback;A&&delete d.callback,this.toCanvas(d).toBlob(T=>{y(T),A==null||A(T)},d==null?void 0:d.mimeType,d==null?void 0:d.quality)}catch(A){m(A)}})}setSize(d){return this.width(d.width),this.height(d.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(d,y,m){let A=this.eventListeners[d],T,G,N;for(T=0;T<A.length;T++)if(G=A[T].name,N=A[T].handler,(G!=="konva"||y==="konva")&&(!y||G===y)&&(!m||m===N)){if(A.splice(T,1),A.length===0){delete this.eventListeners[d];break}T--}}_fireChangeEvent(d,y,m){this._fire(d+w,{oldVal:y,newVal:m})}addName(d){if(!this.hasName(d)){const y=this.name(),m=y?y+" "+d:d;this.name(m)}return this}hasName(d){if(!d)return!1;const y=this.name();return y?(y||"").split(/\s/g).indexOf(d)!==-1:!1}removeName(d){const y=(this.name()||"").split(/\s/g),m=y.indexOf(d);return m!==-1&&(y.splice(m,1),this.name(y.join(" "))),this}setAttr(d,y){const m=this[k+e.Util._capitalize(d)];return e.Util._isFunction(m)?m.call(this,y):this._setAttr(d,y),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const d=this.getLayer()||this.getStage();d==null||d.batchDraw()}}_setAttr(d,y){const m=this.attrs[d];m===y&&!e.Util.isObject(y)||(y==null?delete this.attrs[d]:this.attrs[d]=y,this._shouldFireChangeEvents&&this._fireChangeEvent(d,m,y),this._requestDraw())}_setComponentAttr(d,y,m){let A;m!==void 0&&(A=this.attrs[d],A||(this.attrs[d]=this.getAttr(d)),this.attrs[d][y]=m,this._fireChangeEvent(d,A,m))}_fireAndBubble(d,y,m){if(y&&this.nodeType===l&&(y.target=this),!((d===u||d===x)&&(m&&(this===m||this.isAncestorOf&&this.isAncestorOf(m))||this.nodeType==="Stage"&&!m))){this._fire(d,y);const T=(d===u||d===x)&&m&&m.isAncestorOf&&m.isAncestorOf(this)&&!m.isAncestorOf(this.parent);(y&&!y.cancelBubble||!y)&&this.parent&&this.parent.isListening()&&!T&&(m&&m.parent?this._fireAndBubble.call(this.parent,d,y,m):this._fireAndBubble.call(this.parent,d,y))}}_getProtoListeners(d){var y,m,A;const T=(y=this._cache.get(c))!==null&&y!==void 0?y:{};let G=T==null?void 0:T[d];if(G===void 0){G=[];let N=Object.getPrototypeOf(this);for(;N;){const U=(A=(m=N.eventListeners)===null||m===void 0?void 0:m[d])!==null&&A!==void 0?A:[];G.push(...U),N=Object.getPrototypeOf(N)}T[d]=G,this._cache.set(c,T)}return G}_fire(d,y){y=y||{},y.currentTarget=this,y.type=d;const m=this._getProtoListeners(d);if(m)for(var A=0;A<m.length;A++)m[A].handler.call(this,y);const T=this.eventListeners[d];if(T)for(var A=0;A<T.length;A++)T[A].handler.call(this,y)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(d){const y=d?d.pointerId:void 0,m=this.getStage(),A=this.getAbsolutePosition();if(!m)return;const T=m._getPointerById(y)||m._changedPointerPositions[0]||A;s.DD._dragElements.set(this._id,{node:this,startPointerPos:T,offset:{x:T.x-A.x,y:T.y-A.y},dragStatus:"ready",pointerId:y})}startDrag(d,y=!0){s.DD._dragElements.has(this._id)||this._createDragElement(d);const m=s.DD._dragElements.get(this._id);m.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:d&&d.evt},y)}_setDragPosition(d,y){const m=this.getStage()._getPointerById(y.pointerId);if(!m)return;let A={x:m.x-y.offset.x,y:m.y-y.offset.y};const T=this.dragBoundFunc();if(T!==void 0){const G=T.call(this,A,d);G?A=G:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==A.x||this._lastPos.y!==A.y)&&(this.setAbsolutePosition(A),this._requestDraw()),this._lastPos=A}stopDrag(d){const y=s.DD._dragElements.get(this._id);y&&(y.dragStatus="stopped"),s.DD._endDragBefore(d),s.DD._endDragAfter(d)}setDraggable(d){this._setAttr("draggable",d),this._dragChange()}isDragging(){const d=s.DD._dragElements.get(this._id);return d?d.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(d){if(!(!(d.evt.button!==void 0)||n.Konva.dragButtons.indexOf(d.evt.button)>=0)||this.isDragging())return;let A=!1;s.DD._dragElements.forEach(T=>{this.isAncestorOf(T.node)&&(A=!0)}),A||this._createDragElement(d)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const y=s.DD._dragElements.get(this._id),m=y&&y.dragStatus==="dragging",A=y&&y.dragStatus==="ready";m?this.stopDrag():A&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(d={x:0,y:0}){const y=this.getStage();if(!y)return!1;const m={x:-d.x,y:-d.y,width:y.width()+2*d.x,height:y.height()+2*d.y};return e.Util.haveIntersection(m,this.getClientRect())}static create(d,y){return e.Util._isString(d)&&(d=JSON.parse(d)),this._createNode(d,y)}static _createNode(d,y){let m=E.prototype.getClassName.call(d),A=d.children,T,G,N;y&&(d.attrs.container=y),n.Konva[m]||(e.Util.warn('Can not find a node with class name "'+m+'". Fallback to "Shape".'),m="Shape");const U=n.Konva[m];if(T=new U(d.attrs),A)for(G=A.length,N=0;N<G;N++)T.add(E._createNode(A[N]));return T}}qt.Node=E,E.prototype.nodeType="Node",E.prototype._attrsAffectingSize=[],E.prototype.eventListeners={},E.prototype.on.call(E.prototype,S,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(h)}),E.prototype.on.call(E.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(D)}),E.prototype.on.call(E.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),E.prototype.on.call(E.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const I=t.Factory.addGetterSetter;return I(E,"zIndex"),I(E,"absolutePosition"),I(E,"position"),I(E,"x",0,(0,i.getNumberValidator)()),I(E,"y",0,(0,i.getNumberValidator)()),I(E,"globalCompositeOperation","source-over",(0,i.getStringValidator)()),I(E,"opacity",1,(0,i.getNumberValidator)()),I(E,"name","",(0,i.getStringValidator)()),I(E,"id","",(0,i.getStringValidator)()),I(E,"rotation",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"scale",["x","y"]),I(E,"scaleX",1,(0,i.getNumberValidator)()),I(E,"scaleY",1,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"skew",["x","y"]),I(E,"skewX",0,(0,i.getNumberValidator)()),I(E,"skewY",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"offset",["x","y"]),I(E,"offsetX",0,(0,i.getNumberValidator)()),I(E,"offsetY",0,(0,i.getNumberValidator)()),I(E,"dragDistance",void 0,(0,i.getNumberValidator)()),I(E,"width",0,(0,i.getNumberValidator)()),I(E,"height",0,(0,i.getNumberValidator)()),I(E,"listening",!0,(0,i.getBooleanValidator)()),I(E,"preventDefault",!0,(0,i.getBooleanValidator)()),I(E,"filters",void 0,function(L){return this._filterUpToDate=!1,L}),I(E,"visible",!0,(0,i.getBooleanValidator)()),I(E,"transformsEnabled","all",(0,i.getStringValidator)()),I(E,"size"),I(E,"dragBoundFunc"),I(E,"draggable",!1,(0,i.getBooleanValidator)()),t.Factory.backCompat(E,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),qt}var dt={},Bi;function ia(){if(Bi)return dt;Bi=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.getCapturedShape=n,dt.createEvent=s,dt.hasPointerCapture=i,dt.setPointerCapture=a,dt.releaseCapture=c;const e=ge(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function n(h){return t.get(h)}function s(h){return{evt:h,pointerId:h.pointerId}}function i(h,f){return t.get(h)===f}function a(h,f){c(h),f.getStage()&&(t.set(h,f),r&&f._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function c(h,f){const v=t.get(h);if(!v)return;const w=v.getStage();w&&w.content,t.delete(h),r&&v._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return dt}var Vi;function Jr(){return Vi||(Vi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=ge(),r=we(),n=yt(),s=hr(),i=_t(),a=ge(),c=ia(),h="hasShadow",f="shadowRGBA",v="patternImage",w="linearGradient",b="radialGradient";let _;function g(){return _||(_=r.Util.createCanvasElement().getContext("2d"),_)}e.shapes={};function u(O){const E=this.attrs.fillRule;E?O.fill(E):O.fill()}function x(O){O.stroke()}function k(O){const E=this.attrs.fillRule;E?O.fill(E):O.fill()}function l(O){O.stroke()}function o(){this._clearCache(h)}function p(){this._clearCache(f)}function C(){this._clearCache(v)}function P(){this._clearCache(w)}function D(){this._clearCache(b)}class S extends s.Node{constructor(E){super(E);let I;for(;I=r.Util.getRandomColor(),!(I&&!(I in e.shapes)););this.colorKey=I,e.shapes[I]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const I=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(I&&I.setTransform){const L=new r.Transform;L.translate(this.fillPatternX(),this.fillPatternY()),L.rotate(t.Konva.getAngle(this.fillPatternRotation())),L.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),L.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const d=L.getMatrix(),y=typeof DOMMatrix>"u"?{a:d[0],b:d[1],c:d[2],d:d[3],e:d[4],f:d[5]}:new DOMMatrix(d);I.setTransform(y)}return I}}_getLinearGradient(){return this._getCache(w,this.__getLinearGradient)}__getLinearGradient(){const E=this.fillLinearGradientColorStops();if(E){const I=g(),L=this.fillLinearGradientStartPoint(),d=this.fillLinearGradientEndPoint(),y=I.createLinearGradient(L.x,L.y,d.x,d.y);for(let m=0;m<E.length;m+=2)y.addColorStop(E[m],E[m+1]);return y}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const E=this.fillRadialGradientColorStops();if(E){const I=g(),L=this.fillRadialGradientStartPoint(),d=this.fillRadialGradientEndPoint(),y=I.createRadialGradient(L.x,L.y,this.fillRadialGradientStartRadius(),d.x,d.y,this.fillRadialGradientEndRadius());for(let m=0;m<E.length;m+=2)y.addColorStop(E[m],E[m+1]);return y}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const E=r.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){const I=this.getStage();if(!I)return!1;const L=I.bufferHitCanvas;return L.getContext().clear(),this.drawHit(L,void 0,!0),L.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var I;if(!((I=this.attrs.perfectDrawEnabled)!==null&&I!==void 0?I:!0))return!1;const d=E||this.hasFill(),y=this.hasStroke(),m=this.getAbsoluteOpacity()!==1;if(d&&y&&m)return!0;const A=this.hasShadow(),T=this.shadowForStrokeEnabled();return!!(d&&y&&A&&T)}setStrokeHitEnabled(E){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){let I=!1,L=this.getParent();for(;L;){if(L.isCached()){I=!0;break}L=L.getParent()}const d=E.skipTransform,y=E.relativeTo||I&&this.getStage()||void 0,m=this.getSelfRect(),T=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,G=m.width+T,N=m.height+T,U=!E.skipShadow&&this.hasShadow(),B=U?this.shadowOffsetX():0,j=U?this.shadowOffsetY():0,H=G+Math.abs(B),W=N+Math.abs(j),z=U&&this.shadowBlur()||0,ie=H+z*2,R=W+z*2,F={width:ie,height:R,x:-(T/2+z)+Math.min(B,0)+m.x,y:-(T/2+z)+Math.min(j,0)+m.y};return d?F:this._transformedRect(F,y)}drawScene(E,I,L){const d=this.getLayer();let y=E||d.getCanvas(),m=y.getContext(),A=this._getCanvasCache(),T=this.getSceneFunc(),G=this.hasShadow(),N,U;const B=y.isCache,j=I===this;if(!this.isVisible()&&!j)return this;if(A){m.save();const W=this.getAbsoluteTransform(I).getMatrix();return m.transform(W[0],W[1],W[2],W[3],W[4],W[5]),this._drawCachedSceneCanvas(m),m.restore(),this}if(!T)return this;if(m.save(),this._useBufferCanvas()&&!B){N=this.getStage();const W=L||N.bufferCanvas;U=W.getContext(),U.clear(),U.save(),U._applyLineJoin(this);var H=this.getAbsoluteTransform(I).getMatrix();U.transform(H[0],H[1],H[2],H[3],H[4],H[5]),T.call(this,U,this),U.restore();const z=W.pixelRatio;G&&m._applyShadow(this),m._applyOpacity(this),m._applyGlobalCompositeOperation(this),m.drawImage(W._canvas,0,0,W.width/z,W.height/z)}else{if(m._applyLineJoin(this),!j){var H=this.getAbsoluteTransform(I).getMatrix();m.transform(H[0],H[1],H[2],H[3],H[4],H[5]),m._applyOpacity(this),m._applyGlobalCompositeOperation(this)}G&&m._applyShadow(this),T.call(this,m,this)}return m.restore(),this}drawHit(E,I,L=!1){if(!this.shouldDrawHit(I,L))return this;const d=this.getLayer(),y=E||d.hitCanvas,m=y&&y.getContext(),A=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),G=T&&T.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){m.save();const U=this.getAbsoluteTransform(I).getMatrix();return m.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(m),m.restore(),this}if(!A)return this;if(m.save(),m._applyLineJoin(this),!(this===I)){const U=this.getAbsoluteTransform(I).getMatrix();m.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return A.call(this,m,this),m.restore(),this}drawHitFromCache(E=0){const I=this._getCanvasCache(),L=this._getCachedSceneCanvas(),d=I.hit,y=d.getContext(),m=d.getWidth(),A=d.getHeight();y.clear(),y.drawImage(L._canvas,0,0,m,A);try{const T=y.getImageData(0,0,m,A),G=T.data,N=G.length,U=r.Util._hexToRgb(this.colorKey);for(let B=0;B<N;B+=4)G[B+3]>E?(G[B]=U.r,G[B+1]=U.g,G[B+2]=U.b,G[B+3]=255):G[B+3]=0;y.putImageData(T,0,0)}catch(T){r.Util.error("Unable to draw hit graph from cached scene canvas. "+T.message)}return this}hasPointerCapture(E){return c.hasPointerCapture(E,this)}setPointerCapture(E){c.setPointerCapture(E,this)}releaseCapture(E){c.releaseCapture(E,this)}}e.Shape=S,S.prototype._fillFunc=u,S.prototype._strokeFunc=x,S.prototype._fillFuncHit=k,S.prototype._strokeFuncHit=l,S.prototype._centroid=!1,S.prototype.nodeType="Shape",(0,a._registerNode)(S),S.prototype.eventListeners={},S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o),S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",D),n.Factory.addGetterSetter(S,"stroke",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(S,"strokeWidth",2,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(S,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(S,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"lineJoin"),n.Factory.addGetterSetter(S,"lineCap"),n.Factory.addGetterSetter(S,"sceneFunc"),n.Factory.addGetterSetter(S,"hitFunc"),n.Factory.addGetterSetter(S,"dash"),n.Factory.addGetterSetter(S,"dashOffset",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowColor",void 0,(0,i.getStringValidator)()),n.Factory.addGetterSetter(S,"shadowBlur",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowOpacity",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(S,"shadowOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternImage"),n.Factory.addGetterSetter(S,"fill",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(S,"fillPatternX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(S,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(S,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(S,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(S,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(S,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(S,"fillEnabled",!0),n.Factory.addGetterSetter(S,"strokeEnabled",!0),n.Factory.addGetterSetter(S,"shadowEnabled",!0),n.Factory.addGetterSetter(S,"dashEnabled",!0),n.Factory.addGetterSetter(S,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(S,"fillPriority","color"),n.Factory.addComponentsGetterSetter(S,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(S,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(S,"fillPatternScaleX",1,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternScaleY",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(S,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(S,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(S,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(S,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(S,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(S,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(S,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(S,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(S,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(S,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(S,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(S,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(S,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(S,"fillPatternRotation",0),n.Factory.addGetterSetter(S,"fillRule",void 0,(0,i.getStringValidator)()),n.Factory.backCompat(S,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(cn)),cn}const Yc=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function Zr(e,t){Yc.forEach(r=>{const n=e[`on${r}`];typeof n=="function"&&t.on(r,s=>{n(s)})})}const Lr=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var ar;(function(e){e[e.Stage=0]="Stage",e[e.Layer=1]="Layer",e[e.Group=2]="Group",e[e.Label=3]="Label"})(ar||(ar={}));const jc="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",Xc="svelte-konva: A Layer needs to have a Stage as parent.";function sa(e,t){Lr.forEach(r=>{Sr(r,null)}),Sr(Lr[e],t)}function aa(){for(let e=1;e<4;e++){const t=Mn(Lr[e]);if(t)return t}throw new Error(jc)}function zc(){const e=Mn(Lr[ar.Stage]);if(e)return e;throw new Error(Xc)}var vr={exports:{}},un={},Kt={},Yi;function Qr(){if(Yi)return Kt;Yi=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Container=void 0;const e=yt(),t=hr(),r=_t();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const a=this.children||[],c=[];return a.forEach(function(h){i(h)&&c.push(h)}),c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(let c=0;c<i.length;c++)this.add(i[c]);return this}const a=i[0];return a.getParent()?(a.moveTo(this),this):(this._validateAdd(a),a.index=this.getChildren().length,a.parent=this,a._clearCaches(),this.getChildren().push(a),this._fire("add",{child:a}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){const a=this._generalFind(i,!0);return a.length>0?a[0]:void 0}_generalFind(i,a){const c=[];return this._descendants(h=>{const f=h._isMatch(i);return f&&c.push(h),!!(f&&a)}),c}_descendants(i){let a=!1;const c=this.getChildren();for(const h of c){if(a=i(h),a)return!0;if(h.hasChildren()&&(a=h._descendants(i),a))return!0}return!1}toObject(){const i=t.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(a=>{i.children.push(a.toObject())}),i}isAncestorOf(i){let a=i.getParent();for(;a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(i){const a=t.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(c){a.add(c.clone())}),a}getAllIntersections(i){const a=[];return this.find("Shape").forEach(c=>{c.isVisible()&&c.intersects(i)&&a.push(c)}),a}_clearSelfAndDescendantCache(i){var a;super._clearSelfAndDescendantCache(i),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(c){c._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(a,c){a.index=c}),this._requestDraw()}drawScene(i,a,c){const h=this.getLayer(),f=i||h&&h.getCanvas(),v=f&&f.getContext(),w=this._getCanvasCache(),b=w&&w.scene,_=f&&f.isCache;if(!this.isVisible()&&!_)return this;if(b){v.save();const g=this.getAbsoluteTransform(a).getMatrix();v.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(v),v.restore()}else this._drawChildren("drawScene",f,a,c);return this}drawHit(i,a){if(!this.shouldDrawHit(a))return this;const c=this.getLayer(),h=i||c&&c.hitCanvas,f=h&&h.getContext(),v=this._getCanvasCache();if(v&&v.hit){f.save();const b=this.getAbsoluteTransform(a).getMatrix();f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",h,a);return this}_drawChildren(i,a,c,h){var f;const v=a&&a.getContext(),w=this.clipWidth(),b=this.clipHeight(),_=this.clipFunc(),g=typeof w=="number"&&typeof b=="number"||_,u=c===this;if(g){v.save();const k=this.getAbsoluteTransform(c);let l=k.getMatrix();v.transform(l[0],l[1],l[2],l[3],l[4],l[5]),v.beginPath();let o;if(_)o=_.call(this,v,this);else{const p=this.clipX(),C=this.clipY();v.rect(p||0,C||0,w,b)}v.clip.apply(v,o),l=k.copy().invert().getMatrix(),v.transform(l[0],l[1],l[2],l[3],l[4],l[5])}const x=!u&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";x&&(v.save(),v._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(k){k[i](a,c,h)}),x&&v.restore(),g&&v.restore()}getClientRect(i={}){var a;const c=i.skipTransform,h=i.relativeTo;let f,v,w,b,_={x:1/0,y:1/0,width:0,height:0};const g=this;(a=this.children)===null||a===void 0||a.forEach(function(k){if(!k.visible())return;const l=k.getClientRect({relativeTo:g,skipShadow:i.skipShadow,skipStroke:i.skipStroke});l.width===0&&l.height===0||(f===void 0?(f=l.x,v=l.y,w=l.x+l.width,b=l.y+l.height):(f=Math.min(f,l.x),v=Math.min(v,l.y),w=Math.max(w,l.x+l.width),b=Math.max(b,l.y+l.height)))});const u=this.find("Shape");let x=!1;for(let k=0;k<u.length;k++)if(u[k]._isVisible(this)){x=!0;break}return x&&f!==void 0?_={x:f,y:v,width:w-f,height:b-v}:_={x:0,y:0,width:0,height:0},c?_:this._transformedRect(_,h)}};return Kt.Container=n,e.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipFunc"),Kt}var hn={},ji;function Hc(){return ji||(ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=we(),r=yt(),n=Qr(),s=ge(),i=Wr(),a=Jn(),c=ge(),h=ia(),f="Stage",v="string",w="px",b="mouseout",_="mouseleave",g="mouseover",u="mouseenter",x="mousemove",k="mousedown",l="mouseup",o="pointermove",p="pointerdown",C="pointerup",P="pointercancel",D="lostpointercapture",S="pointerout",O="pointerleave",E="pointerover",I="pointerenter",L="contextmenu",d="touchstart",y="touchend",m="touchmove",A="touchcancel",T="wheel",G=5,N=[[u,"_pointerenter"],[k,"_pointerdown"],[x,"_pointermove"],[l,"_pointerup"],[_,"_pointerleave"],[d,"_pointerdown"],[m,"_pointermove"],[y,"_pointerup"],[A,"_pointercancel"],[g,"_pointerover"],[T,"_wheel"],[L,"_contextmenu"],[p,"_pointerdown"],[o,"_pointermove"],[C,"_pointerup"],[P,"_pointercancel"],[D,"_lostpointercapture"]],U={mouse:{[S]:b,[O]:_,[E]:g,[I]:u,[o]:x,[p]:k,[C]:l,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[S]:"touchout",[O]:"touchleave",[E]:"touchover",[I]:"touchenter",[o]:m,[p]:d,[C]:y,[P]:A,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[S]:S,[O]:O,[E]:E,[I]:I,[o]:o,[p]:p,[C]:C,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},B=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",j=ie=>{const R=B(ie);if(R==="pointer")return s.Konva.pointerEventsEnabled&&U.pointer;if(R==="touch")return U.touch;if(R==="mouse")return U.mouse};function H(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const W="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class z extends n.Container{constructor(R){super(H(R)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{H(this.attrs)}),this._checkVisibility()}_validateAdd(R){const F=R.getType()==="Layer",Y=R.getType()==="FastLayer";F||Y||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const R=this.visible()?"":"none";this.content.style.display=R}setContainer(R){if(typeof R===v){if(R.charAt(0)==="."){const Y=R.slice(1);R=document.getElementsByClassName(Y)[0]}else{var F;R.charAt(0)!=="#"?F=R:F=R.slice(1),R=document.getElementById(F)}if(!R)throw"Can not find container in document with id "+F}return this._setAttr("container",R),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),R.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const R=this.children,F=R.length;for(let Y=0;Y<F;Y++)R[Y].clear();return this}clone(R){return R||(R={}),R.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,R)}destroy(){super.destroy();const R=this.content;R&&t.Util._isInDocument(R)&&this.container().removeChild(R);const F=e.stages.indexOf(this);return F>-1&&e.stages.splice(F,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const R=this._pointerPositions[0]||this._changedPointerPositions[0];return R?{x:R.x,y:R.y}:(t.Util.warn(W),null)}_getPointerById(R){return this._pointerPositions.find(F=>F.id===R)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(R){R=R||{},R.x=R.x||0,R.y=R.y||0,R.width=R.width||this.width(),R.height=R.height||this.height();const F=new i.SceneCanvas({width:R.width,height:R.height,pixelRatio:R.pixelRatio||1}),Y=F.getContext()._context,re=this.children;return(R.x||R.y)&&Y.translate(-1*R.x,-1*R.y),re.forEach(function(se){if(!se.isVisible())return;const de=se._toKonvaCanvas(R);Y.drawImage(de._canvas,R.x,R.y,de.getWidth()/de.getPixelRatio(),de.getHeight()/de.getPixelRatio())}),F}getIntersection(R){if(!R)return null;const F=this.children,Y=F.length,re=Y-1;for(let se=re;se>=0;se--){const de=F[se].getIntersection(R);if(de)return de}return null}_resizeDOM(){const R=this.width(),F=this.height();this.content&&(this.content.style.width=R+w,this.content.style.height=F+w),this.bufferCanvas.setSize(R,F),this.bufferHitCanvas.setSize(R,F),this.children.forEach(Y=>{Y.setSize({width:R,height:F}),Y.draw()})}add(R,...F){if(arguments.length>1){for(let re=0;re<arguments.length;re++)this.add(arguments[re]);return this}super.add(R);const Y=this.children.length;return Y>G&&t.Util.warn("The stage has "+Y+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),R.setSize({width:this.width(),height:this.height()}),R.draw(),s.Konva.isBrowser&&this.content.appendChild(R.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(R){return h.hasPointerCapture(R,this)}setPointerCapture(R){h.setPointerCapture(R,this)}releaseCapture(R){h.releaseCapture(R,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&N.forEach(([R,F])=>{this.content.addEventListener(R,Y=>{this[F](Y)},{passive:!1})})}_pointerenter(R){this.setPointersPositions(R);const F=j(R.type);F&&this._fire(F.pointerenter,{evt:R,target:this,currentTarget:this})}_pointerover(R){this.setPointersPositions(R);const F=j(R.type);F&&this._fire(F.pointerover,{evt:R,target:this,currentTarget:this})}_getTargetShape(R){let F=this[R+"targetShape"];return F&&!F.getStage()&&(F=null),F}_pointerleave(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);const re=this._getTargetShape(Y),se=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;re&&se?(re._fireAndBubble(F.pointerout,{evt:R}),re._fireAndBubble(F.pointerleave,{evt:R}),this._fire(F.pointerleave,{evt:R,target:this,currentTarget:this}),this[Y+"targetShape"]=null):se&&(this._fire(F.pointerleave,{evt:R,target:this,currentTarget:this}),this._fire(F.pointerout,{evt:R,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);let re=!1;this._changedPointerPositions.forEach(se=>{const de=this.getIntersection(se);if(a.DD.justDragged=!1,s.Konva["_"+Y+"ListenClick"]=!0,!de||!de.isListening()){this[Y+"ClickStartShape"]=void 0;return}s.Konva.capturePointerEventsEnabled&&de.setPointerCapture(se.id),this[Y+"ClickStartShape"]=de,de._fireAndBubble(F.pointerdown,{evt:R,pointerId:se.id}),re=!0;const De=R.type.indexOf("touch")>=0;de.preventDefault()&&R.cancelable&&De&&R.preventDefault()}),re||this._fire(F.pointerdown,{evt:R,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(R){const F=j(R.type),Y=B(R.type);if(!F||(s.Konva.isDragging()&&a.DD.node.preventDefault()&&R.cancelable&&R.preventDefault(),this.setPointersPositions(R),!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled)))return;const se={};let de=!1;const De=this._getTargetShape(Y);this._changedPointerPositions.forEach(ot=>{const oe=h.getCapturedShape(ot.id)||this.getIntersection(ot),bt=ot.id,Je={evt:R,pointerId:bt},wt=De!==oe;if(wt&&De&&(De._fireAndBubble(F.pointerout,{...Je},oe),De._fireAndBubble(F.pointerleave,{...Je},oe)),oe){if(se[oe._id])return;se[oe._id]=!0}oe&&oe.isListening()?(de=!0,wt&&(oe._fireAndBubble(F.pointerover,{...Je},De),oe._fireAndBubble(F.pointerenter,{...Je},De),this[Y+"targetShape"]=oe),oe._fireAndBubble(F.pointermove,{...Je})):De&&(this._fire(F.pointerover,{evt:R,target:this,currentTarget:this,pointerId:bt}),this[Y+"targetShape"]=null)}),de||this._fire(F.pointermove,{evt:R,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);const re=this[Y+"ClickStartShape"],se=this[Y+"ClickEndShape"],de={};let De=!1;this._changedPointerPositions.forEach(ot=>{const oe=h.getCapturedShape(ot.id)||this.getIntersection(ot);if(oe){if(oe.releaseCapture(ot.id),de[oe._id])return;de[oe._id]=!0}const bt=ot.id,Je={evt:R,pointerId:bt};let wt=!1;s.Konva["_"+Y+"InDblClickWindow"]?(wt=!0,clearTimeout(this[Y+"DblTimeout"])):a.DD.justDragged||(s.Konva["_"+Y+"InDblClickWindow"]=!0,clearTimeout(this[Y+"DblTimeout"])),this[Y+"DblTimeout"]=setTimeout(function(){s.Konva["_"+Y+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),oe&&oe.isListening()?(De=!0,this[Y+"ClickEndShape"]=oe,oe._fireAndBubble(F.pointerup,{...Je}),s.Konva["_"+Y+"ListenClick"]&&re&&re===oe&&(oe._fireAndBubble(F.pointerclick,{...Je}),wt&&se&&se===oe&&oe._fireAndBubble(F.pointerdblclick,{...Je}))):(this[Y+"ClickEndShape"]=null,s.Konva["_"+Y+"ListenClick"]&&this._fire(F.pointerclick,{evt:R,target:this,currentTarget:this,pointerId:bt}),wt&&this._fire(F.pointerdblclick,{evt:R,target:this,currentTarget:this,pointerId:bt}))}),De||this._fire(F.pointerup,{evt:R,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+Y+"ListenClick"]=!1,R.cancelable&&Y!=="touch"&&Y!=="pointer"&&R.preventDefault()}_contextmenu(R){this.setPointersPositions(R);const F=this.getIntersection(this.getPointerPosition());F&&F.isListening()?F._fireAndBubble(L,{evt:R}):this._fire(L,{evt:R,target:this,currentTarget:this})}_wheel(R){this.setPointersPositions(R);const F=this.getIntersection(this.getPointerPosition());F&&F.isListening()?F._fireAndBubble(T,{evt:R}):this._fire(T,{evt:R,target:this,currentTarget:this})}_pointercancel(R){this.setPointersPositions(R);const F=h.getCapturedShape(R.pointerId)||this.getIntersection(this.getPointerPosition());F&&F._fireAndBubble(C,h.createEvent(R)),h.releaseCapture(R.pointerId)}_lostpointercapture(R){h.releaseCapture(R.pointerId)}setPointersPositions(R){const F=this._getContentPosition();let Y=null,re=null;R=R||window.event,R.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(R.touches,se=>{this._pointerPositions.push({id:se.identifier,x:(se.clientX-F.left)/F.scaleX,y:(se.clientY-F.top)/F.scaleY})}),Array.prototype.forEach.call(R.changedTouches||R.touches,se=>{this._changedPointerPositions.push({id:se.identifier,x:(se.clientX-F.left)/F.scaleX,y:(se.clientY-F.top)/F.scaleY})})):(Y=(R.clientX-F.left)/F.scaleX,re=(R.clientY-F.top)/F.scaleY,this.pointerPos={x:Y,y:re},this._pointerPositions=[{x:Y,y:re,id:t.Util._getFirstPointerId(R)}],this._changedPointerPositions=[{x:Y,y:re,id:t.Util._getFirstPointerId(R)}])}_setPointerPosition(R){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(R)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const R=this.content.getBoundingClientRect();return{top:R.top,left:R.left,scaleX:R.width/this.content.clientWidth||1,scaleY:R.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const R=this.container();if(!R)throw"Stage has no container. A container is required.";R.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),R.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(R){R.batchDraw()}),this}}e.Stage=z,z.prototype.nodeType=f,(0,c._registerNode)(z),r.Factory.addGetterSetter(z,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(ie=>{ie.batchDraw()})})}(hn)),hn}var Wt={},Xi;function oa(){if(Xi)return Wt;Xi=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.Layer=void 0;const e=we(),t=Qr(),r=hr(),n=yt(),s=Wr(),i=_t(),a=Jr(),c=ge(),h="#",f="beforeDraw",v="draw",w=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=w.length;class _ extends t.Container{constructor(u){super(u),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(u){return this.getContext().clear(u),this.getHitCanvas().getContext().clear(u),this}setZIndex(u){super.setZIndex(u);const x=this.getStage();return x&&x.content&&(x.content.removeChild(this.getNativeCanvasElement()),u<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[u+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const u=this.getStage();return u&&u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const x=this.getStage();return!x||!x.content?!1:(x.content.removeChild(this.getNativeCanvasElement()),this.index<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[this.index+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const u=this.getStage();if(u){const x=u.children;u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.insertBefore(this.getNativeCanvasElement(),x[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const u=this.getStage();if(u){const x=u.children;u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.insertBefore(this.getNativeCanvasElement(),x[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const u=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),u&&u.parentNode&&e.Util._isInDocument(u)&&u.parentNode.removeChild(u),this}getStage(){return this.parent}setSize({width:u,height:x}){return this.canvas.setSize(u,x),this.hitCanvas.setSize(u,x),this._setSmoothEnabled(),this}_validateAdd(u){const x=u.getType();x!=="Group"&&x!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(u){return u=u||{},u.width=u.width||this.getWidth(),u.height=u.height||this.getHeight(),u.x=u.x!==void 0?u.x:this.x(),u.y=u.y!==void 0?u.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,u)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(u){if(!this.isListening()||!this.isVisible())return null;let x=1,k=!1;for(;;){for(let l=0;l<b;l++){const o=w[l],p=this._getIntersection({x:u.x+o.x*x,y:u.y+o.y*x}),C=p.shape;if(C)return C;if(k=!!p.antialiased,!p.antialiased)break}if(k)x+=1;else return null}}_getIntersection(u){const x=this.hitCanvas.pixelRatio,k=this.hitCanvas.context.getImageData(Math.round(u.x*x),Math.round(u.y*x),1,1).data,l=k[3];if(l===255){const o=e.Util._rgbToHex(k[0],k[1],k[2]),p=a.shapes[h+o];return p?{shape:p}:{antialiased:!0}}else if(l>0)return{antialiased:!0};return{}}drawScene(u,x){const k=this.getLayer(),l=u||k&&k.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),t.Container.prototype.drawScene.call(this,l,x),this._fire(v,{node:this}),this}drawHit(u,x){const k=this.getLayer(),l=u||k&&k.hitCanvas;return k&&k.clearBeforeDraw()&&k.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,l,x),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(u){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(u)}getHitGraphEnabled(u){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const u=this.parent;!!this.hitCanvas._canvas.parentNode?u.content.removeChild(this.hitCanvas._canvas):u.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Wt.Layer=_,_.prototype.nodeType="Layer",(0,c._registerNode)(_),n.Factory.addGetterSetter(_,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(_,"clearBeforeDraw",!0),n.Factory.addGetterSetter(_,"hitGraphEnabled",!0,(0,i.getBooleanValidator)()),Wt}var Jt={},zi;function qc(){if(zi)return Jt;zi=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.FastLayer=void 0;const e=we(),t=oa(),r=ge();let n=class extends t.Layer{constructor(i){super(i),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Jt.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),Jt}var Zt={},Hi;function Kc(){if(Hi)return Zt;Hi=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.Group=void 0;const e=we(),t=Qr(),r=ge();let n=class extends t.Container{_validateAdd(i){const a=i.getType();a!=="Group"&&a!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return Zt.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),Zt}var Qt={},qi;function la(){if(qi)return Qt;qi=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Animation=void 0;const e=ge(),t=we(),r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class St{constructor(i,a){this.id=St.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=i,this.setLayers(a)}setLayers(i){let a=[];return i&&(a=Array.isArray(i)?i:[i]),this.layers=a,this}getLayers(){return this.layers}addLayer(i){const a=this.layers,c=a.length;for(let h=0;h<c;h++)if(a[h]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){const a=St.animations,c=a.length;for(let h=0;h<c;h++)if(a[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),St._addAnimation(this),this}stop(){return St._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){const a=i.id,c=this.animations,h=c.length;for(let f=0;f<h;f++)if(c[f].id===a){this.animations.splice(f,1);break}}static _runFrames(){const i={},a=this.animations;for(let c=0;c<a.length;c++){const h=a[c],f=h.layers,v=h.func;h._updateFrameObject(r());const w=f.length;let b;if(v?b=v.call(h,h.frame)!==!1:b=!0,!!b)for(let _=0;_<w;_++){const g=f[_];g._id!==void 0&&(i[g._id]=g)}}for(const c in i)i.hasOwnProperty(c)&&i[c].batchDraw()}static _animationLoop(){const i=St;i.animations.length?(i._runFrames(),t.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return Qt.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,Qt}var fn={},Ki;function Wc(){return Ki||(Ki=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=we(),r=la(),n=hr(),s=ge(),i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,c=2,h=3,f=["fill","stroke","shadowColor"];let v=0;class w{constructor(g,u,x,k,l,o,p){this.prop=g,this.propFunc=u,this.begin=k,this._pos=k,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=p,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=l-this.begin,this.pause()}fire(g){const u=this[g];u&&u()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===c?this.setTime(g):this.state===h&&this.setTime(this.duration-g)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(g){const u=this,x=g.node,k=x._id,l=g.easing||e.Easings.Linear,o=!!g.yoyo;let p,C;typeof g.duration>"u"?p=.3:g.duration===0?p=.001:p=g.duration,this.node=x,this._id=v++;const P=x.getLayer()||(x instanceof s.Konva.Stage?x.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){u.tween.onEnterFrame()},P),this.tween=new w(C,function(D){u._tweenFunc(D)},l,0,1,p*1e3,o),this._addListeners(),b.attrs[k]||(b.attrs[k]={}),b.attrs[k][this._id]||(b.attrs[k][this._id]={}),b.tweens[k]||(b.tweens[k]={});for(C in g)i[C]===void 0&&this._addAttr(C,g[C]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,u){const x=this.node,k=x._id;let l,o,p,C,P;const D=b.tweens[k][g];D&&delete b.attrs[k][D][g];let S=x.getAttr(g);if(t.Util._isArray(u))if(l=[],o=Math.max(u.length,S.length),g==="points"&&u.length!==S.length&&(u.length>S.length?(C=S,S=t.Util._prepareArrayForTween(S,u,x.closed())):(p=u,u=t.Util._prepareArrayForTween(u,S,x.closed()))),g.indexOf("fill")===0)for(let O=0;O<o;O++)if(O%2===0)l.push(u[O]-S[O]);else{const E=t.Util.colorToRGBA(S[O]);P=t.Util.colorToRGBA(u[O]),S[O]=E,l.push({r:P.r-E.r,g:P.g-E.g,b:P.b-E.b,a:P.a-E.a})}else for(let O=0;O<o;O++)l.push(u[O]-S[O]);else f.indexOf(g)!==-1?(S=t.Util.colorToRGBA(S),P=t.Util.colorToRGBA(u),l={r:P.r-S.r,g:P.g-S.g,b:P.b-S.b,a:P.a-S.a}):l=u-S;b.attrs[k][this._id][g]={start:S,diff:l,end:u,trueEnd:p,trueStart:C},b.tweens[k][g]=this._id}_tweenFunc(g){const u=this.node,x=b.attrs[u._id][this._id];let k,l,o,p,C,P,D,S;for(k in x){if(l=x[k],o=l.start,p=l.diff,S=l.end,t.Util._isArray(o))if(C=[],D=Math.max(o.length,S.length),k.indexOf("fill")===0)for(P=0;P<D;P++)P%2===0?C.push((o[P]||0)+p[P]*g):C.push("rgba("+Math.round(o[P].r+p[P].r*g)+","+Math.round(o[P].g+p[P].g*g)+","+Math.round(o[P].b+p[P].b*g)+","+(o[P].a+p[P].a*g)+")");else for(P=0;P<D;P++)C.push((o[P]||0)+p[P]*g);else f.indexOf(k)!==-1?C="rgba("+Math.round(o.r+p.r*g)+","+Math.round(o.g+p.g*g)+","+Math.round(o.b+p.b*g)+","+(o.a+p.a*g)+")":C=o+p*g;u.setAttr(k,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,u=b.attrs[g._id][this._id];u.points&&u.points.trueEnd&&g.setAttr("points",u.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,u=b.attrs[g._id][this._id];u.points&&u.points.trueStart&&g.points(u.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,u=this._id,x=b.tweens[g];this.pause();for(const k in x)delete b.tweens[g][k];delete b.attrs[g][u]}}e.Tween=b,b.attrs={},b.tweens={},n.Node.prototype.to=function(_){const g=_.onFinish;_.node=this,_.onFinish=function(){this.destroy(),g&&g()},new b(_).play()},e.Easings={BackEaseIn(_,g,u,x){return u*(_/=x)*_*((1.70158+1)*_-1.70158)+g},BackEaseOut(_,g,u,x){return u*((_=_/x-1)*_*((1.70158+1)*_+1.70158)+1)+g},BackEaseInOut(_,g,u,x){let k=1.70158;return(_/=x/2)<1?u/2*(_*_*(((k*=1.525)+1)*_-k))+g:u/2*((_-=2)*_*(((k*=1.525)+1)*_+k)+2)+g},ElasticEaseIn(_,g,u,x,k,l){let o=0;return _===0?g:(_/=x)===1?g+u:(l||(l=x*.3),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),-(k*Math.pow(2,10*(_-=1))*Math.sin((_*x-o)*(2*Math.PI)/l))+g)},ElasticEaseOut(_,g,u,x,k,l){let o=0;return _===0?g:(_/=x)===1?g+u:(l||(l=x*.3),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),k*Math.pow(2,-10*_)*Math.sin((_*x-o)*(2*Math.PI)/l)+u+g)},ElasticEaseInOut(_,g,u,x,k,l){let o=0;return _===0?g:(_/=x/2)===2?g+u:(l||(l=x*(.3*1.5)),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),_<1?-.5*(k*Math.pow(2,10*(_-=1))*Math.sin((_*x-o)*(2*Math.PI)/l))+g:k*Math.pow(2,-10*(_-=1))*Math.sin((_*x-o)*(2*Math.PI)/l)*.5+u+g)},BounceEaseOut(_,g,u,x){return(_/=x)<1/2.75?u*(7.5625*_*_)+g:_<2/2.75?u*(7.5625*(_-=1.5/2.75)*_+.75)+g:_<2.5/2.75?u*(7.5625*(_-=2.25/2.75)*_+.9375)+g:u*(7.5625*(_-=2.625/2.75)*_+.984375)+g},BounceEaseIn(_,g,u,x){return u-e.Easings.BounceEaseOut(x-_,0,u,x)+g},BounceEaseInOut(_,g,u,x){return _<x/2?e.Easings.BounceEaseIn(_*2,0,u,x)*.5+g:e.Easings.BounceEaseOut(_*2-x,0,u,x)*.5+u*.5+g},EaseIn(_,g,u,x){return u*(_/=x)*_+g},EaseOut(_,g,u,x){return-u*(_/=x)*(_-2)+g},EaseInOut(_,g,u,x){return(_/=x/2)<1?u/2*_*_+g:-u/2*(--_*(_-2)-1)+g},StrongEaseIn(_,g,u,x){return u*(_/=x)*_*_*_*_+g},StrongEaseOut(_,g,u,x){return u*((_=_/x-1)*_*_*_*_+1)+g},StrongEaseInOut(_,g,u,x){return(_/=x/2)<1?u/2*_*_*_*_*_+g:u/2*((_-=2)*_*_*_*_+2)+g},Linear(_,g,u,x){return u*_/x+g}}}(fn)),fn}var Wi;function Ji(){return Wi||(Wi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=ge(),r=we(),n=hr(),s=Qr(),i=Hc(),a=oa(),c=qc(),h=Kc(),f=Jn(),v=Jr(),w=la(),b=Wc(),_=na(),g=Wr();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:s.Container,Stage:i.Stage,stages:i.stages,Layer:a.Layer,FastLayer:c.FastLayer,Group:h.Group,DD:f.DD,Shape:v.Shape,shapes:v.shapes,Animation:w.Animation,Tween:b.Tween,Easings:b.Easings,Context:_.Context,Canvas:g.Canvas}),e.default=e.Konva}(un)),un}var Zi;function Jc(){return Zi||(Zi=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=Ji();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const n=Ji();e.exports=n.Konva}(vr,vr.exports)),vr.exports}var Zc=Jc();const ca=Vc(Zc);function Qc(e,t){ke(t,!0);const[r,n]=zn(),s=()=>Xn(l,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),_=V(t,"skewY",15),g=Hr(t,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new ca.Layer({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:_(),...g}),x=Us(null);let k=rr(!1),l=zc();Ut(()=>{if(s().add(u),!i()){const D=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(D.x),c()!==void 0&&c(D.y),h()!==void 0&&h(D.scale),f()!==void 0&&f(D.scaleX),v()!==void 0&&v(D.scaleY),w()!==void 0&&w(D.rotation),b()!==void 0&&b(D.skewX),_()!==void 0&&_(D.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(D.x),c()!==void 0&&c(D.y)})}Object.keys(g).filter(D=>!D.startsWith("on")).forEach(D=>{$(()=>{u.setAttr(D,g[D])})}),$(()=>{u.setAttr("x",a())}),$(()=>{u.setAttr("y",c())}),$(()=>{u.setAttr("scale",h())}),$(()=>{u.setAttr("scaleX",f())}),$(()=>{u.setAttr("scaleY",v())}),$(()=>{u.setAttr("rotation",w())}),$(()=>{u.setAttr("skewX",b())}),$(()=>{u.setAttr("skewY",_())}),Zr(g,u),x.set(u),Z(k,!0)}),ur(()=>{u.destroy()}),sa(ar.Layer,x);var o=ce(),p=ae(o);{var C=D=>{var S=ce(),O=ae(S);Ls(O,()=>t.children),K(D,S)};Te(p,D=>{M(k)&&t.children&&D(C)})}K(e,o);var P=Se({handle:u});return n(),P}var $t={},Qi;function $c(){if(Qi)return $t;Qi=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.Rect=void 0;const e=yt(),t=Jr(),r=ge(),n=we(),s=_t();class i extends t.Shape{_sceneFunc(c){const h=this.cornerRadius(),f=this.width(),v=this.height();c.beginPath(),h?n.Util.drawRoundedRectPath(c,f,v,h):c.rect(0,0,f,v),c.closePath(),c.fillStrokeShape(this)}}return $t.Rect=i,i.prototype.className="Rect",(0,r._registerNode)(i),e.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),$t}var ed=$c();function td(e,t){ke(t,!0);const[r,n]=zn(),s=()=>Xn(x,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),_=V(t,"skewY",15),g=Hr(t,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new ed.Rect({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:_(),...g}),x=aa();Ut(()=>{if(s().add(u),!i()){const l=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y),h()!==void 0&&h(l.scale),f()!==void 0&&f(l.scaleX),v()!==void 0&&v(l.scaleY),w()!==void 0&&w(l.rotation),b()!==void 0&&b(l.skewX),_()!==void 0&&_(l.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y)})}Object.keys(g).filter(l=>!l.startsWith("on")).forEach(l=>{$(()=>{u.setAttr(l,g[l])})}),$(()=>{u.setAttr("x",a())}),$(()=>{u.setAttr("y",c())}),$(()=>{u.setAttr("scale",h())}),$(()=>{u.setAttr("scaleX",f())}),$(()=>{u.setAttr("scaleY",v())}),$(()=>{u.setAttr("rotation",w())}),$(()=>{u.setAttr("skewX",b())}),$(()=>{u.setAttr("skewY",_())}),Zr(g,u)}),ur(()=>{u.destroy()});var k=Se({handle:u});return n(),k}var rd=Jr();function da(e,t){ke(t,!0);const[r,n]=zn(),s=()=>Xn(x,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),_=V(t,"skewY",15),g=Hr(t,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new rd.Shape({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:_(),...g}),x=aa();Ut(()=>{if(s().add(u),!i()){const l=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y),h()!==void 0&&h(l.scale),f()!==void 0&&f(l.scaleX),v()!==void 0&&v(l.scaleY),w()!==void 0&&w(l.rotation),b()!==void 0&&b(l.skewX),_()!==void 0&&_(l.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y)})}Object.keys(g).filter(l=>!l.startsWith("on")).forEach(l=>{$(()=>{u.setAttr(l,g[l])})}),$(()=>{u.setAttr("x",a())}),$(()=>{u.setAttr("y",c())}),$(()=>{u.setAttr("scale",h())}),$(()=>{u.setAttr("scaleX",f())}),$(()=>{u.setAttr("scaleY",v())}),$(()=>{u.setAttr("rotation",w())}),$(()=>{u.setAttr("skewX",b())}),$(()=>{u.setAttr("skewY",_())}),Zr(g,u)}),ur(()=>{u.destroy()});var k=Se({handle:u});return n(),k}var nd=Re("<div><!></div>");function id(e,t){ke(t,!0);let r=V(t,"staticConfig",3,!1),n=V(t,"x",15),s=V(t,"y",15),i=Hr(t,["$$slots","$$events","$$legacy","children","staticConfig","x","y","divWrapperProps"]),a=rr(null);function c(){return M(a)}const h=Us(null);let f,v=rr(!1);Ut(()=>{if(Z(a,rt(new ca.Stage({container:f,y:s(),x:n(),...i}))),!r()){const u=M(a).getAttrs();M(a).on("dragend",()=>{n()!==void 0&&n(u.x),s()!==void 0&&s(u.y)})}Object.keys(i).filter(u=>!u.startsWith("on")).forEach(u=>{$(()=>{M(a).setAttr(u,i[u])})}),$(()=>{M(a).setAttr("x",n())}),$(()=>{M(a).setAttr("y",s())}),Zr(i,M(a)),h.set(M(a)),Z(v,!0)}),ur(()=>{M(a)&&M(a).destroy()}),sa(ar.Stage,h);var w=nd();let b;var _=ve(w);{var g=u=>{var x=ce(),k=ae(x);Ls(k,()=>t.children),K(u,x)};Te(_,u=>{M(v)&&t.children&&u(g)})}return Or(w,u=>f=u,()=>f),_e(()=>b=Ne(w,b,{...t.divWrapperProps})),K(e,w),Se({handle:c})}const $i=(e,t,r)=>Math.max(Math.min(e,r),t),fe=e=>e*Math.PI/180,sd=e=>e*180/Math.PI;function ad(e,t){ke(t,!0);const r=7,n=2,s=V(t,"showPath",3,!1);da(e,{get scaleX(){return t.pixelPerMeter},get scaleY(){return t.pixelPerMeter},get width(){return t.route.box.width},get height(){return t.route.box.height},sceneFunc:i=>{const a=t.route.elementToDraw;for(const c of["border","road"]){i.beginPath();for(const h of a)switch(h.type){case"line":{i.lineTo(h.x,h.y);break}case"move":{i.moveTo(h.x,h.y);break}case"arc":{i.arc(h.cx,h.cy,h.radius,h.startAngleRad,h.endAngleRad,h.anticlockwise);break}}i.lineWidth=c==="border"?r+n*2:r,i.strokeStyle=c==="border"?"#ccc":"#888",i.stroke()}if(s())for(let c=0;c<t.route.pathLength;c++){const h=t.route.getPathPoint(c);i.beginPath(),i.arc(h.x,h.y,1,0,fe(360),!1),i.fillStyle="#f00",i.fill()}}}),Se()}function od(e,t){ke(t,!0);const r=pe(()=>t.drawingData.point.x*t.pixelPerMeter),n=pe(()=>t.drawingData.point.y*t.pixelPerMeter);da(e,{get scaleX(){return t.pixelPerMeter},get scaleY(){return t.pixelPerMeter},get x(){return M(r)},get y(){return M(n)},get rotation(){return t.drawingData.point.angle},sceneFunc:s=>{s.beginPath(),s.moveTo(-t.drawingData.carDescriptor.shape.length/2,0),s.lineTo(t.drawingData.carDescriptor.shape.length/2,0),s.lineWidth=t.drawingData.carDescriptor.shape.width,s.strokeStyle=t.drawingData.color,s.stroke(),t.drawingData.isBreaking&&(s.beginPath(),s.moveTo(-t.drawingData.carDescriptor.shape.length/2,0),s.lineTo(-t.drawingData.carDescriptor.shape.length/2+1,0),s.lineWidth=t.drawingData.carDescriptor.shape.width,s.strokeStyle="red",s.stroke())}}),Se()}var ld=Re(' <span class="font-semibold"> </span>%',1),cd=Re("<div><!> <!></div>");function es(e,t){let n=V(t,"class",8,""),s=V(t,"title",8,"Zoom"),i=V(t,"value",12,100),a=V(t,"min",8,0),c=V(t,"max",8,100),h=V(t,"step",8,1);var f=cd(),v=ve(f);Nc(v,{defaultClass:"text-sm whitespace-nowrap cursor-pointer",title:"Reset zoom",onclick:()=>{i(100)},children:(b,_)=>{var g=ld(),u=ae(g),x=Me(u),k=ve(x);_e(()=>{Dr(u,`${s()??""}: `),Dr(k,i())}),K(b,g)},$$slots:{default:!0}});var w=Me(v,2);Bc(w,{get min(){return a()},get max(){return c()},get step(){return h()},id:"imageZoom",get value(){return i()},set value(b){i(b)},$$legacy:!0}),_e(()=>kn(f,n()+" flex items-center space-x-2")),K(e,f)}const ts=30;class dd{constructor(t,r){me(this,"boundingBoxCache");me(this,"pathLengthCache");me(this,"pathPointsCache",[]);me(this,"elementsToDrawCache");me(this,"calcTotalPathLength",()=>this.path.reduce((t,r)=>t+(r.type==="line"?r.length:Math.abs(r.radius*fe(r.angle))),0));this.startPoint=t,this.path=r,this.pathLengthCache=Math.trunc(this.calcTotalPathLength());for(let n=0;n<this.pathLengthCache;n++)this.pathPointsCache.push(this.calcPositionOnPath(n));for(let n=0;n<this.pathLengthCache;n++)for(let s=n+1;s<this.pathLengthCache*2;s++){const i=this.pathPointsCache[s%this.pathLengthCache],a=this.pathPointsCache[n];if(i.radius!=0&&(a.radius===0||i.radius<a.radius)){a.nextCurve={distance:s-n,radius:i.radius};break}}this.boundingBoxCache=this.calculateBoundingBox(),this.elementsToDrawCache=this.getPathElementsToDraw()}get pathLength(){return this.pathLengthCache}getPathPoint(t){return this.pathPointsCache[Math.trunc(t%this.pathLengthCache)]}get box(){return{offsetX:-30+this.boundingBoxCache.minX,offsetY:-30+this.boundingBoxCache.minY,width:this.boundingBoxCache.maxX-this.boundingBoxCache.minX+2*ts,height:this.boundingBoxCache.maxY-this.boundingBoxCache.minY+2*ts}}get elementToDraw(){return this.elementsToDrawCache}calcPositionOnPath(t){let r=t%this.calcTotalPathLength(),n=this.startPoint.x,s=this.startPoint.y,i=this.startPoint.angle,a=0;for(;r>0;)for(const c of this.path)if(c.type==="line"){if(r<=c.length)return n+=r*Math.cos(fe(i)),s+=r*Math.sin(fe(i)),{x:n,y:s,angle:i,radius:0,nextCurve:void 0};n+=c.length*Math.cos(fe(i)),s+=c.length*Math.sin(fe(i)),r-=c.length,a=0}else if(c.type==="arc"){const h=Math.abs(c.radius*fe(c.angle)),f=c.angle<0,v=r/c.radius,w=sd(v),b=n-c.radius*Math.sin(fe(i))*(f?-1:1),_=s+c.radius*Math.cos(fe(i))*(f?-1:1);if(r<=h)return i+=w*Math.sign(c.angle),n=b+c.radius*Math.cos(fe(i-90*(f?-1:1))),s=_+c.radius*Math.sin(fe(i-90*(f?-1:1))),{x:n,y:s,angle:i,radius:c.radius,nextCurve:void 0};i+=c.angle,n=b+c.radius*Math.cos(fe(i-90*(f?-1:1))),s=_+c.radius*Math.sin(fe(i-90*(f?-1:1))),r-=h,a=c.radius}return{x:n,y:s,angle:i,radius:a,nextCurve:void 0}}calculateBoundingBox(){let t=this.startPoint.x,r=this.startPoint.y,n=this.startPoint.x,s=this.startPoint.y;for(let i=0;i<this.pathLengthCache;i++){const a=this.calcPositionOnPath(i);t=Math.trunc(Math.min(t,a.x)),r=Math.trunc(Math.min(r,a.y)),n=Math.trunc(Math.max(n,a.x)),s=Math.trunc(Math.max(s,a.y))}return{minX:t,minY:r,maxX:n,maxY:s}}getPathElementsToDraw(){const t=[];t.push({type:"move",x:this.startPoint.x,y:this.startPoint.y});let r=this.startPoint.x,n=this.startPoint.y,s=this.startPoint.angle;for(const i of this.path)if(i.type==="line"){const a=r+i.length*Math.cos(fe(s)),c=n+i.length*Math.sin(fe(s));t.push({type:"line",x:a,y:c}),r=a,n=c}else if(i.type==="arc"){const a=i.angle<0,c=r-i.radius*Math.sin(fe(s))*(a?-1:1),h=n+i.radius*Math.cos(fe(s))*(a?-1:1),f=fe(s-90*(a?-1:1)),v=fe(s-90*(a?-1:1)+i.angle);t.push({type:"arc",cx:c,cy:h,radius:i.radius,startAngleRad:f,endAngleRad:v,anticlockwise:a}),r=c+i.radius*Math.cos(v),n=h+i.radius*Math.sin(v),s+=i.angle}return t}}const mr={car:{engine:{breakAcceleration:1},shape:{width:2.5,length:5}},truck:{engine:{breakAcceleration:1},shape:{width:3.5,length:9}}};class gn{constructor(t,r,n,s=0){me(this,"position",0);me(this,"speed",0);me(this,"targetSpeed",0);me(this,"acceleration",0);me(this,"getStatus",()=>({position:Math.trunc(this.position),speed:Math.trunc(this.speed),targetSpeed:Math.trunc(this.targetSpeed),carType:this.carType,carDescriptor:mr[this.carType],color:this.color,isAccelerating:this.acceleration>0,isBreaking:this.acceleration<-mr[this.carType].engine.breakAcceleration}));me(this,"lastMove",Date.now());me(this,"accelerate",(t=1)=>this.acceleration=this.driveParameters.maxAcceleration*$i(t,0,1));me(this,"hold",()=>this.acceleration=0);me(this,"release",()=>this.acceleration=-mr[this.carType].engine.breakAcceleration);me(this,"break",(t=1)=>this.acceleration=-this.driveParameters.maxBreak*$i(t,0,1));this.carType=t,this.color=r,this.driveParameters=n,this.position=s}reset(){this.position=0,this.speed=0,this.acceleration=0}move(t,r,n,s){const i=(Date.now()-this.lastMove)/1e3*(s/100);this.lastMove=Date.now(),this.position+=this.speed*i,this.speed+=this.acceleration*i;const a=[this.driveParameters.maxSpeed];t.speed<this.speed&&t.distance<Math.max(this.speed**2/(2*this.driveParameters.maxBreak),mr[this.carType].shape.length)*2&&a.push(t.speed),r.radius&&a.push(r.radius),n&&n.distance<(this.speed**2-n.radius**2)/(2*this.driveParameters.maxBreak)&&a.push(n.radius),this.targetSpeed=Math.min(...a),this.speed===this.targetSpeed?this.hold():this.speed<this.targetSpeed?this.accelerate(this.speed<this.targetSpeed/2?1:.75):this.speed>this.targetSpeed*1.05?this.break():this.release()}}const Fe={route:new dd({x:0,y:0,angle:0},[{type:"line",length:100},{type:"arc",radius:50,angle:100},{type:"line",length:100},{type:"arc",radius:40,angle:-110},{type:"line",length:100},{type:"arc",radius:30,angle:180},{type:"line",length:300},{type:"arc",radius:50,angle:45},{type:"line",length:10},{type:"arc",radius:30,angle:180},{type:"arc",radius:20,angle:-180},{type:"line",length:80},{type:"arc",radius:20,angle:-180},{type:"arc",radius:30,angle:180},{type:"arc",radius:50,angle:75},{type:"line",length:50},{type:"arc",radius:50,angle:-20},{type:"line",length:59.5},{type:"arc",radius:50,angle:45},{type:"arc",radius:70,angle:45},{type:"line",length:54}]),vehicles:[new gn("car","#4c4",{maxSpeed:100,maxAcceleration:15,maxBreak:25},20),new gn("car","#44c",{maxSpeed:60,maxAcceleration:20,maxBreak:20},10),new gn("car","#c4c",{maxSpeed:80,maxAcceleration:15,maxBreak:20},0)]};var ud=Re("<!> <!> <!>",1),hd=Re('<span class="flex flex-row gap-1 items-center"> <span class="text-xs">m/sec</span> <!></span>'),fd=Re('<div class="grid grid-cols-3"><div class="flex justify-center my-4"><!></div> <div class="flex justify-center my-4"> </div> <div class="flex justify-center my-4"><!></div></div> <div class="flex justify-center"><!></div> <div class="absolute top-0 left-0 p-4"><!></div> <div class="absolute top-0 right-0 p-4"><!></div>',1);function gd(e,t){ke(t,!0);const r=2,n=Fe.route.box,s=Fe.route.pathLength;let i=rr(100),a=rr(100);const c=new On;setInterval(()=>{for(let d=0;d<Fe.vehicles.length;d++){const y=Fe.vehicles[d],m=Fe.vehicles.length<2?void 0:d>0?Fe.vehicles[d-1]:Fe.vehicles.at(-1),A=y.getStatus(),T=Fe.route.getPathPoint(A.position);y.move(m?{distance:(m.getStatus().position+m.getStatus().carDescriptor.shape.length-A.position-A.carDescriptor.shape.length+s)%s,speed:m.getStatus().speed}:{distance:1e3,speed:1e3},{radius:T.radius},T.nextCurve,M(a));const G=y.getStatus();c.set(y,{...G,point:Fe.route.getPathPoint(G.position)})}},10);const h=()=>{c.clear();for(const d of Fe.vehicles)d.reset()};var f=fd(),v=ae(f),w=ve(v),b=ve(w);es(b,{class:"w-3/5",min:10,max:300,step:10,get value(){return M(i)},set value(d){Z(i,rt(d))}});var _=Me(w,2),g=ve(_),u=Me(_,2),x=ve(u);es(x,{class:"w-3/5",title:"Speed",min:10,max:100,step:10,get value(){return M(a)},set value(d){Z(a,rt(d))}});var k=Me(v,2),l=ve(k);const o=pe(()=>r*n.width*(M(i)/100)),p=pe(()=>r*n.height*(M(i)/100)),C=pe(()=>M(i)/100),P=pe(()=>M(i)/100),D=pe(()=>r*n.offsetX),S=pe(()=>r*n.offsetY);id(l,{get width(){return M(o)},get height(){return M(p)},get scaleX(){return M(C)},get scaleY(){return M(P)},get offsetX(){return M(D)},get offsetY(){return M(S)},children:(d,y)=>{Qc(d,{children:(m,A)=>{var T=ud(),G=ae(T);const N=pe(()=>r*n.offsetX),U=pe(()=>r*n.offsetY),B=pe(()=>r*n.width),j=pe(()=>r*n.height);td(G,{id:"background",get x(){return M(N)},get y(){return M(U)},get width(){return M(B)},get height(){return M(j)},fill:"#7a7",stroke:"#888"});var H=Me(G,2);ad(H,{get route(){return Fe.route},pixelPerMeter:r});var W=Me(H,2);di(W,17,()=>c.values(),ci,(z,ie)=>{od(z,{get drawingData(){return M(ie)},pixelPerMeter:r})}),K(m,T)},$$slots:{default:!0}})},$$slots:{default:!0}});var O=Me(k,2),E=ve(O);Fc(E,{class:"w-48 ",shadow:!1,children:(d,y)=>{var m=ce(),A=ae(m);di(A,17,()=>c.values(),ci,(T,G)=>{var N=hd(),U=ve(N),B=Me(U,3);{var j=W=>{Ai(W,{icon:"mdi:arrow-up",width:"16"})},H=W=>{var z=ce(),ie=ae(z);{var R=F=>{Ai(F,{icon:"mdi:arrow-down",width:"16"})};Te(ie,F=>{M(G).isBreaking&&F(R)},!0)}K(W,z)};Te(B,W=>{M(G).isAccelerating?W(j):W(H,!1)})}_e(()=>{jn(N,"style",`color: ${M(G).color}`),Dr(U,`${M(G).speed??""} `)}),K(T,N)}),K(d,m)},$$slots:{default:!0}});var I=Me(O,2),L=ve(I);Lc(L,{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",$$events:{click:h},children:(d,y)=>{var m=Co("Reset");K(d,m)},$$slots:{default:!0}}),_e(()=>Dr(g,`${s??""} m in ${n.width??""} x ${n.height??""} m`)),K(e,f),Se()}xo(gd,{target:document.querySelector("#app")});
