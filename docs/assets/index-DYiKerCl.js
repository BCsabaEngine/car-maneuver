var ga=Object.defineProperty;var pa=Object.getPrototypeOf;var va=Reflect.get;var ei=e=>{throw TypeError(e)};var ma=(e,t,r)=>t in e?ga(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ve=(e,t,r)=>ma(e,typeof t!="symbol"?t+"":t,r),ti=(e,t,r)=>t.has(e)||ei("Cannot "+r);var ue=(e,t,r)=>(ti(e,t,"read from private field"),r?r.call(e):t.get(e)),Yt=(e,t,r)=>t.has(e)?ei("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r);var gr=(e,t,r)=>(ti(e,t,"access private method"),r);var ri=(e,t,r)=>va(pa(e),r,t);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const ni=!1;var lr=Array.isArray,_a=Array.prototype.indexOf,Gn=Array.from,ss=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,as=Object.getOwnPropertyDescriptors,ya=Object.prototype,ba=Array.prototype,Fn=Object.getPrototypeOf;function St(e){return typeof e=="function"}const Ie=()=>{};function wa(e){return e()}function mn(e){for(var t=0;t<e.length;t++)e[t]()}const Be=2,os=4,Nr=8,Mr=16,at=32,cr=64,xr=128,Ge=256,kr=512,ye=1024,ot=2048,_t=4096,st=8192,Ur=16384,ls=32768,Ot=65536,Ca=1<<17,xa=1<<19,cs=1<<20,pt=Symbol("$state"),ds=Symbol("legacy props"),ka=Symbol("");function us(e){return e===this.v}function Nn(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Mn(e){return!Nn(e,this.v)}function Sa(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Pa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ea(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Aa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ta(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ra(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Da(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Oa(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Ia(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let It=!1,La=!1;function Ga(){It=!0}const Fa=1,Na=2,Ma=16,Ua=1,Ba=2,hs=4,Va=8,Ya=16,ja=4,fs=1,Xa=2,xe=Symbol(),Sr="http://www.w3.org/2000/svg";function Br(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let $=null;function ii(e){$=e}function Un(e){return gs().get(e)}function Pr(e,t){return gs().set(e,t),t}function Se(e,t=!1,r){$={p:$,c:null,e:null,m:!1,s:e,x:null,l:null},It&&!t&&($.l={s:null,u:null,r1:[],r2:fe(!1)})}function Pe(e){const t=$;if(t!==null){e!==void 0&&(t.x=e);const a=t.e;if(a!==null){var r=te,n=ne;t.e=null;try{for(var s=0;s<a.length;s++){var i=a[s];Je(i.effect),We(i.reaction),ur(i.fn)}}finally{Je(r),We(n)}}$=t.p,t.m=!0}return e||{}}function dr(){return!It||$!==null&&$.l===null}function gs(e){return $===null&&Br(),$.c??($.c=new Map(za($)||void 0))}function za(e){let t=e.p;for(;t!==null;){const r=t.c;if(r!==null)return r;t=t.p}return null}function fe(e,t){var r={f:0,v:e,reactions:null,equals:us,rv:0,wv:0};return r}function nr(e){return ps(fe(e))}function Vr(e,t=!1){var n;const r=fe(e);return t||(r.equals=Mn),It&&$!==null&&$.l!==null&&((n=$.l).s??(n.s=[])).push(r),r}function Le(e,t=!1){return ps(Vr(e,t))}function ps(e){return ne!==null&&!He&&ne.f&Be&&(Ke===null?to([e]):Ke.push(e)),e}function tn(e,t){return J(e,Fe(()=>N(e))),t}function J(e,t){return ne!==null&&!He&&dr()&&ne.f&(Be|Mr)&&(Ke===null||!Ke.includes(e))&&Ia(),vs(e,t)}function vs(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=Os(),ms(e,ot),dr()&&te!==null&&te.f&ye&&!(te.f&(at|cr))&&(tt===null?ro([e]):tt.push(e))),t}function _n(e,t=1){var r=N(e),n=t===1?r++:r--;return J(e,r),n}function ms(e,t){var r=e.reactions;if(r!==null)for(var n=dr(),s=r.length,i=0;i<s;i++){var a=r[i],c=a.f;c&ot||!n&&a===te||(Ye(a,t),c&(ye|Ge)&&(c&Be?ms(a,_t):qr(a)))}}let _s=!1;function nt(e,t=null,r){if(typeof e!="object"||e===null||pt in e)return e;const n=Fn(e);if(n!==ya&&n!==ba)return e;var s=new Map,i=lr(e),a=fe(0);i&&s.set("length",fe(e.length));var c;return new Proxy(e,{defineProperty(h,f,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Ra();var w=s.get(f);return w===void 0?(w=fe(v.value),s.set(f,w)):J(w,nt(v.value,c)),!0},deleteProperty(h,f){var v=s.get(f);if(v===void 0)f in h&&s.set(f,fe(xe));else{if(i&&typeof f=="string"){var w=s.get("length"),b=Number(f);Number.isInteger(b)&&b<w.v&&J(w,b)}J(v,xe),si(a)}return!0},get(h,f,v){var g;if(f===pt)return e;var w=s.get(f),b=f in h;if(w===void 0&&(!b||(g=gt(h,f))!=null&&g.writable)&&(w=fe(nt(b?h[f]:xe,c)),s.set(f,w)),w!==void 0){var m=N(w);return m===xe?void 0:m}return Reflect.get(h,f,v)},getOwnPropertyDescriptor(h,f){var v=Reflect.getOwnPropertyDescriptor(h,f);if(v&&"value"in v){var w=s.get(f);w&&(v.value=N(w))}else if(v===void 0){var b=s.get(f),m=b==null?void 0:b.v;if(b!==void 0&&m!==xe)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return v},has(h,f){var m;if(f===pt)return!0;var v=s.get(f),w=v!==void 0&&v.v!==xe||Reflect.has(h,f);if(v!==void 0||te!==null&&(!w||(m=gt(h,f))!=null&&m.writable)){v===void 0&&(v=fe(w?nt(h[f],c):xe),s.set(f,v));var b=N(v);if(b===xe)return!1}return w},set(h,f,v,w){var o;var b=s.get(f),m=f in h;if(i&&f==="length")for(var g=v;g<b.v;g+=1){var u=s.get(g+"");u!==void 0?J(u,xe):g in h&&(u=fe(xe),s.set(g+"",u))}b===void 0?(!m||(o=gt(h,f))!=null&&o.writable)&&(b=fe(void 0),J(b,nt(v,c)),s.set(f,b)):(m=b.v!==xe,J(b,nt(v,c)));var x=Reflect.getOwnPropertyDescriptor(h,f);if(x!=null&&x.set&&x.set.call(w,v),!m){if(i&&typeof f=="string"){var k=s.get("length"),l=Number(f);Number.isInteger(l)&&l>=k.v&&J(k,l+1)}si(a)}return!0},ownKeys(h){N(a);var f=Reflect.ownKeys(h).filter(b=>{var m=s.get(b);return m===void 0||m.v!==xe});for(var[v,w]of s)w.v!==xe&&!(v in h)&&f.push(v);return f},setPrototypeOf(){Da()}})}function si(e,t=1){J(e,e.v+t)}var ai,ys,bs,ws;function Ha(){if(ai===void 0){ai=window,ys=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype;bs=gt(t,"firstChild").get,ws=gt(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Yr(e=""){return document.createTextNode(e)}function Ae(e){return bs.call(e)}function jr(e){return ws.call(e)}function me(e,t){return Ae(e)}function ae(e,t){{var r=Ae(e);return r instanceof Comment&&r.data===""?jr(r):r}}function Me(e,t=1,r=!1){let n=e;for(;t--;)n=jr(n);return n}function qa(e){e.textContent=""}function pe(e){var t=Be|ot,r=ne!==null&&ne.f&Be?ne:null;return te===null||r!==null&&r.f&Ge?t|=Ge:te.f|=cs,{ctx:$,deps:null,effects:null,equals:us,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??te}}function Bn(e){const t=pe(e);return t.equals=Mn,t}function Cs(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Ve(t[r])}}function Ka(e){for(var t=e.parent;t!==null;){if(!(t.f&Be))return t;t=t.parent}return null}function Wa(e){var t,r=te;Je(Ka(e));try{Cs(e),t=Ls(e)}finally{Je(r)}return t}function xs(e){var t=Wa(e),r=(ft||e.f&Ge)&&e.deps!==null?_t:ye;Ye(e,r),e.equals(t)||(e.v=t,e.wv=Os())}function ks(e){te===null&&ne===null&&Ea(),ne!==null&&ne.f&Ge&&te===null&&Pa(),Yn&&Sa()}function Ja(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Lt(e,t,r,n=!0){var s=(e&cr)!==0,i=te,a={ctx:$,deps:null,nodes_start:null,nodes_end:null,f:e|ot,first:null,fn:t,last:null,next:null,parent:s?null:i,prev:null,teardown:null,transitions:null,wv:0};if(r){var c=Et;try{oi(!0),Hr(a),a.f|=ls}catch(v){throw Ve(a),v}finally{oi(c)}}else t!==null&&qr(a);var h=r&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&(cs|xr))===0;if(!h&&!s&&n&&(i!==null&&Ja(a,i),ne!==null&&ne.f&Be)){var f=ne;(f.effects??(f.effects=[])).push(a)}return a}function Ss(e){const t=Lt(Nr,null,!1);return Ye(t,ye),t.teardown=e,t}function Q(e){ks();var t=te!==null&&(te.f&at)!==0&&$!==null&&!$.m;if(t){var r=$;(r.e??(r.e=[])).push({fn:e,effect:te,reaction:ne})}else{var n=ur(e);return n}}function Za(e){return ks(),Ft(e)}function Qa(e){const t=Lt(cr,e,!0);return(r={})=>new Promise(n=>{r.outro?ir(t,()=>{Ve(t),n(void 0)}):(Ve(t),n(void 0))})}function ur(e){return Lt(os,e,!1)}function Te(e,t){var r=$,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=Ft(()=>{e(),!n.ran&&(n.ran=!0,J(r.l.r2,!0),Fe(t))})}function Gt(){var e=$;Ft(()=>{if(N(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&ye&&Ye(r,_t),Mt(r)&&Hr(r),t.ran=!1}e.l.r2.v=!1}})}function Ft(e){return Lt(Nr,e,!0)}function _e(e,t=[],r=pe){const n=t.map(r);return Nt(()=>e(...n.map(N)))}function Nt(e,t=0){return Lt(Nr|Mr|t,e,!0)}function vt(e,t=!0){return Lt(Nr|at,e,!0,t)}function Ps(e){var t=e.teardown;if(t!==null){const r=Yn,n=ne;li(!0),We(null);try{t.call(null)}finally{li(r),We(n)}}}function Es(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Ve(r,t),r=n}}function $a(e){for(var t=e.first;t!==null;){var r=t.next;t.f&at||Ve(t),t=r}}function Ve(e,t=!0){var r=!1;if((t||e.f&xa)&&e.nodes_start!==null){for(var n=e.nodes_start,s=e.nodes_end;n!==null;){var i=n===s?null:jr(n);n.remove(),n=i}r=!0}Es(e,t&&!r),Rr(e,0),Ye(e,Ur);var a=e.transitions;if(a!==null)for(const h of a)h.stop();Ps(e);var c=e.parent;c!==null&&c.first!==null&&As(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function As(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function ir(e,t){var r=[];Vn(e,r,!0),Ts(r,()=>{Ve(e),t&&t()})}function Ts(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var s of e)s.out(n)}else t()}function Vn(e,t,r){if(!(e.f&st)){if(e.f^=st,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var n=e.first;n!==null;){var s=n.next,i=(n.f&Ot)!==0||(n.f&at)!==0;Vn(n,t,i?r:!1),n=s}}}function sr(e){Rs(e,!0)}function Rs(e,t){if(e.f&st){e.f^=st,e.f&ye||(e.f^=ye),Mt(e)&&(Ye(e,ot),qr(e));for(var r=e.first;r!==null;){var n=r.next,s=(r.f&Ot)!==0||(r.f&at)!==0;Rs(r,s?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let yn=!1,bn=[];function eo(){yn=!1;const e=bn.slice();bn=[],mn(e)}function Xr(e){yn||(yn=!0,queueMicrotask(eo)),bn.push(e)}let yr=!1,Er=!1,Ar=null,Et=!1,Yn=!1;function oi(e){Et=e}function li(e){Yn=e}let wn=[],rr=0;let ne=null,He=!1;function We(e){ne=e}let te=null;function Je(e){te=e}let Ke=null;function to(e){Ke=e}let be=null,Ee=0,tt=null;function ro(e){tt=e}let Ds=1,Tr=0,ft=!1;function Os(){return++Ds}function Mt(e){var w;var t=e.f;if(t&ot)return!0;if(t&_t){var r=e.deps,n=(t&Ge)!==0;if(r!==null){var s,i,a=(t&kr)!==0,c=n&&te!==null&&!ft,h=r.length;if(a||c){var f=e,v=f.parent;for(s=0;s<h;s++)i=r[s],(a||!((w=i==null?void 0:i.reactions)!=null&&w.includes(f)))&&(i.reactions??(i.reactions=[])).push(f);a&&(f.f^=kr),c&&v!==null&&!(v.f&Ge)&&(f.f^=Ge)}for(s=0;s<h;s++)if(i=r[s],Mt(i)&&xs(i),i.wv>e.wv)return!0}(!n||te!==null&&!ft)&&Ye(e,ye)}return!1}function no(e,t){for(var r=t;r!==null;){if(r.f&xr)try{r.fn(e);return}catch{r.f^=xr}r=r.parent}throw yr=!1,e}function io(e){return(e.f&Ur)===0&&(e.parent===null||(e.parent.f&xr)===0)}function zr(e,t,r,n){if(yr){if(r===null&&(yr=!1),io(t))throw e;return}r!==null&&(yr=!0);{no(e,t);return}}function Is(e,t,r=!0){var n=e.reactions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];i.f&Be?Is(i,t,!1):t===i&&(r?Ye(i,ot):i.f&ye&&Ye(i,_t),qr(i))}}function Ls(e){var m;var t=be,r=Ee,n=tt,s=ne,i=ft,a=Ke,c=$,h=He,f=e.f;be=null,Ee=0,tt=null,ne=f&(at|cr)?null:e,ft=(f&Ge)!==0&&(!Et||s===null||h),Ke=null,ii(e.ctx),He=!1,Tr++;try{var v=(0,e.fn)(),w=e.deps;if(be!==null){var b;if(Rr(e,Ee),w!==null&&Ee>0)for(w.length=Ee+be.length,b=0;b<be.length;b++)w[Ee+b]=be[b];else e.deps=w=be;if(!ft)for(b=Ee;b<w.length;b++)((m=w[b]).reactions??(m.reactions=[])).push(e)}else w!==null&&Ee<w.length&&(Rr(e,Ee),w.length=Ee);if(dr()&&tt!==null&&!He&&w!==null&&!(e.f&(Be|_t|ot)))for(b=0;b<tt.length;b++)Is(tt[b],e);return s!==null&&Tr++,v}finally{be=t,Ee=r,tt=n,ne=s,ft=i,Ke=a,ii(c),He=h}}function so(e,t){let r=t.reactions;if(r!==null){var n=_a.call(r,e);if(n!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[n]=r[s],r.pop())}}r===null&&t.f&Be&&(be===null||!be.includes(t))&&(Ye(t,_t),t.f&(Ge|kr)||(t.f^=kr),Cs(t),Rr(t,0))}function Rr(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)so(e,r[n])}function Hr(e){var t=e.f;if(!(t&Ur)){Ye(e,ye);var r=te,n=$;te=e;try{t&Mr?$a(e):Es(e),Ps(e);var s=Ls(e);e.teardown=typeof s=="function"?s:null,e.wv=Ds;var i=e.deps,a;ni&&La&&e.f&ot}catch(c){zr(c,e,r,n||e.ctx)}finally{te=r}}}function ao(){if(rr>1e3){rr=0;try{Aa()}catch(e){if(Ar!==null)zr(e,Ar,null);else throw e}}rr++}function oo(e){var t=e.length;if(t!==0){ao();var r=Et;Et=!0;try{for(var n=0;n<t;n++){var s=e[n];s.f&ye||(s.f^=ye);var i=uo(s);lo(i)}}finally{Et=r}}}function lo(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&(Ur|st)))try{Mt(n)&&(Hr(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?As(n):n.fn=null))}catch(s){zr(s,n,null,n.ctx)}}}function co(){if(Er=!1,rr>1001)return;const e=wn;wn=[],oo(e),Er||(rr=0,Ar=null)}function qr(e){Er||(Er=!0,queueMicrotask(co)),Ar=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(cr|at)){if(!(r&ye))return;t.f^=ye}}wn.push(t)}function uo(e){var t=[],r=e.first;e:for(;r!==null;){var n=r.f,s=(n&at)!==0,i=s&&(n&ye)!==0,a=r.next;if(!i&&!(n&st)){if(n&os)t.push(r);else if(s)r.f^=ye;else{var c=ne;try{ne=r,Mt(r)&&Hr(r)}catch(v){zr(v,r,null,r.ctx)}finally{ne=c}}var h=r.first;if(h!==null){r=h;continue}}if(a===null){let v=r.parent;for(;v!==null;){if(e===v)break e;var f=v.next;if(f!==null){r=f;continue e}v=v.parent}}r=a}return t}function N(e){var t=e.f,r=(t&Be)!==0;if(ne!==null&&!He){Ke!==null&&Ke.includes(e)&&Oa();var n=ne.deps;e.rv<Tr&&(e.rv=Tr,be===null&&n!==null&&n[Ee]===e?Ee++:be===null?be=[e]:(!ft||!be.includes(e))&&be.push(e))}else if(r&&e.deps===null&&e.effects===null){var s=e,i=s.parent;i!==null&&!(i.f&Ge)&&(s.f^=Ge)}return r&&(s=e,Mt(s)&&xs(s)),e.v}function Fe(e){var t=He;try{return He=!0,e()}finally{He=t}}const ho=-7169;function Ye(e,t){e.f=e.f&ho|t}function W(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(pt in e)Cn(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&pt in r&&Cn(r)}}}function Cn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{Cn(e[n],t)}catch{}const r=Fn(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=as(r);for(let s in n){const i=n[s].get;if(i)try{i.call(e)}catch{}}}}}function fo(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const go=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function po(e){return go.includes(e)}const vo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function mo(e){return e=e.toLowerCase(),vo[e]??e}const _o=["touchstart","touchmove"];function yo(e){return _o.includes(e)}function bo(e,t){if(t){const r=document.body;e.autofocus=!0,Xr(()=>{document.activeElement===r&&e.focus()})}}let ci=!1;function wo(){ci||(ci=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function jn(e){var t=ne,r=te;We(null),Je(null);try{return e()}finally{We(t),Je(r)}}function Co(e,t,r,n=r){e.addEventListener(t,()=>jn(r));const s=e.__on_r;s?e.__on_r=()=>{s(),n(!0)}:e.__on_r=()=>n(!0),wo()}const Gs=new Set,xn=new Set;function Fs(e,t,r,n={}){function s(i){if(n.capture||tr.call(t,i),!i.cancelBubble)return jn(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Xr(()=>{t.addEventListener(e,s,n)}):t.addEventListener(e,s,n),s}function Z(e,t,r,n,s){var i={capture:n,passive:s},a=Fs(e,t,r,i);(t===document.body||t===window||t===document)&&Ss(()=>{t.removeEventListener(e,a,i)})}function xo(e){for(var t=0;t<e.length;t++)Gs.add(e[t]);for(var r of xn)r(e)}function tr(e){var l;var t=this,r=t.ownerDocument,n=e.type,s=((l=e.composedPath)==null?void 0:l.call(e))||[],i=s[0]||e.target,a=0,c=e.__root;if(c){var h=s.indexOf(c);if(h!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;h<=f&&(a=h)}if(i=s[a]||e.target,i!==t){ss(e,"currentTarget",{configurable:!0,get(){return i||r}});var v=ne,w=te;We(null),Je(null);try{for(var b,m=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var u=i["__"+n];if(u!==void 0&&!i.disabled)if(lr(u)){var[x,...k]=u;x.apply(i,[e,...k])}else u.call(i,e)}catch(o){b?m.push(o):b=o}if(e.cancelBubble||g===t||g===null)break;i=g}if(b){for(let o of m)queueMicrotask(()=>{throw o});throw b}}finally{e.__root=t,delete e.currentTarget,We(v),Je(w)}}}function Xn(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function mt(e,t){var r=te;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function De(e,t){var r=(t&fs)!==0,n=(t&Xa)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Xn(i?e:"<!>"+e),r||(s=Ae(s)));var a=n||ys?document.importNode(s,!0):s.cloneNode(!0);if(r){var c=Ae(a),h=a.lastChild;mt(c,h)}else mt(a,a);return a}}function ko(e,t,r="svg"){var n=!e.startsWith("<!>"),s=(t&fs)!==0,i=`<${r}>${n?e:"<!>"+e}</${r}>`,a;return()=>{if(!a){var c=Xn(i),h=Ae(c);if(s)for(a=document.createDocumentFragment();Ae(h);)a.appendChild(Ae(h));else a=Ae(h)}var f=a.cloneNode(!0);if(s){var v=Ae(f),w=f.lastChild;mt(v,w)}else mt(f,f);return f}}function So(e=""){{var t=Yr(e+"");return mt(t,t),t}}function ce(){var e=document.createDocumentFragment(),t=document.createComment(""),r=Yr();return e.append(t,r),mt(t,r),e}function q(e,t){e!==null&&e.before(t)}let Dr=!0;function di(e){Dr=e}function Or(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function Po(e,t){return Eo(e,t)}const xt=new Map;function Eo(e,{target:t,anchor:r,props:n={},events:s,context:i,intro:a=!0}){Ha();var c=new Set,h=w=>{for(var b=0;b<w.length;b++){var m=w[b];if(!c.has(m)){c.add(m);var g=yo(m);t.addEventListener(m,tr,{passive:g});var u=xt.get(m);u===void 0?(document.addEventListener(m,tr,{passive:g}),xt.set(m,1)):xt.set(m,u+1)}}};h(Gn(Gs)),xn.add(h);var f=void 0,v=Qa(()=>{var w=r??t.appendChild(Yr());return vt(()=>{if(i){Se({});var b=$;b.c=i}s&&(n.$$events=s),Dr=a,f=e(w,n)||{},Dr=!0,i&&Pe()}),()=>{var g;for(var b of c){t.removeEventListener(b,tr);var m=xt.get(b);--m===0?(document.removeEventListener(b,tr),xt.delete(b)):xt.set(b,m)}xn.delete(h),w!==r&&((g=w.parentNode)==null||g.removeChild(w))}});return Ao.set(f,v),f}let Ao=new WeakMap;function Re(e,t,r=!1){var n=e,s=null,i=null,a=xe,c=r?Ot:0,h=!1;const f=(w,b=!0)=>{h=!0,v(b,w)},v=(w,b)=>{a!==(a=w)&&(a?(s?sr(s):b&&(s=vt(()=>b(n))),i&&ir(i,()=>{i=null})):(i?sr(i):b&&(i=vt(()=>b(n))),s&&ir(s,()=>{s=null})))};Nt(()=>{h=!1,t(f),h||v(null,null)},c)}function ui(e,t){return t}function To(e,t,r,n){for(var s=[],i=t.length,a=0;a<i;a++)Vn(t[a].e,s,!0);var c=i>0&&s.length===0&&r!==null;if(c){var h=r.parentNode;qa(h),h.append(r),n.clear(),ht(e,t[0].prev,t[i-1].next)}Ts(s,()=>{for(var f=0;f<i;f++){var v=t[f];c||(n.delete(v.k),ht(e,v.prev,v.next)),Ve(v.e,!c)}})}function hi(e,t,r,n,s,i=null){var a=e,c={flags:t,items:new Map,first:null},h=null,f=!1,v=Bn(()=>{var w=r();return lr(w)?w:w==null?[]:Gn(w)});Nt(()=>{var w=N(v),b=w.length;f&&b===0||(f=b===0,Ro(w,c,a,s,t,n,r),i!==null&&(b===0?h?sr(h):h=vt(()=>i(a)):h!==null&&ir(h,()=>{h=null})),N(v))})}function Ro(e,t,r,n,s,i,a){var c=e.length,h=t.items,f=t.first,v=f,w,b=null,m=[],g=[],u,x,k,l;for(l=0;l<c;l+=1){if(u=e[l],x=i(u,l),k=h.get(x),k===void 0){var o=v?v.e.nodes_start:r;b=Oo(o,t,b,b===null?t.first:b.next,u,x,l,n,s,a),h.set(x,b),m=[],g=[],v=b.next;continue}if(Do(k,u,l),k.e.f&st&&sr(k.e),k!==v){if(w!==void 0&&w.has(k)){if(m.length<g.length){var p=g[0],C;b=p.prev;var P=m[0],D=m[m.length-1];for(C=0;C<m.length;C+=1)fi(m[C],p,r);for(C=0;C<g.length;C+=1)w.delete(g[C]);ht(t,P.prev,D.next),ht(t,b,P),ht(t,D,p),v=p,b=D,l-=1,m=[],g=[]}else w.delete(k),fi(k,v,r),ht(t,k.prev,k.next),ht(t,k,b===null?t.first:b.next),ht(t,b,k),b=k;continue}for(m=[],g=[];v!==null&&v.k!==x;)v.e.f&st||(w??(w=new Set)).add(v),g.push(v),v=v.next;if(v===null)continue;k=v}m.push(k),b=k,v=k.next}if(v!==null||w!==void 0){for(var S=w===void 0?[]:Gn(w);v!==null;)v.e.f&st||S.push(v),v=v.next;var I=S.length;if(I>0){var E=null;To(t,S,E,h)}}te.first=t.first&&t.first.e,te.last=b&&b.e}function Do(e,t,r,n){vs(e.v,t),e.i=r}function Oo(e,t,r,n,s,i,a,c,h,f){var v=(h&Fa)!==0,w=(h&Ma)===0,b=v?w?Vr(s):fe(s):s,m=h&Na?fe(a):a,g={i:m,v:b,k:i,a:null,e:null,prev:r,next:n};try{return g.e=vt(()=>c(e,b,m,f),_s),g.e.prev=r&&r.e,g.e.next=n&&n.e,r===null?t.first=g:(r.next=g,r.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function fi(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var a=jr(i);s.before(i),i=a}}function ht(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Io(e,t,r,n,s){var i=e,a="",c;Nt(()=>{a!==(a=t()??"")&&(c!==void 0&&(Ve(c),c=void 0),a!==""&&(c=vt(()=>{var h=a+"";h=`<svg>${h}</svg>`;var f=Xn(h);for(f=Ae(f),mt(Ae(f),f.lastChild);Ae(f);)i.before(Ae(f))})))})}function qe(e,t,r,n,s){var c;var i=(c=t.$$slots)==null?void 0:c[r],a=!1;i===!0&&(i=t.children,a=!0),i===void 0||i(e,a?()=>n:n)}function Ns(e,t,...r){var n=e,s=Ie,i;Nt(()=>{s!==(s=t())&&(i&&(Ve(i),i=null),i=vt(()=>s(n,...r)))},Ot)}function kn(e,t,r,n,s,i){var a,c,h=null,f=e,v;Nt(()=>{const w=t()||null;var b=w==="svg"?Sr:null;w!==a&&(v&&(w===null?ir(v,()=>{v=null,c=null}):w===c?sr(v):(Ve(v),di(!1))),w&&w!==c&&(v=vt(()=>{if(h=b?document.createElementNS(b,w):document.createElement(w),mt(h,h),n){var m=h.appendChild(Yr());n(h,m)}te.nodes_end=h,f.before(h)})),a=w,a&&(c=a),di(!0))},Ot)}function gi(e,t,r){ur(()=>{var n=Fe(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var s=!1,i={};Ft(()=>{var a=r();W(a),s&&Nn(i,a)&&(i=a,n.update(a))}),s=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function Ms(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ms(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Lo(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ms(e))&&(n&&(n+=" "),n+=t);return n}function Sn(e){return typeof e=="object"?Lo(e):e??""}function Go(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function zn(e,t,r,n){var s=e.__attributes??(e.__attributes={});s[t]!==(s[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[ka]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Us(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function Ue(e,t,r,n,s=!1,i=!1,a=!1){var c=t||{},h=e.tagName==="OPTION";for(var f in t)f in r||(r[f]=null);r.class&&(r.class=Sn(r.class));var v=Us(e),w=e.__attributes??(e.__attributes={});for(const l in r){let o=r[l];if(h&&l==="value"&&o==null){e.value=e.__value="",c[l]=o;continue}var b=c[l];if(o!==b){c[l]=o;var m=l[0]+l[1];if(m!=="$$"){if(m==="on"){const p={},C="$$"+l;let P=l.slice(2);var g=po(P);if(fo(P)&&(P=P.slice(0,-7),p.capture=!0),!g&&b){if(o!=null)continue;e.removeEventListener(P,c[C],p),c[C]=null}if(o!=null)if(g)e[`__${P}`]=o,xo([P]);else{let D=function(S){c[l].call(this,S)};var k=D;c[C]=Fs(P,e,D,p)}else g&&(e[`__${P}`]=void 0)}else if(l==="style"&&o!=null)e.style.cssText=o+"";else if(l==="autofocus")bo(e,!!o);else if(!i&&(l==="__value"||l==="value"&&o!=null))e.value=e.__value=o;else if(l==="selected"&&h)Go(e,o);else{var u=l;s||(u=mo(u));var x=u==="defaultValue"||u==="defaultChecked";if(o==null&&!i&&!x)if(w[l]=null,u==="value"||u==="checked"){let p=e;const C=t===void 0;if(u==="value"){let P=p.defaultValue;p.removeAttribute(u),p.defaultValue=P,p.value=p.__value=C?P:null}else{let P=p.defaultChecked;p.removeAttribute(u),p.defaultChecked=P,p.checked=C?P:!1}}else e.removeAttribute(l);else x||v.includes(u)&&(i||typeof o!="string")?e[u]=o:typeof o!="function"&&zn(e,u,o)}l==="style"&&"__styles"in e&&(e.__styles={})}}}return c}var pi=new Map;function Us(e){var t=pi.get(e.nodeName);if(t)return t;pi.set(e.nodeName,t=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=as(n);for(var i in r)r[i].set&&t.push(i);n=Fn(n)}return t}function Pn(e,t,r){var n=e.__className,s=Fo(t);(n!==s||_s)&&(t==null?e.removeAttribute("class"):e.className=s,e.__className=s)}function Fo(e,t){return(e??"")+""}const No=()=>performance.now(),it={tick:e=>requestAnimationFrame(e),now:()=>No(),tasks:new Set};function Bs(){const e=it.now();it.tasks.forEach(t=>{t.c(e)||(it.tasks.delete(t),t.f())}),it.tasks.size!==0&&it.tick(Bs)}function Mo(e){let t;return it.tasks.size===0&&it.tick(Bs),{promise:new Promise(r=>{it.tasks.add(t={c:e,f:r})}),abort(){it.tasks.delete(t)}}}function pr(e,t){jn(()=>{e.dispatchEvent(new CustomEvent(t))})}function Uo(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function vi(e){const t={},r=e.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const a=Uo(s.trim());t[a]=i.trim()}return t}const Bo=e=>e;function Vo(e,t,r,n){var s=(e&ja)!==0,i="both",a,c=t.inert,h=t.style.overflow,f,v;function w(){var x=ne,k=te;We(null),Je(null);try{return a??(a=r()(t,(n==null?void 0:n())??{},{direction:i}))}finally{We(x),Je(k)}}var b={is_global:s,in(){t.inert=c,pr(t,"introstart"),f=En(t,w(),v,1,()=>{pr(t,"introend"),f==null||f.abort(),f=a=void 0,t.style.overflow=h})},out(x){t.inert=!0,pr(t,"outrostart"),v=En(t,w(),f,0,()=>{pr(t,"outroend"),x==null||x()})},stop:()=>{f==null||f.abort(),v==null||v.abort()}},m=te;if((m.transitions??(m.transitions=[])).push(b),Dr){var g=s;if(!g){for(var u=m.parent;u&&u.f&Ot;)for(;(u=u.parent)&&!(u.f&Mr););g=!u||(u.f&ls)!==0}g&&ur(()=>{Fe(()=>b.in())})}}function En(e,t,r,n,s){var i=n===1;if(St(t)){var a,c=!1;return Xr(()=>{if(!c){var x=t({direction:i?"in":"out"});a=En(e,x,r,n,s)}}),{abort:()=>{c=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(t!=null&&t.duration))return s(),{abort:Ie,deactivate:Ie,reset:Ie,t:()=>n};const{delay:h=0,css:f,tick:v,easing:w=Bo}=t;var b=[];if(i&&r===void 0&&(v&&v(0,1),f)){var m=vi(f(0,1));b.push(m,m)}var g=()=>1-n,u=e.animate(b,{duration:h});return u.onfinish=()=>{var x=(r==null?void 0:r.t())??1-n;r==null||r.abort();var k=n-x,l=t.duration*Math.abs(k),o=[];if(l>0){var p=!1;if(f)for(var C=Math.ceil(l/16.666666666666668),P=0;P<=C;P+=1){var D=x+k*w(P/C),S=vi(f(D,1-D));o.push(S),p||(p=S.overflow==="hidden")}p&&(e.style.overflow="hidden"),g=()=>{var I=u.currentTime;return x+k*w(I/l)},v&&Mo(()=>{if(u.playState!=="running")return!1;var I=g();return v(I,1-I),!0})}u=e.animate(o,{duration:l,fill:"forwards"}),u.onfinish=()=>{g=()=>n,v==null||v(n,1-n),s()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=Ie)},deactivate:()=>{s=Ie},reset:()=>{n===0&&(v==null||v(1,0))},t:()=>g()}}function Yo(e,t,r=t){var n=dr();Co(e,"input",s=>{var i=s?e.defaultValue:e.value;if(i=rn(e)?nn(i):i,r(i),n&&i!==(i=t())){var a=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(c,e.value.length))}}),Fe(t)==null&&e.value&&r(rn(e)?nn(e.value):e.value),Ft(()=>{var s=t();rn(e)&&s===nn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function rn(e){var t=e.type;return t==="number"||t==="range"}function nn(e){return e===""?null:+e}function mi(e,t){return e===t||(e==null?void 0:e[pt])===t}function Ir(e={},t,r,n){return ur(()=>{var s,i;return Ft(()=>{s=i,i=[],Fe(()=>{e!==r(...i)&&(t(e,...i),s&&mi(r(...s),e)&&t(null,...s))})}),()=>{Xr(()=>{i&&mi(r(...i),e)&&t(null,...i)})}}),e}function Ut(e=!1){const t=$,r=t.l.u;if(!r)return;let n=()=>W(t.s);if(e){let s=0,i={};const a=pe(()=>{let c=!1;const h=t.s;for(const f in h)h[f]!==i[f]&&(i[f]=h[f],c=!0);return c&&s++,s});n=()=>N(a)}r.b.length&&Za(()=>{_i(t,n),mn(r.b)}),Q(()=>{const s=Fe(()=>r.m.map(wa));return()=>{for(const i of s)typeof i=="function"&&i()}}),r.a.length&&Q(()=>{_i(t,n),mn(r.a)})}function _i(e,t){if(e.l.s)for(const r of e.l.s)N(r);t()}function H(e,t){var i;var r=(i=e.$$events)==null?void 0:i[t.type],n=lr(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,t)}function Vs(e,t,r){if(e==null)return t(void 0),Ie;const n=Fe(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const kt=[];function Ys(e,t=Ie){let r=null;const n=new Set;function s(c){if(Nn(e,c)&&(e=c,r)){const h=!kt.length;for(const f of n)f[1](),kt.push(f,e);if(h){for(let f=0;f<kt.length;f+=2)kt[f][0](kt[f+1]);kt.length=0}}}function i(c){s(c(e))}function a(c,h=Ie){const f=[c,h];return n.add(f),n.size===1&&(r=t(s,i)||Ie),c(e),()=>{n.delete(f),n.size===0&&r&&(r(),r=null)}}return{set:s,update:i,subscribe:a}}function jo(e){let t;return Vs(e,r=>t=r)(),t}let vr=!1,An=Symbol();function Hn(e,t,r){const n=r[t]??(r[t]={store:null,source:Vr(void 0),unsubscribe:Ie});if(n.store!==e&&!(An in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Ie;else{var s=!0;n.unsubscribe=Vs(e,i=>{s?n.source.v=i:J(n.source,i)}),s=!1}return e&&An in r?jo(e):N(n.source)}function qn(){const e={};function t(){Ss(()=>{for(var r in e)e[r].unsubscribe();ss(e,An,{enumerable:!1,value:!0})})}return[e,t]}function Xo(e){var t=vr;try{return vr=!1,[e(),vr]}finally{vr=t}}const zo={get(e,t){if(!e.exclude.includes(t))return e.props[t]},set(e,t){return!1},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function Kr(e,t,r){return new Proxy({props:e,exclude:t},zo)}const Ho={get(e,t){if(!e.exclude.includes(t))return N(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,r){return t in e.special||(e.special[t]=V({get[t](){return e.props[t]}},t,hs)),e.special[t](r),_n(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),_n(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function je(e,t){return new Proxy({props:e,exclude:t,special:{},version:fe(0)},Ho)}const qo={get(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(St(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n)return n[t]}},set(e,t,r){let n=e.props.length;for(;n--;){let s=e.props[n];St(s)&&(s=s());const i=gt(s,t);if(i&&i.set)return i.set(r),!0}return!1},getOwnPropertyDescriptor(e,t){let r=e.props.length;for(;r--;){let n=e.props[r];if(St(n)&&(n=n()),typeof n=="object"&&n!==null&&t in n){const s=gt(n,t);return s&&!s.configurable&&(s.configurable=!0),s}}},has(e,t){if(t===pt||t===ds)return!1;for(let r of e.props)if(St(r)&&(r=r()),r!=null&&t in r)return!0;return!1},ownKeys(e){const t=[];for(let r of e.props){St(r)&&(r=r());for(const n in r)t.includes(n)||t.push(n)}return t}};function Ko(...e){return new Proxy({props:e},qo)}function V(e,t,r,n){var P;var s=(r&Ua)!==0,i=!It||(r&Ba)!==0,a=(r&Va)!==0,c=(r&Ya)!==0,h=!1,f;a?[f,h]=Xo(()=>e[t]):f=e[t];var v=pt in e||ds in e,w=a&&(((P=gt(e,t))==null?void 0:P.set)??(v&&t in e&&(D=>e[t]=D)))||void 0,b=n,m=!0,g=!1,u=()=>(g=!0,m&&(m=!1,c?b=Fe(n):b=n),b);f===void 0&&n!==void 0&&(w&&i&&Ta(),f=u(),w&&w(f));var x;if(i)x=()=>{var D=e[t];return D===void 0?u():(m=!0,g=!1,D)};else{var k=(s?pe:Bn)(()=>e[t]);k.f|=Ca,x=()=>{var D=N(k);return D!==void 0&&(b=void 0),D===void 0?b:D}}if(!(r&hs))return x;if(w){var l=e.$$legacy;return function(D,S){return arguments.length>0?((!i||!S||l||h)&&w(S?x():D),D):x()}}var o=!1,p=Vr(f),C=pe(()=>{var D=x(),S=N(p);return o?(o=!1,S):p.v=D});return s||(C.equals=Mn),function(D,S){if(arguments.length>0){const I=S?N(C):i&&a?nt(D):D;return C.equals(I)||(o=!0,J(p,I),g&&b!==void 0&&(b=I),Fe(()=>N(C))),D}return N(C)}}function Bt(e){$===null&&Br(),It&&$.l!==null?Jo($).m.push(e):Q(()=>{const t=Fe(e);if(typeof t=="function")return t})}function hr(e){$===null&&Br(),Bt(()=>()=>Fe(e))}function Wo(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function js(){const e=$;return e===null&&Br(),(t,r,n)=>{var i;const s=(i=e.s.$$events)==null?void 0:i[t];if(s){const a=lr(s)?s.slice():[s],c=Wo(t,r,n);for(const h of a)h.call(e.x,c);return!c.defaultPrevented}return!0}}function Jo(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}const Zo="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Zo);Ga();const Xs=/^[a-z0-9]+(-[a-z0-9]+)*$/,Wr=(e,t,r,n="")=>{const s=e.split(":");if(e.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;n=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const c=s.pop(),h=s.pop(),f={provider:s.length>0?s[0]:n,prefix:h,name:c};return t&&!br(f)?null:f}const i=s[0],a=i.split("-");if(a.length>1){const c={provider:n,prefix:a.shift(),name:a.join("-")};return t&&!br(c)?null:c}if(r&&n===""){const c={provider:n,prefix:"",name:i};return t&&!br(c,r)?null:c}return null},br=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,zs=Object.freeze({left:0,top:0,width:16,height:16}),Lr=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Jr=Object.freeze({...zs,...Lr}),Tn=Object.freeze({...Jr,body:"",hidden:!1});function Qo(e,t){const r={};!e.hFlip!=!t.hFlip&&(r.hFlip=!0),!e.vFlip!=!t.vFlip&&(r.vFlip=!0);const n=((e.rotate||0)+(t.rotate||0))%4;return n&&(r.rotate=n),r}function yi(e,t){const r=Qo(e,t);for(const n in Tn)n in Lr?n in e&&!(n in r)&&(r[n]=Lr[n]):n in t?r[n]=t[n]:n in e&&(r[n]=e[n]);return r}function $o(e,t){const r=e.icons,n=e.aliases||Object.create(null),s=Object.create(null);function i(a){if(r[a])return s[a]=[];if(!(a in s)){s[a]=null;const c=n[a]&&n[a].parent,h=c&&i(c);h&&(s[a]=[c].concat(h))}return s[a]}return Object.keys(r).concat(Object.keys(n)).forEach(i),s}function el(e,t,r){const n=e.icons,s=e.aliases||Object.create(null);let i={};function a(c){i=yi(n[c]||s[c],i)}return a(t),r.forEach(a),yi(e,i)}function Hs(e,t){const r=[];if(typeof e!="object"||typeof e.icons!="object")return r;e.not_found instanceof Array&&e.not_found.forEach(s=>{t(s,null),r.push(s)});const n=$o(e);for(const s in n){const i=n[s];i&&(t(s,el(e,s,i)),r.push(s))}return r}const tl={provider:"",aliases:{},not_found:{},...zs};function sn(e,t){for(const r in t)if(r in e&&typeof e[r]!=typeof t[r])return!1;return!0}function qs(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!sn(e,tl))return null;const r=t.icons;for(const s in r){const i=r[s];if(!s||typeof i.body!="string"||!sn(i,Tn))return null}const n=t.aliases||Object.create(null);for(const s in n){const i=n[s],a=i.parent;if(!s||typeof a!="string"||!r[a]&&!n[a]||!sn(i,Tn))return null}return t}const bi=Object.create(null);function rl(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Rt(e,t){const r=bi[e]||(bi[e]=Object.create(null));return r[t]||(r[t]=rl(e,t))}function Ks(e,t){return qs(t)?Hs(t,(r,n)=>{n?e.icons[r]=n:e.missing.add(r)}):[]}function nl(e,t,r){try{if(typeof r.body=="string")return e.icons[t]={...r},!0}catch{}return!1}let ar=!1;function Ws(e){return typeof e=="boolean"&&(ar=e),ar}function il(e){const t=typeof e=="string"?Wr(e,!0,ar):e;if(t){const r=Rt(t.provider,t.prefix),n=t.name;return r.icons[n]||(r.missing.has(n)?null:void 0)}}function sl(e,t){const r=Wr(e,!0,ar);if(!r)return!1;const n=Rt(r.provider,r.prefix);return t?nl(n,r.name,t):(n.missing.add(r.name),!0)}function al(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),ar&&!t&&!e.prefix){let s=!1;return qs(e)&&(e.prefix="",Hs(e,(i,a)=>{sl(i,a)&&(s=!0)})),s}const r=e.prefix;if(!br({prefix:r,name:"a"}))return!1;const n=Rt(t,r);return!!Ks(n,e)}const Js=Object.freeze({width:null,height:null}),Zs=Object.freeze({...Js,...Lr}),ol=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ll=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function wi(e,t,r){if(t===1)return e;if(r=r||100,typeof e=="number")return Math.ceil(e*t*r)/r;if(typeof e!="string")return e;const n=e.split(ol);if(n===null||!n.length)return e;const s=[];let i=n.shift(),a=ll.test(i);for(;;){if(a){const c=parseFloat(i);isNaN(c)?s.push(i):s.push(Math.ceil(c*t*r)/r)}else s.push(i);if(i=n.shift(),i===void 0)return s.join("");a=!a}}function cl(e,t="defs"){let r="";const n=e.indexOf("<"+t);for(;n>=0;){const s=e.indexOf(">",n),i=e.indexOf("</"+t);if(s===-1||i===-1)break;const a=e.indexOf(">",i);if(a===-1)break;r+=e.slice(s+1,i).trim(),e=e.slice(0,n).trim()+e.slice(a+1)}return{defs:r,content:e}}function dl(e,t){return e?"<defs>"+e+"</defs>"+t:t}function ul(e,t,r){const n=cl(e);return dl(n.defs,t+n.content+r)}const hl=e=>e==="unset"||e==="undefined"||e==="none";function fl(e,t){const r={...Jr,...e},n={...Zs,...t},s={left:r.left,top:r.top,width:r.width,height:r.height};let i=r.body;[r,n].forEach(u=>{const x=[],k=u.hFlip,l=u.vFlip;let o=u.rotate;k?l?o+=2:(x.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),x.push("scale(-1 1)"),s.top=s.left=0):l&&(x.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),x.push("scale(1 -1)"),s.top=s.left=0);let p;switch(o<0&&(o-=Math.floor(o/4)*4),o=o%4,o){case 1:p=s.height/2+s.top,x.unshift("rotate(90 "+p.toString()+" "+p.toString()+")");break;case 2:x.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:p=s.width/2+s.left,x.unshift("rotate(-90 "+p.toString()+" "+p.toString()+")");break}o%2===1&&(s.left!==s.top&&(p=s.left,s.left=s.top,s.top=p),s.width!==s.height&&(p=s.width,s.width=s.height,s.height=p)),x.length&&(i=ul(i,'<g transform="'+x.join(" ")+'">',"</g>"))});const a=n.width,c=n.height,h=s.width,f=s.height;let v,w;a===null?(w=c===null?"1em":c==="auto"?f:c,v=wi(w,h/f)):(v=a==="auto"?h:a,w=c===null?wi(v,f/h):c==="auto"?f:c);const b={},m=(u,x)=>{hl(x)||(b[u]=x.toString())};m("width",v),m("height",w);const g=[s.left,s.top,h,f];return b.viewBox=g.join(" "),{attributes:b,viewBox:g,body:i}}const gl=/\sid="(\S+)"/g,pl="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let vl=0;function ml(e,t=pl){const r=[];let n;for(;n=gl.exec(e);)r.push(n[1]);if(!r.length)return e;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return r.forEach(i=>{const a=typeof t=="function"?t(i):t+(vl++).toString(),c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+c+')([")]|\\.[a-z])',"g"),"$1"+a+s+"$3")}),e=e.replace(new RegExp(s,"g"),""),e}const Rn=Object.create(null);function _l(e,t){Rn[e]=t}function Dn(e){return Rn[e]||Rn[""]}function Kn(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Wn=Object.create(null),jt=["https://api.simplesvg.com","https://api.unisvg.com"],wr=[];for(;jt.length>0;)jt.length===1||Math.random()>.5?wr.push(jt.shift()):wr.push(jt.pop());Wn[""]=Kn({resources:["https://api.iconify.design"].concat(wr)});function yl(e,t){const r=Kn(t);return r===null?!1:(Wn[e]=r,!0)}function Jn(e){return Wn[e]}const bl=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let Ci=bl();function wl(e,t){const r=Jn(e);if(!r)return 0;let n;if(!r.maxURL)n=0;else{let s=0;r.resources.forEach(a=>{s=Math.max(s,a.length)});const i=t+".json?icons=";n=r.maxURL-s-r.path.length-i.length}return n}function Cl(e){return e===404}const xl=(e,t,r)=>{const n=[],s=wl(e,t),i="icons";let a={type:i,provider:e,prefix:t,icons:[]},c=0;return r.forEach((h,f)=>{c+=h.length+1,c>=s&&f>0&&(n.push(a),a={type:i,provider:e,prefix:t,icons:[]},c=h.length),a.icons.push(h)}),n.push(a),n};function kl(e){if(typeof e=="string"){const t=Jn(e);if(t)return t.path}return"/"}const Sl=(e,t,r)=>{if(!Ci){r("abort",424);return}let n=kl(t.provider);switch(t.type){case"icons":{const i=t.prefix,c=t.icons.join(","),h=new URLSearchParams({icons:c});n+=i+".json?"+h.toString();break}case"custom":{const i=t.uri;n+=i.slice(0,1)==="/"?i.slice(1):i;break}default:r("abort",400);return}let s=503;Ci(e+n).then(i=>{const a=i.status;if(a!==200){setTimeout(()=>{r(Cl(a)?"abort":"next",a)});return}return s=501,i.json()}).then(i=>{if(typeof i!="object"||i===null){setTimeout(()=>{i===404?r("abort",i):r("next",s)});return}setTimeout(()=>{r("success",i)})}).catch(()=>{r("next",s)})},Pl={prepare:xl,send:Sl};function El(e){const t={loaded:[],missing:[],pending:[]},r=Object.create(null);e.sort((s,i)=>s.provider!==i.provider?s.provider.localeCompare(i.provider):s.prefix!==i.prefix?s.prefix.localeCompare(i.prefix):s.name.localeCompare(i.name));let n={provider:"",prefix:"",name:""};return e.forEach(s=>{if(n.name===s.name&&n.prefix===s.prefix&&n.provider===s.provider)return;n=s;const i=s.provider,a=s.prefix,c=s.name,h=r[i]||(r[i]=Object.create(null)),f=h[a]||(h[a]=Rt(i,a));let v;c in f.icons?v=t.loaded:a===""||f.missing.has(c)?v=t.missing:v=t.pending;const w={provider:i,prefix:a,name:c};v.push(w)}),t}function Qs(e,t){e.forEach(r=>{const n=r.loaderCallbacks;n&&(r.loaderCallbacks=n.filter(s=>s.id!==t))})}function Al(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let r=!1;const n=e.provider,s=e.prefix;t.forEach(i=>{const a=i.icons,c=a.pending.length;a.pending=a.pending.filter(h=>{if(h.prefix!==s)return!0;const f=h.name;if(e.icons[f])a.loaded.push({provider:n,prefix:s,name:f});else if(e.missing.has(f))a.missing.push({provider:n,prefix:s,name:f});else return r=!0,!0;return!1}),a.pending.length!==c&&(r||Qs([e],i.id),i.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),i.abort))})}))}let Tl=0;function Rl(e,t,r){const n=Tl++,s=Qs.bind(null,r,n);if(!t.pending.length)return s;const i={id:n,icons:t,callback:e,abort:s};return r.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(i)}),s}function Dl(e,t=!0,r=!1){const n=[];return e.forEach(s=>{const i=typeof s=="string"?Wr(s,t,r):s;i&&n.push(i)}),n}var Ol={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Il(e,t,r,n){const s=e.resources.length,i=e.random?Math.floor(Math.random()*s):e.index;let a;if(e.random){let P=e.resources.slice(0);for(a=[];P.length>1;){const D=Math.floor(Math.random()*P.length);a.push(P[D]),P=P.slice(0,D).concat(P.slice(D+1))}a=a.concat(P)}else a=e.resources.slice(i).concat(e.resources.slice(0,i));const c=Date.now();let h="pending",f=0,v,w=null,b=[],m=[];typeof n=="function"&&m.push(n);function g(){w&&(clearTimeout(w),w=null)}function u(){h==="pending"&&(h="aborted"),g(),b.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),b=[]}function x(P,D){D&&(m=[]),typeof P=="function"&&m.push(P)}function k(){return{startTime:c,payload:t,status:h,queriesSent:f,queriesPending:b.length,subscribe:x,abort:u}}function l(){h="failed",m.forEach(P=>{P(void 0,v)})}function o(){b.forEach(P=>{P.status==="pending"&&(P.status="aborted")}),b=[]}function p(P,D,S){const I=D!=="success";switch(b=b.filter(E=>E!==P),h){case"pending":break;case"failed":if(I||!e.dataAfterTimeout)return;break;default:return}if(D==="abort"){v=S,l();return}if(I){v=S,b.length||(a.length?C():l());return}if(g(),o(),!e.random){const E=e.resources.indexOf(P.resource);E!==-1&&E!==e.index&&(e.index=E)}h="completed",m.forEach(E=>{E(S)})}function C(){if(h!=="pending")return;g();const P=a.shift();if(P===void 0){if(b.length){w=setTimeout(()=>{g(),h==="pending"&&(o(),l())},e.timeout);return}l();return}const D={status:"pending",resource:P,callback:(S,I)=>{p(D,S,I)}};b.push(D),f++,w=setTimeout(C,e.rotate),r(P,t,D.callback)}return setTimeout(C),k}function $s(e){const t={...Ol,...e};let r=[];function n(){r=r.filter(c=>c().status==="pending")}function s(c,h,f){const v=Il(t,c,h,(w,b)=>{n(),f&&f(w,b)});return r.push(v),v}function i(c){return r.find(h=>c(h))||null}return{query:s,find:i,setIndex:c=>{t.index=c},getIndex:()=>t.index,cleanup:n}}function xi(){}const an=Object.create(null);function Ll(e){if(!an[e]){const t=Jn(e);if(!t)return;const r=$s(t),n={config:t,redundancy:r};an[e]=n}return an[e]}function Gl(e,t,r){let n,s;if(typeof e=="string"){const i=Dn(e);if(!i)return r(void 0,424),xi;s=i.send;const a=Ll(e);a&&(n=a.redundancy)}else{const i=Kn(e);if(i){n=$s(i);const a=e.resources?e.resources[0]:"",c=Dn(a);c&&(s=c.send)}}return!n||!s?(r(void 0,424),xi):n.query(t,s,r)().abort}function ki(){}function Fl(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Al(e)}))}function Nl(e){const t=[],r=[];return e.forEach(n=>{(n.match(Xs)?t:r).push(n)}),{valid:t,invalid:r}}function Xt(e,t,r){function n(){const s=e.pendingIcons;t.forEach(i=>{s&&s.delete(i),e.icons[i]||e.missing.add(i)})}if(r&&typeof r=="object")try{if(!Ks(e,r).length){n();return}}catch(s){console.error(s)}n(),Fl(e)}function Si(e,t){e instanceof Promise?e.then(r=>{t(r)}).catch(()=>{t(null)}):t(e)}function Ml(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:r,prefix:n}=e,s=e.iconsToLoad;if(delete e.iconsToLoad,!s||!s.length)return;const i=e.loadIcon;if(e.loadIcons&&(s.length>1||!i)){Si(e.loadIcons(s,n,r),v=>{Xt(e,s,v)});return}if(i){s.forEach(v=>{const w=i(v,n,r);Si(w,b=>{const m=b?{prefix:n,icons:{[v]:b}}:null;Xt(e,[v],m)})});return}const{valid:a,invalid:c}=Nl(s);if(c.length&&Xt(e,c,null),!a.length)return;const h=n.match(Xs)?Dn(r):null;if(!h){Xt(e,a,null);return}h.prepare(r,n,a).forEach(v=>{Gl(r,v,w=>{Xt(e,v.icons,w)})})}))}const Ul=(e,t)=>{const r=Dl(e,!0,Ws()),n=El(r);if(!n.pending.length){let h=!0;return t&&setTimeout(()=>{h&&t(n.loaded,n.missing,n.pending,ki)}),()=>{h=!1}}const s=Object.create(null),i=[];let a,c;return n.pending.forEach(h=>{const{provider:f,prefix:v}=h;if(v===c&&f===a)return;a=f,c=v,i.push(Rt(f,v));const w=s[f]||(s[f]=Object.create(null));w[v]||(w[v]=[])}),n.pending.forEach(h=>{const{provider:f,prefix:v,name:w}=h,b=Rt(f,v),m=b.pendingIcons||(b.pendingIcons=new Set);m.has(w)||(m.add(w),s[f][v].push(w))}),i.forEach(h=>{const f=s[h.provider][h.prefix];f.length&&Ml(h,f)}),t?Rl(t,n,i):ki};function Bl(e,t){const r={...e};for(const n in t){const s=t[n],i=typeof s;n in Js?(s===null||s&&(i==="string"||i==="number"))&&(r[n]=s):i===typeof r[n]&&(r[n]=n==="rotate"?s%4:s)}return r}const Vl=/[\s,]+/;function Yl(e,t){t.split(Vl).forEach(r=>{switch(r.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function jl(e,t=0){const r=e.replace(/^-?[0-9.]*/,"");function n(s){for(;s<0;)s+=4;return s%4}if(r===""){const s=parseInt(e);return isNaN(s)?0:n(s)}else if(r!==e){let s=0;switch(r){case"%":s=25;break;case"deg":s=90}if(s){let i=parseFloat(e.slice(0,e.length-r.length));return isNaN(i)?0:(i=i/s,i%1===0?n(i):0)}}return t}function Xl(e,t){let r=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const n in t)r+=" "+n+'="'+t[n]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+r+">"+e+"</svg>"}function zl(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Hl(e){return"data:image/svg+xml,"+zl(e)}function ql(e){return'url("'+Hl(e)+'")'}const Pi={...Zs,inline:!1},Kl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Wl={display:"inline-block"},On={"background-color":"currentColor"},ea={"background-color":"transparent"},Ei={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Ai={"-webkit-mask":On,mask:On,background:ea};for(const e in Ai){const t=Ai[e];for(const r in Ei)t[e+"-"+r]=Ei[r]}function Jl(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}function Zl(e,t){const r=Bl(Pi,t),n=t.mode||"svg",s=n==="svg"?{...Kl}:{};e.body.indexOf("xlink:")===-1&&delete s["xmlns:xlink"];let i=typeof t.style=="string"?t.style:"";for(let k in t){const l=t[k];if(l!==void 0)switch(k){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":r[k]=l===!0||l==="true"||l===1;break;case"flip":typeof l=="string"&&Yl(r,l);break;case"color":i=i+(i.length>0&&i.trim().slice(-1)!==";"?";":"")+"color: "+l+"; ";break;case"rotate":typeof l=="string"?r[k]=jl(l):typeof l=="number"&&(r[k]=l);break;case"ariaHidden":case"aria-hidden":l!==!0&&l!=="true"&&delete s["aria-hidden"];break;default:if(k.slice(0,3)==="on:")break;Pi[k]===void 0&&(s[k]=l)}}const a=fl(e,r),c=a.attributes;if(r.inline&&(i="vertical-align: -0.125em; "+i),n==="svg"){Object.assign(s,c),i!==""&&(s.style=i);let k=0,l=t.id;return typeof l=="string"&&(l=l.replace(/-/g,"_")),{svg:!0,attributes:s,body:ml(a.body,l?()=>l+"ID"+k++:"iconifySvelte")}}const{body:h,width:f,height:v}=e,w=n==="mask"||(n==="bg"?!1:h.indexOf("currentColor")!==-1),b=Xl(h,{...c,width:f+"",height:v+""}),g={"--svg":ql(b)},u=k=>{const l=c[k];l&&(g[k]=Jl(l))};u("width"),u("height"),Object.assign(g,Wl,w?On:ea);let x="";for(const k in g)x+=k+": "+g[k]+";";return s.style=x+i,{svg:!1,attributes:s}}Ws(!0);_l("",Pl);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(n=>{try{(typeof n!="object"||n===null||n instanceof Array||typeof n.icons!="object"||typeof n.prefix!="string"||!al(n))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let r in t){const n="IconifyProviders["+r+"] is invalid.";try{const s=t[r];if(typeof s!="object"||!s||s.resources===void 0)continue;yl(r,s)||console.error(n)}catch{console.error(n)}}}}function Ql(e,t,r,n,s){function i(){t.loading&&(t.loading.abort(),t.loading=null)}if(typeof e=="object"&&e!==null&&typeof e.body=="string")return t.name="",i(),{data:{...Jr,...e}};let a;if(typeof e!="string"||(a=Wr(e,!1,!0))===null)return i(),null;const c=il(a);if(!c)return r&&(!t.loading||t.loading.name!==e)&&(i(),t.name="",t.loading={name:e,abort:Ul([a],n)}),null;i(),t.name!==e&&(t.name=e,s&&!t.destroyed&&s(e));const h=["iconify"];return a.prefix!==""&&h.push("iconify--"+a.prefix),a.provider!==""&&h.push("iconify--"+a.provider),{data:c,classes:h}}function Ti(e,t){return e?Zl({...Jr,...e},t):null}var $l=ko("<svg><!></svg>"),ec=De("<span></span>");function Ri(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]);Se(t,!1);const n=Le({name:"",loading:null,destroyed:!1});let s=Le(!1),i=Le(0),a=Le();const c=b=>{typeof r.onLoad=="function"&&r.onLoad(b),js()("load",{icon:b})};function h(){_n(i)}Bt(()=>{J(s,!0)}),hr(()=>{tn(n,N(n).destroyed=!0),N(n).loading&&(N(n).loading.abort(),tn(n,N(n).loading=null))}),Te(()=>(N(i),W(r),N(s),N(n),N(a),Ti),()=>{N(i);const b=!!r.ssr||N(s),m=Ql(r.icon,N(n),b,h,c);J(a,m?Ti(m.data,r):null),N(a)&&m.classes&&tn(a,N(a).attributes.class=(typeof r.class=="string"?r.class+" ":"")+m.classes.join(" "))}),Gt(),Ut();var f=ce(),v=ae(f);{var w=b=>{var m=ce(),g=ae(m);{var u=k=>{var l=$l();let o;var p=me(l);Io(p,()=>N(a).body),_e(()=>o=Ue(l,o,{...N(a).attributes},void 0,!0)),q(k,l)},x=k=>{var l=ec();let o;_e(()=>o=Ue(l,o,{...N(a).attributes})),q(k,l)};Re(g,k=>{N(a).svg?k(u):k(x,!1)})}q(b,m)};Re(v,b=>{N(a)&&b(w)})}q(e,f),Pe()}function zt(e){J(e,e.v+1)}const Zn="-",tc=e=>{const t=nc(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const c=a.split(Zn);return c[0]===""&&c.length!==1&&c.shift(),ta(c,t)||rc(a)},getConflictingClassGroupIds:(a,c)=>{const h=r[a]||[];return c&&n[a]?[...h,...n[a]]:h}}},ta=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?ta(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Zn);return(a=t.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},Di=/^\[(.+)\]$/,rc=e=>{if(Di.test(e)){const t=Di.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},nc=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return sc(Object.entries(e.classGroups),r).forEach(([i,a])=>{In(a,n,i,t)}),n},In=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Oi(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(ic(s)){In(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{In(a,Oi(t,i),r,n)})})},Oi=(e,t)=>{let r=e;return t.split(Zn).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ic=e=>e.isThemeGetter,sc=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[t+a,c])):i);return[r,s]}):e,ac=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},ra="!",oc=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=c=>{const h=[];let f=0,v=0,w;for(let x=0;x<c.length;x++){let k=c[x];if(f===0){if(k===s&&(n||c.slice(x,x+i)===t)){h.push(c.slice(v,x)),v=x+i;continue}if(k==="/"){w=x;continue}}k==="["?f++:k==="]"&&f--}const b=h.length===0?c:c.substring(v),m=b.startsWith(ra),g=m?b.substring(1):b,u=w&&w>v?w-v:void 0;return{modifiers:h,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:u}};return r?c=>r({className:c,parseClassName:a}):a},lc=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},cc=e=>({cache:ac(e.cacheSize),parseClassName:oc(e),...tc(e)}),dc=/\s+/,uc=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(dc);let c="";for(let h=a.length-1;h>=0;h-=1){const f=a[h],{modifiers:v,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:m}=r(f);let g=!!m,u=n(g?b.substring(0,m):b);if(!u){if(!g){c=f+(c.length>0?" "+c:c);continue}if(u=n(b),!u){c=f+(c.length>0?" "+c:c);continue}g=!1}const x=lc(v).join(":"),k=w?x+ra:x,l=k+u;if(i.includes(l))continue;i.push(l);const o=s(u,g);for(let p=0;p<o.length;++p){const C=o[p];i.push(k+C)}c=f+(c.length>0?" "+c:c)}return c};function hc(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=na(t))&&(n&&(n+=" "),n+=r);return n}const na=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=na(e[n]))&&(r&&(r+=" "),r+=t);return r};function fc(e,...t){let r,n,s,i=a;function a(h){const f=t.reduce((v,w)=>w(v),e());return r=cc(f),n=r.cache.get,s=r.cache.set,i=c,c(h)}function c(h){const f=n(h);if(f)return f;const v=uc(h,r);return s(h,v),v}return function(){return i(hc.apply(null,arguments))}}const le=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ia=/^\[(?:([a-z-]+):)?(.+)\]$/i,gc=/^\d+\/\d+$/,pc=new Set(["px","full","screen"]),vc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_c=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qe=e=>At(e)||pc.has(e)||gc.test(e),ct=e=>Vt(e,"length",Ac),At=e=>!!e&&!Number.isNaN(Number(e)),on=e=>Vt(e,"number",At),Ht=e=>!!e&&Number.isInteger(Number(e)),wc=e=>e.endsWith("%")&&At(e.slice(0,-1)),X=e=>ia.test(e),dt=e=>vc.test(e),Cc=new Set(["length","size","percentage"]),xc=e=>Vt(e,Cc,sa),kc=e=>Vt(e,"position",sa),Sc=new Set(["image","url"]),Pc=e=>Vt(e,Sc,Rc),Ec=e=>Vt(e,"",Tc),qt=()=>!0,Vt=(e,t,r)=>{const n=ia.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Ac=e=>mc.test(e)&&!_c.test(e),sa=()=>!1,Tc=e=>yc.test(e),Rc=e=>bc.test(e),Dc=()=>{const e=le("colors"),t=le("spacing"),r=le("blur"),n=le("brightness"),s=le("borderColor"),i=le("borderRadius"),a=le("borderSpacing"),c=le("borderWidth"),h=le("contrast"),f=le("grayscale"),v=le("hueRotate"),w=le("invert"),b=le("gap"),m=le("gradientColorStops"),g=le("gradientColorStopPositions"),u=le("inset"),x=le("margin"),k=le("opacity"),l=le("padding"),o=le("saturate"),p=le("scale"),C=le("sepia"),P=le("skew"),D=le("space"),S=le("translate"),I=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",X,t],L=()=>[X,t],d=()=>["",Qe,ct],y=()=>["auto",At,X],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",X],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[At,X];return{cacheSize:500,separator:":",theme:{colors:[qt],spacing:[Qe,ct],blur:["none","",dt,X],brightness:B(),borderColor:[e],borderRadius:["none","","full",dt,X],borderSpacing:L(),borderWidth:d(),contrast:B(),grayscale:M(),hueRotate:B(),invert:M(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[wc,ct],inset:O(),margin:O(),opacity:B(),padding:L(),saturate:B(),scale:B(),sepia:M(),skew:B(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[dt]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),X]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ht,X]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Ht,X]}],"grid-cols":[{"grid-cols":[qt]}],"col-start-end":[{col:["auto",{span:["full",Ht,X]},X]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[qt]}],"row-start-end":[{row:["auto",{span:[Ht,X]},X]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[l]}],px:[{px:[l]}],py:[{py:[l]}],ps:[{ps:[l]}],pe:[{pe:[l]}],pt:[{pt:[l]}],pr:[{pr:[l]}],pb:[{pb:[l]}],pl:[{pl:[l]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,t]}],"min-w":[{"min-w":[X,t,"min","max","fit"]}],"max-w":[{"max-w":[X,t,"none","full","min","max","fit","prose",{screen:[dt]},dt]}],h:[{h:[X,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,t,"auto","min","max","fit"]}],"font-size":[{text:["base",dt,ct]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",on]}],"font-family":[{font:[qt]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",At,on]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qe,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qe,ct]}],"underline-offset":[{"underline-offset":["auto",Qe,X]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),kc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pc]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[Qe,X]}],"outline-w":[{outline:[Qe,ct]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:d()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[Qe,ct]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dt,Ec]}],"shadow-color":[{shadow:[qt]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",dt,X]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[w]}],saturate:[{saturate:[o]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[o]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[p]}],"scale-x":[{"scale-x":[p]}],"scale-y":[{"scale-y":[p]}],rotate:[{rotate:[Ht,X]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qe,ct,on]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dt=fc(Dc),Oc={gray:"bg-gray-50 dark:bg-gray-800",red:"bg-red-50 dark:bg-gray-800",yellow:"bg-yellow-50 dark:bg-gray-800 ",green:"bg-green-50 dark:bg-gray-800 ",indigo:"bg-indigo-50 dark:bg-gray-800 ",purple:"bg-purple-50 dark:bg-gray-800 ",pink:"bg-pink-50 dark:bg-gray-800 ",blue:"bg-blue-50 dark:bg-gray-800 ",light:"bg-gray-50 dark:bg-gray-700",dark:"bg-gray-50 dark:bg-gray-800",default:"bg-white dark:bg-gray-800",dropdown:"bg-white dark:bg-gray-700",navbar:"bg-white dark:bg-gray-900",navbarUl:"bg-gray-50 dark:bg-gray-800",form:"bg-gray-50 dark:bg-gray-700",primary:"bg-primary-50 dark:bg-gray-800 ",orange:"bg-orange-50 dark:bg-orange-800",none:""};function Ic(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]),n=je(r,["tag","color","rounded","border","shadow","node","use","options","role","transition","params","open"]);Se(t,!1);const s=()=>{};Pr("background",!0);let i=V(t,"tag",24,()=>n.href?"a":"div"),a=V(t,"color",12,"default"),c=V(t,"rounded",8,!1),h=V(t,"border",8,!1),f=V(t,"shadow",8,!1),v=V(t,"node",28,()=>{}),w=V(t,"use",8,s),b=V(t,"options",24,()=>({})),m=V(t,"role",24,()=>{}),g=V(t,"transition",24,()=>{}),u=V(t,"params",24,()=>({})),x=V(t,"open",8,!0);const k=js(),l={gray:"text-gray-800 dark:text-gray-300",red:"text-red-800 dark:text-red-400",yellow:"text-yellow-800 dark:text-yellow-300",green:"text-green-800 dark:text-green-400",indigo:"text-indigo-800 dark:text-indigo-400",purple:"text-purple-800 dark:text-purple-400",pink:"text-pink-800 dark:text-pink-400",blue:"text-blue-800 dark:text-blue-400",light:"text-gray-700 dark:text-gray-300",dark:"text-gray-700 dark:text-gray-300",default:"text-gray-500 dark:text-gray-400",dropdown:"text-gray-700 dark:text-gray-200",navbar:"text-gray-700 dark:text-gray-200",navbarUl:"text-gray-700 dark:text-gray-400",form:"text-gray-900 dark:text-white",primary:"text-primary-800 dark:text-primary-400",orange:"text-orange-800 dark:text-orange-400",none:""},o={gray:"border-gray-300 dark:border-gray-800 divide-gray-300 dark:divide-gray-800",red:"border-red-300 dark:border-red-800 divide-red-300 dark:divide-red-800",yellow:"border-yellow-300 dark:border-yellow-800 divide-yellow-300 dark:divide-yellow-800",green:"border-green-300 dark:border-green-800 divide-green-300 dark:divide-green-800",indigo:"border-indigo-300 dark:border-indigo-800 divide-indigo-300 dark:divide-indigo-800",purple:"border-purple-300 dark:border-purple-800 divide-purple-300 dark:divide-purple-800",pink:"border-pink-300 dark:border-pink-800 divide-pink-300 dark:divide-pink-800",blue:"border-blue-300 dark:border-blue-800 divide-blue-300 dark:divide-blue-800",light:"border-gray-500 divide-gray-500",dark:"border-gray-500 divide-gray-500",default:"border-gray-200 dark:border-gray-700 divide-gray-200 dark:divide-gray-700",dropdown:"border-gray-100 dark:border-gray-600 divide-gray-100 dark:divide-gray-600",navbar:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",navbarUl:"border-gray-100 dark:border-gray-700 divide-gray-100 dark:divide-gray-700",form:"border-gray-300 dark:border-gray-700 divide-gray-300 dark:divide-gray-700",primary:"border-primary-500 dark:border-primary-200  divide-primary-500 dark:divide-primary-200 ",orange:"border-orange-300 dark:border-orange-800 divide-orange-300 dark:divide-orange-800",none:""};let p=Le();Te(()=>W(x()),()=>{k(x()?"open":"close")}),Te(()=>W(x()),()=>{k("show",x())}),Te(()=>W(a()),()=>{a(a()??"default")}),Te(()=>W(a()),()=>{Pr("color",a())}),Te(()=>(W(a()),W(c()),W(h()),W(f()),W(r)),()=>{J(p,Dt(Oc[a()],l[a()],c()&&"rounded-lg",h()&&"border",o[a()],f()&&"shadow-md",r.class))}),Gt(),Ut();var C=ce(),P=ae(C);{var D=I=>{var E=ce(),O=ae(E);kn(O,i,!1,(L,d)=>{gi(L,(T,G)=>{var M;return(M=w())==null?void 0:M(T,G)},b),Ir(L,T=>v(T),()=>v());let y;_e(()=>y=Ue(L,y,{role:m(),...n,class:N(p)},void 0,L.namespaceURI===Sr,L.nodeName.includes("-"))),Vo(3,L,g,u),Z("click",L,function(T){H.call(this,t,T)}),Z("mouseenter",L,function(T){H.call(this,t,T)}),Z("mouseleave",L,function(T){H.call(this,t,T)}),Z("focusin",L,function(T){H.call(this,t,T)}),Z("focusout",L,function(T){H.call(this,t,T)});var _=ce(),A=ae(_);qe(A,t,"default",{}),q(d,_)}),q(I,E)},S=I=>{var E=ce(),O=ae(E);{var L=d=>{var y=ce(),_=ae(y);kn(_,i,!1,(A,T)=>{gi(A,(B,j)=>{var z;return(z=w())==null?void 0:z(B,j)},b),Ir(A,B=>v(B),()=>v());let G;_e(()=>G=Ue(A,G,{role:m(),...n,class:N(p)},void 0,A.namespaceURI===Sr,A.nodeName.includes("-"))),Z("click",A,function(B){H.call(this,t,B)}),Z("mouseenter",A,function(B){H.call(this,t,B)}),Z("mouseleave",A,function(B){H.call(this,t,B)}),Z("focusin",A,function(B){H.call(this,t,B)}),Z("focusout",A,function(B){H.call(this,t,B)});var M=ce(),U=ae(M);qe(U,t,"default",{}),q(T,M)}),q(d,y)};Re(O,d=>{x()&&d(L)},!0)}q(I,E)};Re(P,I=>{g()&&x()?I(D):I(S,!1)})}q(e,C),Pe()}var Lc=De("<a><!></a>"),Gc=De("<label><!></label>"),Fc=De("<button><!></button>");function Nc(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]),n=je(r,["pill","outline","size","href","type","color","shadow","tag","checked","disabled"]);Se(t,!1);const s=Un("group");let i=V(t,"pill",8,!1),a=V(t,"outline",8,!1),c=V(t,"size",8,s?"sm":"md"),h=V(t,"href",24,()=>{}),f=V(t,"type",8,"button"),v=V(t,"color",24,()=>s?a()?"dark":"alternative":"primary"),w=V(t,"shadow",8,!1),b=V(t,"tag",8,"button"),m=V(t,"checked",24,()=>{}),g=V(t,"disabled",8,!1);const u={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white dark:hover:bg-gray-700",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},x={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},k={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},l={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},o={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},p={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},C=()=>a()||v()==="alternative"||v()==="light";let P=Le();Te(()=>(W(c()),W(a()),W(m()),W(v()),W(i()),W(w()),W(g()),W(r)),()=>{J(P,Dt("text-center font-medium",s?"focus-within:ring-2":"focus-within:ring-4",s&&"focus-within:z-10",s||"focus-within:outline-none","inline-flex items-center justify-center "+p[c()],a()&&m()&&"border dark:border-gray-900",a()&&m()&&x[v()],a()&&!m()&&o[v()],!a()&&m()&&x[v()],!a()&&!m()&&u[v()],v()==="alternative"&&(s&&!m()?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-600"),a()&&v()==="dark"&&(s?m()?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),k[v()],C()&&s&&"[&:not(:first-child)]:-ms-px",s?i()&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":i()&&"rounded-full"||"rounded-lg",w()&&"shadow-lg",w()&&l[v()],g()&&"cursor-not-allowed opacity-50",r.class))}),Gt(),Ut();var D=ce(),S=ae(D);{var I=O=>{var L=Lc();let d;var y=me(L);qe(y,t,"default",{}),_e(()=>d=Ue(L,d,{href:h(),...n,class:N(P),role:"button"})),Z("click",L,function(_){H.call(this,t,_)}),Z("change",L,function(_){H.call(this,t,_)}),Z("keydown",L,function(_){H.call(this,t,_)}),Z("keyup",L,function(_){H.call(this,t,_)}),Z("touchstart",L,function(_){H.call(this,t,_)},void 0,!0),Z("touchend",L,function(_){H.call(this,t,_)}),Z("touchcancel",L,function(_){H.call(this,t,_)}),Z("mouseenter",L,function(_){H.call(this,t,_)}),Z("mouseleave",L,function(_){H.call(this,t,_)}),q(O,L)},E=O=>{var L=ce(),d=ae(L);{var y=A=>{var T=Gc();let G;var M=me(T);qe(M,t,"default",{}),_e(()=>G=Ue(T,G,{...n,class:N(P)})),q(A,T)},_=A=>{var T=ce(),G=ae(T);{var M=B=>{var j=Fc();let z;var ee=me(j);qe(ee,t,"default",{}),_e(()=>z=Ue(j,z,{type:f(),...n,disabled:g(),class:N(P)})),Z("click",j,function(K){H.call(this,t,K)}),Z("change",j,function(K){H.call(this,t,K)}),Z("keydown",j,function(K){H.call(this,t,K)}),Z("keyup",j,function(K){H.call(this,t,K)}),Z("touchstart",j,function(K){H.call(this,t,K)},void 0,!0),Z("touchend",j,function(K){H.call(this,t,K)}),Z("touchcancel",j,function(K){H.call(this,t,K)}),Z("mouseenter",j,function(K){H.call(this,t,K)}),Z("mouseleave",j,function(K){H.call(this,t,K)}),q(B,j)},U=B=>{var j=ce(),z=ae(j);kn(z,b,!1,(ee,K)=>{let ie;_e(()=>ie=Ue(ee,ie,{...n,class:N(P)},void 0,ee.namespaceURI===Sr,ee.nodeName.includes("-")));var R=ce(),F=ae(R);qe(F,t,"default",{}),q(K,R)}),q(B,j)};Re(G,B=>{b()==="button"?B(M):B(U,!1)},!0)}q(A,T)};Re(d,A=>{b()==="label"?A(y):A(_,!1)},!0)}q(O,L)};Re(S,O=>{h()&&!g()?O(I):O(E,!1)})}q(e,D),Pe()}var Mc=De('<img alt=""> <div><!></div>',1);function Uc(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]),n=je(r,["href","horizontal","reverse","img","padding","size","imgClass"]);Se(t,!1);let s=V(t,"href",24,()=>{}),i=V(t,"horizontal",8,!1),a=V(t,"reverse",8,!1),c=V(t,"img",24,()=>{}),h=V(t,"padding",8,"lg"),f=V(t,"size",8,"sm"),v=V(t,"imgClass",8,"");const w={none:"",xs:"p-2",sm:"p-4",md:"p-4 sm:p-5",lg:"p-4 sm:p-6",xl:"p-4 sm:p-8"},b={none:"",xs:"max-w-xs",sm:"max-w-sm",md:"max-w-xl",lg:"max-w-2xl",xl:"max-w-screen-xl"};let m=Le(),g=Le(),u=Le();Te(()=>W(h()),()=>{J(m,w[h()])}),Te(()=>(W(f()),W(a()),W(i()),W(s()),W(c()),N(m),W(r)),()=>{J(g,Dt("flex w-full",b[f()],a()?"flex-col-reverse":"flex-col",i()&&(a()?"md:flex-row-reverse":"md:flex-row"),s()&&"hover:bg-gray-100 dark:hover:bg-gray-700",!c()&&N(m),r.class))}),Te(()=>(W(a()),W(i()),W(v())),()=>{J(u,Dt(a()?"rounded-b-lg":"rounded-t-lg",i()&&"object-cover w-full h-96 md:h-auto md:w-48 md:rounded-none",i()&&(a()?"md:rounded-e-lg":"md:rounded-s-lg"),v()))}),Gt(),Ut();const x=Bn(()=>s()?"a":"div");Ic(e,Ko({get tag(){return N(x)},rounded:!0,shadow:!0,border:!0,get href(){return s()}},()=>n,{get class(){return N(g)},$$events:{click(k){H.call(this,t,k)},focusin(k){H.call(this,t,k)},focusout(k){H.call(this,t,k)},mouseenter(k){H.call(this,t,k)},mouseleave(k){H.call(this,t,k)}},children:(k,l)=>{var o=ce(),p=ae(o);{var C=D=>{var S=Mc(),I=ae(S),E=Me(I,2),O=me(E);qe(O,t,"default",{}),_e(()=>{Pn(I,Sn(N(u))),zn(I,"src",c()),Pn(E,Sn(N(m)))}),q(D,S)},P=D=>{var S=ce(),I=ae(S);qe(I,t,"default",{}),q(D,S)};Re(p,D=>{c()?D(C):D(P,!1)})}q(k,o)},$$slots:{default:!0}})),Pe()}var Bc=De("<label><!></label>");function Vc(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]),n=je(r,["color","defaultClass","show"]);Se(t,!1);const s=Le();let i=V(t,"color",12,"gray"),a=V(t,"defaultClass",8,"text-sm rtl:text-right font-medium block"),c=V(t,"show",8,!0),h=Le();const f={gray:"text-gray-900 dark:text-gray-300",green:"text-green-700 dark:text-green-500",red:"text-red-700 dark:text-red-500",disabled:"text-gray-400 dark:text-gray-500 grayscale contrast-50"};Te(()=>(N(h),W(i())),()=>{var u;const g=(u=N(h))==null?void 0:u.control;i(g!=null&&g.disabled?"disabled":i())}),Te(()=>(W(a()),W(i()),W(r)),()=>{J(s,Dt(a(),f[i()],r.class))}),Gt(),Ut();var v=ce(),w=ae(v);{var b=g=>{var u=Bc();let x;var k=me(u);qe(k,t,"default",{}),Ir(u,l=>J(h,l),()=>N(h)),_e(()=>x=Ue(u,x,{...n,class:N(s)})),q(g,u)},m=g=>{var u=ce(),x=ae(u);qe(x,t,"default",{}),q(g,u)};Re(w,g=>{c()?g(b):g(m,!1)})}q(e,v),Pe()}var Yc=De("<input>");function jc(e,t){const r=je(t,["children","$$slots","$$events","$$legacy"]),n=je(r,["value","size"]);Se(t,!1);let s=V(t,"value",12,0),i=V(t,"size",8,"md");const a={sm:"h-1 range-sm",md:"h-2",lg:"h-3 range-lg"};let c=Le();Te(()=>(W(i()),W(r)),()=>{J(c,Dt("w-full bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",a[i()]??a.md,r.class))}),Gt(),Ut();var h=Yc();let f;_e(()=>f=Ue(h,f,{type:"range",...n,class:N(c)})),Yo(h,s),Z("change",h,function(v){H.call(this,t,v)}),Z("click",h,function(v){H.call(this,t,v)}),Z("keydown",h,function(v){H.call(this,t,v)}),Z("keypress",h,function(v){H.call(this,t,v)}),Z("keyup",h,function(v){H.call(this,t,v)}),q(e,h),Pe()}var Xe,ze,rt,Tt,Cr;const $n=class $n extends Map{constructor(r){super();Yt(this,Tt);Yt(this,Xe,new Map);Yt(this,ze,fe(0));Yt(this,rt,fe(0));if(r){for(var[n,s]of r)super.set(n,s);ue(this,rt).v=super.size}}has(r){var n=ue(this,Xe),s=n.get(r);if(s===void 0){var i=super.get(r);if(i!==void 0)s=fe(0),n.set(r,s);else return N(ue(this,ze)),!1}return N(s),!0}forEach(r,n){gr(this,Tt,Cr).call(this),super.forEach(r,n)}get(r){var n=ue(this,Xe),s=n.get(r);if(s===void 0){var i=super.get(r);if(i!==void 0)s=fe(0),n.set(r,s);else{N(ue(this,ze));return}}return N(s),super.get(r)}set(r,n){var w;var s=ue(this,Xe),i=s.get(r),a=super.get(r),c=super.set(r,n),h=ue(this,ze);if(i===void 0)s.set(r,fe(0)),J(ue(this,rt),super.size),zt(h);else if(a!==n){zt(i);var f=h.reactions===null?null:new Set(h.reactions),v=f===null||!((w=i.reactions)!=null&&w.every(b=>f.has(b)));v&&zt(h)}return c}delete(r){var n=ue(this,Xe),s=n.get(r),i=super.delete(r);return s!==void 0&&(n.delete(r),J(ue(this,rt),super.size),J(s,-1),zt(ue(this,ze))),i}clear(){if(super.size!==0){super.clear();var r=ue(this,Xe);J(ue(this,rt),0);for(var n of r.values())J(n,-1);zt(ue(this,ze)),r.clear()}}keys(){return N(ue(this,ze)),super.keys()}values(){return gr(this,Tt,Cr).call(this),super.values()}entries(){return gr(this,Tt,Cr).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return N(ue(this,rt)),super.size}};Xe=new WeakMap,ze=new WeakMap,rt=new WeakMap,Tt=new WeakSet,Cr=function(){N(ue(this,ze));var r=ue(this,Xe);if(ue(this,rt).v!==r.size)for(var n of ri($n.prototype,this,"keys").call(this))r.has(n)||r.set(n,fe(0));for(var[,s]of ue(this,Xe))N(s)};let Ln=$n;var Ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ln={},cn={},dn={},Li;function ge(){return Li||(Li=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof Ii<"u"?Ii:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.18",isBrowser:r(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return e.Konva.angleDeg?s*t:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var s;return(s=e.Konva.Transformer)===null||s===void 0?void 0:s.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(s){e.glob.Konva=s}};const n=s=>{e.Konva[s.prototype.getClassName()]=s};e._registerNode=n,e.Konva._injectGlobal(e.Konva)}(dn)),dn}var Gi;function we(){return Gi||(Gi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=ge();class r{constructor(p=[1,0,0,1,0,0]){this.dirty=!1,this.m=p&&p.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(p){p.m[0]=this.m[0],p.m[1]=this.m[1],p.m[2]=this.m[2],p.m[3]=this.m[3],p.m[4]=this.m[4],p.m[5]=this.m[5]}point(p){const C=this.m;return{x:C[0]*p.x+C[2]*p.y+C[4],y:C[1]*p.x+C[3]*p.y+C[5]}}translate(p,C){return this.m[4]+=this.m[0]*p+this.m[2]*C,this.m[5]+=this.m[1]*p+this.m[3]*C,this}scale(p,C){return this.m[0]*=p,this.m[1]*=p,this.m[2]*=C,this.m[3]*=C,this}rotate(p){const C=Math.cos(p),P=Math.sin(p),D=this.m[0]*C+this.m[2]*P,S=this.m[1]*C+this.m[3]*P,I=this.m[0]*-P+this.m[2]*C,E=this.m[1]*-P+this.m[3]*C;return this.m[0]=D,this.m[1]=S,this.m[2]=I,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(p,C){const P=this.m[0]+this.m[2]*C,D=this.m[1]+this.m[3]*C,S=this.m[2]+this.m[0]*p,I=this.m[3]+this.m[1]*p;return this.m[0]=P,this.m[1]=D,this.m[2]=S,this.m[3]=I,this}multiply(p){const C=this.m[0]*p.m[0]+this.m[2]*p.m[1],P=this.m[1]*p.m[0]+this.m[3]*p.m[1],D=this.m[0]*p.m[2]+this.m[2]*p.m[3],S=this.m[1]*p.m[2]+this.m[3]*p.m[3],I=this.m[0]*p.m[4]+this.m[2]*p.m[5]+this.m[4],E=this.m[1]*p.m[4]+this.m[3]*p.m[5]+this.m[5];return this.m[0]=C,this.m[1]=P,this.m[2]=D,this.m[3]=S,this.m[4]=I,this.m[5]=E,this}invert(){const p=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),C=this.m[3]*p,P=-this.m[1]*p,D=-this.m[2]*p,S=this.m[0]*p,I=p*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=p*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=C,this.m[1]=P,this.m[2]=D,this.m[3]=S,this.m[4]=I,this.m[5]=E,this}getMatrix(){return this.m}decompose(){const p=this.m[0],C=this.m[1],P=this.m[2],D=this.m[3],S=this.m[4],I=this.m[5],E=p*D-C*P,O={x:S,y:I,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(p!=0||C!=0){const L=Math.sqrt(p*p+C*C);O.rotation=C>0?Math.acos(p/L):-Math.acos(p/L),O.scaleX=L,O.scaleY=E/L,O.skewX=(p*P+C*D)/E,O.skewY=0}else if(P!=0||D!=0){const L=Math.sqrt(P*P+D*D);O.rotation=Math.PI/2-(D>0?Math.acos(-P/L):-Math.acos(P/L)),O.scaleX=E/L,O.scaleY=L,O.skewX=0,O.skewY=(p*P+C*D)/E}return O.rotation=e.Util._getRotation(O.rotation),O}}e.Transform=r;const n="[object Array]",s="[object Number]",i="[object String]",a="[object Boolean]",c=Math.PI/180,h=180/Math.PI,f="#",v="",w="0",b="Konva warning: ",m="Konva error: ",g="rgb(",u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},x=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let k=[];const l=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(o){setTimeout(o,60)};e.Util={_isElement(o){return!!(o&&o.nodeType==1)},_isFunction(o){return!!(o&&o.constructor&&o.call&&o.apply)},_isPlainObject(o){return!!o&&o.constructor===Object},_isArray(o){return Object.prototype.toString.call(o)===n},_isNumber(o){return Object.prototype.toString.call(o)===s&&!isNaN(o)&&isFinite(o)},_isString(o){return Object.prototype.toString.call(o)===i},_isBoolean(o){return Object.prototype.toString.call(o)===a},isObject(o){return o instanceof Object},isValidSelector(o){if(typeof o!="string")return!1;const p=o[0];return p==="#"||p==="."||p===p.toUpperCase()},_sign(o){return o===0||o>0?1:-1},requestAnimFrame(o){k.push(o),k.length===1&&l(function(){const p=k;k=[],p.forEach(function(C){C()})})},createCanvasElement(){const o=document.createElement("canvas");try{o.style=o.style||{}}catch{}return o},createImageElement(){return document.createElement("img")},_isInDocument(o){for(;o=o.parentNode;)if(o==document)return!0;return!1},_urlToImage(o,p){const C=e.Util.createImageElement();C.onload=function(){p(C)},C.src=o},_rgbToHex(o,p,C){return((1<<24)+(o<<16)+(p<<8)+C).toString(16).slice(1)},_hexToRgb(o){o=o.replace(f,v);const p=parseInt(o,16);return{r:p>>16&255,g:p>>8&255,b:p&255}},getRandomColor(){let o=(Math.random()*16777215<<0).toString(16);for(;o.length<6;)o=w+o;return f+o},getRGB(o){let p;return o in u?(p=u[o],{r:p[0],g:p[1],b:p[2]}):o[0]===f?this._hexToRgb(o.substring(1)):o.substr(0,4)===g?(p=x.exec(o.replace(/ /g,"")),{r:parseInt(p[1],10),g:parseInt(p[2],10),b:parseInt(p[3],10)}):{r:0,g:0,b:0}},colorToRGBA(o){return o=o||"black",e.Util._namedColorToRBA(o)||e.Util._hex3ColorToRGBA(o)||e.Util._hex4ColorToRGBA(o)||e.Util._hex6ColorToRGBA(o)||e.Util._hex8ColorToRGBA(o)||e.Util._rgbColorToRGBA(o)||e.Util._rgbaColorToRGBA(o)||e.Util._hslColorToRGBA(o)},_namedColorToRBA(o){const p=u[o.toLowerCase()];return p?{r:p[0],g:p[1],b:p[2],a:1}:null},_rgbColorToRGBA(o){if(o.indexOf("rgb(")===0){o=o.match(/rgb\(([^)]+)\)/)[1];const p=o.split(/ *, */).map(Number);return{r:p[0],g:p[1],b:p[2],a:1}}},_rgbaColorToRGBA(o){if(o.indexOf("rgba(")===0){o=o.match(/rgba\(([^)]+)\)/)[1];const p=o.split(/ *, */).map((C,P)=>C.slice(-1)==="%"?P===3?parseInt(C)/100:parseInt(C)/100*255:Number(C));return{r:p[0],g:p[1],b:p[2],a:p[3]}}},_hex8ColorToRGBA(o){if(o[0]==="#"&&o.length===9)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:parseInt(o.slice(7,9),16)/255}},_hex6ColorToRGBA(o){if(o[0]==="#"&&o.length===7)return{r:parseInt(o.slice(1,3),16),g:parseInt(o.slice(3,5),16),b:parseInt(o.slice(5,7),16),a:1}},_hex4ColorToRGBA(o){if(o[0]==="#"&&o.length===5)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:parseInt(o[4]+o[4],16)/255}},_hex3ColorToRGBA(o){if(o[0]==="#"&&o.length===4)return{r:parseInt(o[1]+o[1],16),g:parseInt(o[2]+o[2],16),b:parseInt(o[3]+o[3],16),a:1}},_hslColorToRGBA(o){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(o)){const[p,...C]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(o),P=Number(C[0])/360,D=Number(C[1])/100,S=Number(C[2])/100;let I,E,O;if(D===0)return O=S*255,{r:Math.round(O),g:Math.round(O),b:Math.round(O),a:1};S<.5?I=S*(1+D):I=S+D-S*D;const L=2*S-I,d=[0,0,0];for(let y=0;y<3;y++)E=P+1/3*-(y-1),E<0&&E++,E>1&&E--,6*E<1?O=L+(I-L)*6*E:2*E<1?O=I:3*E<2?O=L+(I-L)*(2/3-E)*6:O=L,d[y]=O*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(o,p){return!(p.x>o.x+o.width||p.x+p.width<o.x||p.y>o.y+o.height||p.y+p.height<o.y)},cloneObject(o){const p={};for(const C in o)this._isPlainObject(o[C])?p[C]=this.cloneObject(o[C]):this._isArray(o[C])?p[C]=this.cloneArray(o[C]):p[C]=o[C];return p},cloneArray(o){return o.slice(0)},degToRad(o){return o*c},radToDeg(o){return o*h},_degToRad(o){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(o)},_radToDeg(o){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(o)},_getRotation(o){return t.Konva.angleDeg?e.Util.radToDeg(o):o},_capitalize(o){return o.charAt(0).toUpperCase()+o.slice(1)},throw(o){throw new Error(m+o)},error(o){console.error(m+o)},warn(o){t.Konva.showWarnings&&console.warn(b+o)},each(o,p){for(const C in o)p(C,o[C])},_inRange(o,p,C){return p<=o&&o<C},_getProjectionToSegment(o,p,C,P,D,S){let I,E,O;const L=(o-C)*(o-C)+(p-P)*(p-P);if(L==0)I=o,E=p,O=(D-C)*(D-C)+(S-P)*(S-P);else{const d=((D-o)*(C-o)+(S-p)*(P-p))/L;d<0?(I=o,E=p,O=(o-D)*(o-D)+(p-S)*(p-S)):d>1?(I=C,E=P,O=(C-D)*(C-D)+(P-S)*(P-S)):(I=o+d*(C-o),E=p+d*(P-p),O=(I-D)*(I-D)+(E-S)*(E-S))}return[I,E,O]},_getProjectionToLine(o,p,C){const P=e.Util.cloneObject(o);let D=Number.MAX_VALUE;return p.forEach(function(S,I){if(!C&&I===p.length-1)return;const E=p[(I+1)%p.length],O=e.Util._getProjectionToSegment(S.x,S.y,E.x,E.y,o.x,o.y),L=O[0],d=O[1],y=O[2];y<D&&(P.x=L,P.y=d,D=y)}),P},_prepareArrayForTween(o,p,C){const P=[],D=[];if(o.length>p.length){const I=p;p=o,o=I}for(let I=0;I<o.length;I+=2)P.push({x:o[I],y:o[I+1]});for(let I=0;I<p.length;I+=2)D.push({x:p[I],y:p[I+1]});const S=[];return D.forEach(function(I){const E=e.Util._getProjectionToLine(I,P,C);S.push(E.x),S.push(E.y)}),S},_prepareToStringify(o){let p;o.visitedByCircularReferenceRemoval=!0;for(const C in o)if(o.hasOwnProperty(C)&&o[C]&&typeof o[C]=="object"){if(p=Object.getOwnPropertyDescriptor(o,C),o[C].visitedByCircularReferenceRemoval||e.Util._isElement(o[C]))if(p.configurable)delete o[C];else return null;else if(e.Util._prepareToStringify(o[C])===null)if(p.configurable)delete o[C];else return null}return delete o.visitedByCircularReferenceRemoval,o},_assign(o,p){for(const C in p)o[C]=p[C];return o},_getFirstPointerId(o){return o.touches?o.changedTouches[0].identifier:o.pointerId||999},releaseCanvas(...o){t.Konva.releaseCanvasOnDestroy&&o.forEach(p=>{p.width=0,p.height=0})},drawRoundedRectPath(o,p,C,P){let D=0,S=0,I=0,E=0;typeof P=="number"?D=S=I=E=Math.min(P,p/2,C/2):(D=Math.min(P[0]||0,p/2,C/2),S=Math.min(P[1]||0,p/2,C/2),E=Math.min(P[2]||0,p/2,C/2),I=Math.min(P[3]||0,p/2,C/2)),o.moveTo(D,0),o.lineTo(p-S,0),o.arc(p-S,S,S,Math.PI*3/2,0,!1),o.lineTo(p,C-E),o.arc(p-E,C-E,E,0,Math.PI/2,!1),o.lineTo(I,C),o.arc(I,C-I,I,Math.PI/2,Math.PI,!1),o.lineTo(0,D),o.arc(D,D,D,Math.PI,Math.PI*3/2,!1)}}}(cn)),cn}var Ce={},Fi;function yt(){if(Fi)return Ce;Fi=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.RGBComponent=n,Ce.alphaComponent=s,Ce.getNumberValidator=i,Ce.getNumberOrArrayOfNumbersValidator=a,Ce.getNumberOrAutoValidator=c,Ce.getStringValidator=h,Ce.getStringOrGradientValidator=f,Ce.getFunctionValidator=v,Ce.getNumberArrayValidator=w,Ce.getBooleanValidator=b,Ce.getComponentValidator=m;const e=ge(),t=we();function r(g){return t.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||t.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function n(g){return g>255?255:g<0?0:Math.round(g)}function s(g){return g>1?1:g<1e-4?1e-4:g}function i(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isNumber(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a number.'),g}}function a(g){if(e.Konva.isUnminified)return function(u,x){let k=t.Util._isNumber(u),l=t.Util._isArray(u)&&u.length==g;return!k&&!l&&t.Util.warn(r(u)+' is a not valid value for "'+x+'" attribute. The value should be a number or Array<number>('+g+")"),u}}function c(){if(e.Konva.isUnminified)return function(g,u){var x=t.Util._isNumber(g),k=g==="auto";return x||k||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a number or "auto".'),g}}function h(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isString(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a string.'),g}}function f(){if(e.Konva.isUnminified)return function(g,u){const x=t.Util._isString(g),k=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return x||k||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a string or a native gradient.'),g}}function v(){if(e.Konva.isUnminified)return function(g,u){return t.Util._isFunction(g)||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a function.'),g}}function w(){if(e.Konva.isUnminified)return function(g,u){const x=Int8Array?Object.getPrototypeOf(Int8Array):null;return x&&g instanceof x||(t.Util._isArray(g)?g.forEach(function(k){t.Util._isNumber(k)||t.Util.warn('"'+u+'" attribute has non numeric element '+k+". Make sure that all elements are numbers.")}):t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a array of numbers.')),g}}function b(){if(e.Konva.isUnminified)return function(g,u){var x=g===!0||g===!1;return x||t.Util.warn(r(g)+' is a not valid value for "'+u+'" attribute. The value should be a boolean.'),g}}function m(g){if(e.Konva.isUnminified)return function(u,x){return u==null||t.Util.isObject(u)||t.Util.warn(r(u)+' is a not valid value for "'+x+'" attribute. The value should be an object with properties '+g),u}}return Ce}var Ni;function bt(){return Ni||(Ni=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=we(),r=yt(),n="get",s="set";e.Factory={addGetterSetter(i,a,c,h,f){e.Factory.addGetter(i,a,c),e.Factory.addSetter(i,a,h,f),e.Factory.addOverloadedGetterSetter(i,a)},addGetter(i,a,c){var h=n+t.Util._capitalize(a);i.prototype[h]=i.prototype[h]||function(){const f=this.attrs[a];return f===void 0?c:f}},addSetter(i,a,c,h){var f=s+t.Util._capitalize(a);i.prototype[f]||e.Factory.overWriteSetter(i,a,c,h)},overWriteSetter(i,a,c,h){var f=s+t.Util._capitalize(a);i.prototype[f]=function(v){return c&&v!==void 0&&v!==null&&(v=c.call(this,v,a)),this._setAttr(a,v),h&&h.call(this),this}},addComponentsGetterSetter(i,a,c,h,f){const v=c.length,w=t.Util._capitalize,b=n+w(a),m=s+w(a);i.prototype[b]=function(){const u={};for(let x=0;x<v;x++){const k=c[x];u[k]=this.getAttr(a+w(k))}return u};const g=(0,r.getComponentValidator)(c);i.prototype[m]=function(u){const x=this.attrs[a];h&&(u=h.call(this,u,a)),g&&g.call(this,u,a);for(const k in u)u.hasOwnProperty(k)&&this._setAttr(a+w(k),u[k]);return u||c.forEach(k=>{this._setAttr(a+w(k),void 0)}),this._fireChangeEvent(a,x,u),f&&f.call(this),this},e.Factory.addOverloadedGetterSetter(i,a)},addOverloadedGetterSetter(i,a){var c=t.Util._capitalize(a),h=s+c,f=n+c;i.prototype[a]=function(){return arguments.length?(this[h](arguments[0]),this):this[f]()}},addDeprecatedGetterSetter(i,a,c,h){t.Util.error("Adding deprecated "+a);const f=n+t.Util._capitalize(a),v=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[f]=function(){t.Util.error(v);const w=this.attrs[a];return w===void 0?c:w},e.Factory.addSetter(i,a,h,function(){t.Util.error(v)}),e.Factory.addOverloadedGetterSetter(i,a)},backCompat(i,a){t.Util.each(a,function(c,h){const f=i.prototype[h],v=n+t.Util._capitalize(c),w=s+t.Util._capitalize(c);function b(){f.apply(this,arguments),t.Util.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+h+'" instead.')}i.prototype[c]=b,i.prototype[v]=b,i.prototype[w]=b})},afterSetFilter(){this._filterUpToDate=!1}}}(ln)),ln}var un={},Kt={},$e={},et={},Mi;function aa(){if(Mi)return et;Mi=1,Object.defineProperty(et,"__esModule",{value:!0}),et.HitContext=et.SceneContext=et.Context=void 0;const e=we(),t=ge();function r(k){const l=[],o=k.length,p=e.Util;for(let C=0;C<o;C++){let P=k[C];p._isNumber(P)?P=Math.round(P*1e3)/1e3:p._isString(P)||(P=P+""),l.push(P)}return l}const n=",",s="(",i=")",a="([",c="])",h=";",f="()",v="=",w=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],b=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],m=100;let g=class{constructor(l){this.canvas=l,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(l){l.fillEnabled()&&this._fill(l)}_fill(l){}strokeShape(l){l.hasStroke()&&this._stroke(l)}_stroke(l){}fillStrokeShape(l){l.attrs.fillAfterStrokeEnabled?(this.strokeShape(l),this.fillShape(l)):(this.fillShape(l),this.strokeShape(l))}getTrace(l,o){let p=this.traceArr,C=p.length,P="",D,S,I,E;for(D=0;D<C;D++)S=p[D],I=S.method,I?(E=S.args,P+=I,l?P+=f:e.Util._isArray(E[0])?P+=a+E.join(n)+c:(o&&(E=E.map(O=>typeof O=="number"?Math.floor(O):O)),P+=s+E.join(n)+i)):(P+=S.property,l||(P+=v+S.val)),P+=h;return P}clearTrace(){this.traceArr=[]}_trace(l){let o=this.traceArr,p;o.push(l),p=o.length,p>=m&&o.shift()}reset(){const l=this.getCanvas().getPixelRatio();this.setTransform(1*l,0,0,1*l,0,0)}getCanvas(){return this.canvas}clear(l){const o=this.getCanvas();l?this.clearRect(l.x||0,l.y||0,l.width||0,l.height||0):this.clearRect(0,0,o.getWidth()/o.pixelRatio,o.getHeight()/o.pixelRatio)}_applyLineCap(l){const o=l.attrs.lineCap;o&&this.setAttr("lineCap",o)}_applyOpacity(l){const o=l.getAbsoluteOpacity();o!==1&&this.setAttr("globalAlpha",o)}_applyLineJoin(l){const o=l.attrs.lineJoin;o&&this.setAttr("lineJoin",o)}setAttr(l,o){this._context[l]=o}arc(l,o,p,C,P,D){this._context.arc(l,o,p,C,P,D)}arcTo(l,o,p,C,P){this._context.arcTo(l,o,p,C,P)}beginPath(){this._context.beginPath()}bezierCurveTo(l,o,p,C,P,D){this._context.bezierCurveTo(l,o,p,C,P,D)}clearRect(l,o,p,C){this._context.clearRect(l,o,p,C)}clip(...l){this._context.clip.apply(this._context,l)}closePath(){this._context.closePath()}createImageData(l,o){const p=arguments;if(p.length===2)return this._context.createImageData(l,o);if(p.length===1)return this._context.createImageData(l)}createLinearGradient(l,o,p,C){return this._context.createLinearGradient(l,o,p,C)}createPattern(l,o){return this._context.createPattern(l,o)}createRadialGradient(l,o,p,C,P,D){return this._context.createRadialGradient(l,o,p,C,P,D)}drawImage(l,o,p,C,P,D,S,I,E){const O=arguments,L=this._context;O.length===3?L.drawImage(l,o,p):O.length===5?L.drawImage(l,o,p,C,P):O.length===9&&L.drawImage(l,o,p,C,P,D,S,I,E)}ellipse(l,o,p,C,P,D,S,I){this._context.ellipse(l,o,p,C,P,D,S,I)}isPointInPath(l,o,p,C){return p?this._context.isPointInPath(p,l,o,C):this._context.isPointInPath(l,o,C)}fill(...l){this._context.fill.apply(this._context,l)}fillRect(l,o,p,C){this._context.fillRect(l,o,p,C)}strokeRect(l,o,p,C){this._context.strokeRect(l,o,p,C)}fillText(l,o,p,C){C?this._context.fillText(l,o,p,C):this._context.fillText(l,o,p)}measureText(l){return this._context.measureText(l)}getImageData(l,o,p,C){return this._context.getImageData(l,o,p,C)}lineTo(l,o){this._context.lineTo(l,o)}moveTo(l,o){this._context.moveTo(l,o)}rect(l,o,p,C){this._context.rect(l,o,p,C)}roundRect(l,o,p,C,P){this._context.roundRect(l,o,p,C,P)}putImageData(l,o,p){this._context.putImageData(l,o,p)}quadraticCurveTo(l,o,p,C){this._context.quadraticCurveTo(l,o,p,C)}restore(){this._context.restore()}rotate(l){this._context.rotate(l)}save(){this._context.save()}scale(l,o){this._context.scale(l,o)}setLineDash(l){this._context.setLineDash?this._context.setLineDash(l):"mozDash"in this._context?this._context.mozDash=l:"webkitLineDash"in this._context&&(this._context.webkitLineDash=l)}getLineDash(){return this._context.getLineDash()}setTransform(l,o,p,C,P,D){this._context.setTransform(l,o,p,C,P,D)}stroke(l){l?this._context.stroke(l):this._context.stroke()}strokeText(l,o,p,C){this._context.strokeText(l,o,p,C)}transform(l,o,p,C,P,D){this._context.transform(l,o,p,C,P,D)}translate(l,o){this._context.translate(l,o)}_enableTrace(){let l=this,o=w.length,p=this.setAttr,C,P;const D=function(S){let I=l[S],E;l[S]=function(){return P=r(Array.prototype.slice.call(arguments,0)),E=I.apply(l,arguments),l._trace({method:S,args:P}),E}};for(C=0;C<o;C++)D(w[C]);l.setAttr=function(){p.apply(l,arguments);const S=arguments[0];let I=arguments[1];(S==="shadowOffsetX"||S==="shadowOffsetY"||S==="shadowBlur")&&(I=I/this.canvas.getPixelRatio()),l._trace({property:S,val:I})}}_applyGlobalCompositeOperation(l){const o=l.attrs.globalCompositeOperation;!o||o==="source-over"||this.setAttr("globalCompositeOperation",o)}};et.Context=g,b.forEach(function(k){Object.defineProperty(g.prototype,k,{get(){return this._context[k]},set(l){this._context[k]=l}})});class u extends g{constructor(l,{willReadFrequently:o=!1}={}){super(l),this._context=l._canvas.getContext("2d",{willReadFrequently:o})}_fillColor(l){const o=l.fill();this.setAttr("fillStyle",o),l._fillFunc(this)}_fillPattern(l){this.setAttr("fillStyle",l._getFillPattern()),l._fillFunc(this)}_fillLinearGradient(l){const o=l._getLinearGradient();o&&(this.setAttr("fillStyle",o),l._fillFunc(this))}_fillRadialGradient(l){const o=l._getRadialGradient();o&&(this.setAttr("fillStyle",o),l._fillFunc(this))}_fill(l){const o=l.fill(),p=l.getFillPriority();if(o&&p==="color"){this._fillColor(l);return}const C=l.getFillPatternImage();if(C&&p==="pattern"){this._fillPattern(l);return}const P=l.getFillLinearGradientColorStops();if(P&&p==="linear-gradient"){this._fillLinearGradient(l);return}const D=l.getFillRadialGradientColorStops();if(D&&p==="radial-gradient"){this._fillRadialGradient(l);return}o?this._fillColor(l):C?this._fillPattern(l):P?this._fillLinearGradient(l):D&&this._fillRadialGradient(l)}_strokeLinearGradient(l){const o=l.getStrokeLinearGradientStartPoint(),p=l.getStrokeLinearGradientEndPoint(),C=l.getStrokeLinearGradientColorStops(),P=this.createLinearGradient(o.x,o.y,p.x,p.y);if(C){for(let D=0;D<C.length;D+=2)P.addColorStop(C[D],C[D+1]);this.setAttr("strokeStyle",P)}}_stroke(l){const o=l.dash(),p=l.getStrokeScaleEnabled();if(l.hasStroke()){if(!p){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(l),o&&l.dashEnabled()&&(this.setLineDash(o),this.setAttr("lineDashOffset",l.dashOffset())),this.setAttr("lineWidth",l.strokeWidth()),l.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),l.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(l):this.setAttr("strokeStyle",l.stroke()),l._strokeFunc(this),p||this.restore()}}_applyShadow(l){var o,p,C;const P=(o=l.getShadowRGBA())!==null&&o!==void 0?o:"black",D=(p=l.getShadowBlur())!==null&&p!==void 0?p:5,S=(C=l.getShadowOffset())!==null&&C!==void 0?C:{x:0,y:0},I=l.getAbsoluteScale(),E=this.canvas.getPixelRatio(),O=I.x*E,L=I.y*E;this.setAttr("shadowColor",P),this.setAttr("shadowBlur",D*Math.min(Math.abs(O),Math.abs(L))),this.setAttr("shadowOffsetX",S.x*O),this.setAttr("shadowOffsetY",S.y*L)}}et.SceneContext=u;class x extends g{constructor(l){super(l),this._context=l._canvas.getContext("2d",{willReadFrequently:!0})}_fill(l){this.save(),this.setAttr("fillStyle",l.colorKey),l._fillFuncHit(this),this.restore()}strokeShape(l){l.hasHitStroke()&&this._stroke(l)}_stroke(l){if(l.hasHitStroke()){const o=l.getStrokeScaleEnabled();if(!o){this.save();const P=this.getCanvas().getPixelRatio();this.setTransform(P,0,0,P,0,0)}this._applyLineCap(l);const p=l.hitStrokeWidth(),C=p==="auto"?l.strokeWidth():p;this.setAttr("lineWidth",C),this.setAttr("strokeStyle",l.colorKey),l._strokeFuncHit(this),o||this.restore()}}}return et.HitContext=x,et}var Ui;function Zr(){if(Ui)return $e;Ui=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.HitCanvas=$e.SceneCanvas=$e.Canvas=void 0;const e=we(),t=aa(),r=ge(),n=bt(),s=yt();let i;function a(){if(i)return i;const v=e.Util.createCanvasElement(),w=v.getContext("2d");return i=function(){const b=r.Konva._global.devicePixelRatio||1,m=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1;return b/m}(),e.Util.releaseCanvas(v),i}let c=class{constructor(w){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const m=(w||{}).pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=m,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(w){const b=this.pixelRatio;this.pixelRatio=w,this.setSize(this.getWidth()/b,this.getHeight()/b)}setWidth(w){this.width=this._canvas.width=w*this.pixelRatio,this._canvas.style.width=w+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}setHeight(w){this.height=this._canvas.height=w*this.pixelRatio,this._canvas.style.height=w+"px";const b=this.pixelRatio;this.getContext()._context.scale(b,b)}getWidth(){return this.width}getHeight(){return this.height}setSize(w,b){this.setWidth(w||0),this.setHeight(b||0)}toDataURL(w,b){try{return this._canvas.toDataURL(w,b)}catch{try{return this._canvas.toDataURL()}catch(g){return e.Util.error("Unable to get data URL. "+g.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};$e.Canvas=c,n.Factory.addGetterSetter(c,"pixelRatio",void 0,(0,s.getNumberValidator)());class h extends c{constructor(w={width:0,height:0,willReadFrequently:!1}){super(w),this.context=new t.SceneContext(this,{willReadFrequently:w.willReadFrequently}),this.setSize(w.width,w.height)}}$e.SceneCanvas=h;class f extends c{constructor(w={width:0,height:0}){super(w),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(w.width,w.height)}}return $e.HitCanvas=f,$e}var hn={},Bi;function Qn(){return Bi||(Bi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=ge(),r=we();e.DD={get isDragging(){let n=!1;return e.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return e.DD._dragElements.forEach(s=>{n=s.node}),n},_dragElements:new Map,_drag(n){const s=[];e.DD._dragElements.forEach((i,a)=>{const{node:c}=i,h=c.getStage();h.setPointersPositions(n),i.pointerId===void 0&&(i.pointerId=r.Util._getFirstPointerId(n));const f=h._changedPointerPositions.find(v=>v.id===i.pointerId);if(f){if(i.dragStatus!=="dragging"){const v=c.dragDistance();if(Math.max(Math.abs(f.x-i.startPointerPos.x),Math.abs(f.y-i.startPointerPos.y))<v||(c.startDrag({evt:n}),!c.isDragging()))return}c._setDragPosition(n,i),s.push(c)}}),s.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:n},!0)})},_endDragBefore(n){const s=[];e.DD._dragElements.forEach(i=>{const{node:a}=i,c=a.getStage();if(n&&c.setPointersPositions(n),!c._changedPointerPositions.find(v=>v.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,i.dragStatus="stopped");const f=i.node.getLayer()||i.node instanceof t.Konva.Stage&&i.node;f&&s.indexOf(f)===-1&&s.push(f)}),s.forEach(i=>{i.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((s,i)=>{s.dragStatus==="stopped"&&s.node.fire("dragend",{type:"dragend",target:s.node,evt:n},!0),s.dragStatus!=="dragging"&&e.DD._dragElements.delete(i)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(hn)),hn}var Vi;function fr(){if(Vi)return Kt;Vi=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.Node=void 0;const e=we(),t=bt(),r=Zr(),n=ge(),s=Qn(),i=yt(),a="absoluteOpacity",c="allEventListeners",h="absoluteTransform",f="absoluteScale",v="canvas",w="Change",b="children",m="konva",g="listening",u="mouseenter",x="mouseleave",k="set",l="Shape",o=" ",p="stage",C="transform",P="Stage",D="visible",S=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(o);let I=1;class E{constructor(d){this._id=I++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(d),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(d){(d===C||d===h)&&this._cache.get(d)?this._cache.get(d).dirty=!0:d?this._cache.delete(d):this._cache.clear()}_getCache(d,y){let _=this._cache.get(d);return(_===void 0||(d===C||d===h)&&_.dirty===!0)&&(_=y.call(this),this._cache.set(d,_)),_}_calculate(d,y,_){if(!this._attachedDepsListeners.get(d)){const A=y.map(T=>T+"Change.konva").join(o);this.on(A,()=>{this._clearCache(d)}),this._attachedDepsListeners.set(d,!0)}return this._getCache(d,_)}_getCanvasCache(){return this._cache.get(v)}_clearSelfAndDescendantCache(d){this._clearCache(d),d===h&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(v)){const{scene:d,filter:y,hit:_}=this._cache.get(v);e.Util.releaseCanvas(d,y,_),this._cache.delete(v)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(d){const y=d||{};let _={};(y.x===void 0||y.y===void 0||y.width===void 0||y.height===void 0)&&(_=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let A=Math.ceil(y.width||_.width),T=Math.ceil(y.height||_.height),G=y.pixelRatio,M=y.x===void 0?Math.floor(_.x):y.x,U=y.y===void 0?Math.floor(_.y):y.y,B=y.offset||0,j=y.drawBorder||!1,z=y.hitCanvasPixelRatio||1;if(!A||!T){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const ee=Math.abs(Math.round(_.x)-M)>.5?1:0,K=Math.abs(Math.round(_.y)-U)>.5?1:0;A+=B*2+ee,T+=B*2+K,M-=B,U-=B;const ie=new r.SceneCanvas({pixelRatio:G,width:A,height:T}),R=new r.SceneCanvas({pixelRatio:G,width:0,height:0,willReadFrequently:!0}),F=new r.HitCanvas({pixelRatio:z,width:A,height:T}),Y=ie.getContext(),re=F.getContext();return F.isCache=!0,ie.isCache=!0,this._cache.delete(v),this._filterUpToDate=!1,y.imageSmoothingEnabled===!1&&(ie.getContext()._context.imageSmoothingEnabled=!1,R.getContext()._context.imageSmoothingEnabled=!1),Y.save(),re.save(),Y.translate(-M,-U),re.translate(-M,-U),this._isUnderCache=!0,this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(f),this.drawScene(ie,this),this.drawHit(F,this),this._isUnderCache=!1,Y.restore(),re.restore(),j&&(Y.save(),Y.beginPath(),Y.rect(0,0,A,T),Y.closePath(),Y.setAttr("strokeStyle","red"),Y.setAttr("lineWidth",5),Y.stroke(),Y.restore()),this._cache.set(v,{scene:ie,filter:R,hit:F,x:M,y:U}),this._requestDraw(),this}isCached(){return this._cache.has(v)}getClientRect(d){throw new Error('abstract "getClientRect" method call')}_transformedRect(d,y){const _=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}];let A=1/0,T=1/0,G=-1/0,M=-1/0;const U=this.getAbsoluteTransform(y);return _.forEach(function(B){const j=U.point(B);A===void 0&&(A=G=j.x,T=M=j.y),A=Math.min(A,j.x),T=Math.min(T,j.y),G=Math.max(G,j.x),M=Math.max(M,j.y)}),{x:A,y:T,width:G-A,height:M-T}}_drawCachedSceneCanvas(d){d.save(),d._applyOpacity(this),d._applyGlobalCompositeOperation(this);const y=this._getCanvasCache();d.translate(y.x,y.y);const _=this._getCachedSceneCanvas(),A=_.pixelRatio;d.drawImage(_._canvas,0,0,_.width/A,_.height/A),d.restore()}_drawCachedHitCanvas(d){const y=this._getCanvasCache(),_=y.hit;d.save(),d.translate(y.x,y.y),d.drawImage(_._canvas,0,0,_.width/_.pixelRatio,_.height/_.pixelRatio),d.restore()}_getCachedSceneCanvas(){let d=this.filters(),y=this._getCanvasCache(),_=y.scene,A=y.filter,T=A.getContext(),G,M,U,B;if(d){if(!this._filterUpToDate){const j=_.pixelRatio;A.setSize(_.width/_.pixelRatio,_.height/_.pixelRatio);try{for(G=d.length,T.clear(),T.drawImage(_._canvas,0,0,_.getWidth()/j,_.getHeight()/j),M=T.getImageData(0,0,A.getWidth(),A.getHeight()),U=0;U<G;U++){if(B=d[U],typeof B!="function"){e.Util.error("Filter should be type of function, but got "+typeof B+" instead. Please check correct filters");continue}B.call(this,M),T.putImageData(M,0,0)}}catch(z){e.Util.error("Unable to apply filter. "+z.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return A}return _}on(d,y){if(this._cache&&this._cache.delete(c),arguments.length===3)return this._delegate.apply(this,arguments);let _=d.split(o),A=_.length,T,G,M,U,B;for(T=0;T<A;T++)G=_[T],M=G.split("."),U=M[0],B=M[1]||"",this.eventListeners[U]||(this.eventListeners[U]=[]),this.eventListeners[U].push({name:B,handler:y});return this}off(d,y){let _=(d||"").split(o),A=_.length,T,G,M,U,B,j;if(this._cache&&this._cache.delete(c),!d)for(G in this.eventListeners)this._off(G);for(T=0;T<A;T++)if(M=_[T],U=M.split("."),B=U[0],j=U[1],B)this.eventListeners[B]&&this._off(B,j,y);else for(G in this.eventListeners)this._off(G,j,y);return this}dispatchEvent(d){const y={target:this,type:d.type,evt:d};return this.fire(d.type,y),this}addEventListener(d,y){return this.on(d,function(_){y.call(this,_.evt)}),this}removeEventListener(d){return this.off(d),this}_delegate(d,y,_){const A=this;this.on(d,function(T){const G=T.target.findAncestors(y,!0,A);for(let M=0;M<G.length;M++)T=e.Util.cloneObject(T),T.currentTarget=G[M],_.call(G[M],T)})}remove(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(a),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(p),this._clearSelfAndDescendantCache(D),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const d=this.getParent();d&&d.children&&(d.children.splice(this.index,1),d._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(d){const y="get"+e.Util._capitalize(d);return e.Util._isFunction(this[y])?this[y]():this.attrs[d]}getAncestors(){let d=this.getParent(),y=[];for(;d;)y.push(d),d=d.getParent();return y}getAttrs(){return this.attrs||{}}setAttrs(d){return this._batchTransformChanges(()=>{let y,_;if(!d)return this;for(y in d)y!==b&&(_=k+e.Util._capitalize(y),e.Util._isFunction(this[_])?this[_](d[y]):this._setAttr(y,d[y]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(d){if(!this.listening())return!1;const _=this.getParent();return _&&_!==d&&this!==d?_._isListening(d):!0}isVisible(){return this._getCache(D,this._isVisible)}_isVisible(d){if(!this.visible())return!1;const _=this.getParent();return _&&_!==d&&this!==d?_._isVisible(d):!0}shouldDrawHit(d,y=!1){if(d)return this._isVisible(d)&&this._isListening(d);const _=this.getLayer();let A=!1;s.DD._dragElements.forEach(G=>{G.dragStatus==="dragging"&&(G.node.nodeType==="Stage"||G.node.getLayer()===_)&&(A=!0)});const T=!y&&!n.Konva.hitOnDragEnabled&&(A||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!T}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let d=this.getDepth(),y=this,_=0,A,T,G,M;function U(j){for(A=[],T=j.length,G=0;G<T;G++)M=j[G],_++,M.nodeType!==l&&(A=A.concat(M.getChildren().slice())),M._id===y._id&&(G=T);A.length>0&&A[0].getDepth()<=d&&U(A)}const B=this.getStage();return y.nodeType!==P&&B&&U(B.getChildren()),_}getDepth(){let d=0,y=this.parent;for(;y;)d++,y=y.parent;return d}_batchTransformChanges(d){this._batchingTransformChange=!0,d(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(C),this._clearSelfAndDescendantCache(h)),this._needClearTransformCache=!1}setPosition(d){return this._batchTransformChanges(()=>{this.x(d.x),this.y(d.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const d=this.getStage();if(!d)return null;const y=d.getPointerPosition();if(!y)return null;const _=this.getAbsoluteTransform().copy();return _.invert(),_.point(y)}getAbsolutePosition(d){let y=!1,_=this.parent;for(;_;){if(_.isCached()){y=!0;break}_=_.parent}y&&!d&&(d=!0);const A=this.getAbsoluteTransform(d).getMatrix(),T=new e.Transform,G=this.offset();return T.m=A.slice(),T.translate(G.x,G.y),T.getTranslation()}setAbsolutePosition(d){const{x:y,y:_,...A}=this._clearTransform();this.attrs.x=y,this.attrs.y=_,this._clearCache(C);const T=this._getAbsoluteTransform().copy();return T.invert(),T.translate(d.x,d.y),d={x:this.attrs.x+T.getTranslation().x,y:this.attrs.y+T.getTranslation().y},this._setTransform(A),this.setPosition({x:d.x,y:d.y}),this._clearCache(C),this._clearSelfAndDescendantCache(h),this}_setTransform(d){let y;for(y in d)this.attrs[y]=d[y]}_clearTransform(){const d={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,d}move(d){let y=d.x,_=d.y,A=this.x(),T=this.y();return y!==void 0&&(A+=y),_!==void 0&&(T+=_),this.setPosition({x:A,y:T}),this}_eachAncestorReverse(d,y){let _=[],A=this.getParent(),T,G;if(!(y&&y._id===this._id)){for(_.unshift(this);A&&(!y||A._id!==y._id);)_.unshift(A),A=A.parent;for(T=_.length,G=0;G<T;G++)d(_[G])}}rotate(d){return this.rotation(this.rotation()+d),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const d=this.index,y=this.parent.getChildren().length;return d<y-1?(this.parent.children.splice(d,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;const d=this.index,y=this.parent.getChildren().length;return d<y-1?(this.parent.children.splice(d,1),this.parent.children.splice(d+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;const d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.splice(d-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const d=this.index;return d>0?(this.parent.children.splice(d,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(d){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(d<0||d>=this.parent.children.length)&&e.Util.warn("Unexpected value "+d+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const y=this.index;return this.parent.children.splice(y,1),this.parent.children.splice(d,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let d=this.opacity();const y=this.getParent();return y&&!y._isUnderCache&&(d*=y.getAbsoluteOpacity()),d}moveTo(d){return this.getParent()!==d&&(this._remove(),d.add(this)),this}toObject(){let d=this.getAttrs(),y,_,A,T,G;const M={attrs:{},className:this.getClassName()};for(y in d)_=d[y],G=e.Util.isObject(_)&&!e.Util._isPlainObject(_)&&!e.Util._isArray(_),!G&&(A=typeof this[y]=="function"&&this[y],delete d[y],T=A?A.call(this):null,d[y]=_,T!==_&&(M.attrs[y]=_));return e.Util._prepareToStringify(M)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(d,y,_){const A=[];y&&this._isMatch(d)&&A.push(this);let T=this.parent;for(;T;){if(T===_)return A;T._isMatch(d)&&A.push(T),T=T.parent}return A}isAncestorOf(d){return!1}findAncestor(d,y,_){return this.findAncestors(d,y,_)[0]}_isMatch(d){if(!d)return!1;if(typeof d=="function")return d(this);let y=d.replace(/ /g,"").split(","),_=y.length,A,T;for(A=0;A<_;A++)if(T=y[A],e.Util.isValidSelector(T)||(e.Util.warn('Selector "'+T+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),T.charAt(0)==="#"){if(this.id()===T.slice(1))return!0}else if(T.charAt(0)==="."){if(this.hasName(T.slice(1)))return!0}else if(this.className===T||this.nodeType===T)return!0;return!1}getLayer(){const d=this.getParent();return d?d.getLayer():null}getStage(){return this._getCache(p,this._getStage)}_getStage(){const d=this.getParent();return d?d.getStage():null}fire(d,y={},_){return y.target=y.target||this,_?this._fireAndBubble(d,y):this._fire(d,y),this}getAbsoluteTransform(d){return d?this._getAbsoluteTransform(d):this._getCache(h,this._getAbsoluteTransform)}_getAbsoluteTransform(d){let y;if(d)return y=new e.Transform,this._eachAncestorReverse(function(_){const A=_.transformsEnabled();A==="all"?y.multiply(_.getTransform()):A==="position"&&y.translate(_.x()-_.offsetX(),_.y()-_.offsetY())},d),y;{y=this._cache.get(h)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(y):y.reset();const _=this.transformsEnabled();if(_==="all")y.multiply(this.getTransform());else if(_==="position"){const A=this.attrs.x||0,T=this.attrs.y||0,G=this.attrs.offsetX||0,M=this.attrs.offsetY||0;y.translate(A-G,T-M)}return y.dirty=!1,y}}getAbsoluteScale(d){let y=this;for(;y;)y._isUnderCache&&(d=y),y=y.getParent();const A=this.getAbsoluteTransform(d).decompose();return{x:A.scaleX,y:A.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(C,this._getTransform)}_getTransform(){var d,y;const _=this._cache.get(C)||new e.Transform;_.reset();const A=this.x(),T=this.y(),G=n.Konva.getAngle(this.rotation()),M=(d=this.attrs.scaleX)!==null&&d!==void 0?d:1,U=(y=this.attrs.scaleY)!==null&&y!==void 0?y:1,B=this.attrs.skewX||0,j=this.attrs.skewY||0,z=this.attrs.offsetX||0,ee=this.attrs.offsetY||0;return(A!==0||T!==0)&&_.translate(A,T),G!==0&&_.rotate(G),(B!==0||j!==0)&&_.skew(B,j),(M!==1||U!==1)&&_.scale(M,U),(z!==0||ee!==0)&&_.translate(-1*z,-1*ee),_.dirty=!1,_}clone(d){let y=e.Util.cloneObject(this.attrs),_,A,T,G,M;for(_ in d)y[_]=d[_];const U=new this.constructor(y);for(_ in this.eventListeners)for(A=this.eventListeners[_],T=A.length,G=0;G<T;G++)M=A[G],M.name.indexOf(m)<0&&(U.eventListeners[_]||(U.eventListeners[_]=[]),U.eventListeners[_].push(M));return U}_toKonvaCanvas(d){d=d||{};const y=this.getClientRect(),_=this.getStage(),A=d.x!==void 0?d.x:Math.floor(y.x),T=d.y!==void 0?d.y:Math.floor(y.y),G=d.pixelRatio||1,M=new r.SceneCanvas({width:d.width||Math.ceil(y.width)||(_?_.width():0),height:d.height||Math.ceil(y.height)||(_?_.height():0),pixelRatio:G}),U=M.getContext(),B=new r.SceneCanvas({width:M.width/M.pixelRatio+Math.abs(A),height:M.height/M.pixelRatio+Math.abs(T),pixelRatio:M.pixelRatio});return d.imageSmoothingEnabled===!1&&(U._context.imageSmoothingEnabled=!1),U.save(),(A||T)&&U.translate(-1*A,-1*T),this.drawScene(M,void 0,B),U.restore(),M}toCanvas(d){return this._toKonvaCanvas(d)._canvas}toDataURL(d){d=d||{};const y=d.mimeType||null,_=d.quality||null,A=this._toKonvaCanvas(d).toDataURL(y,_);return d.callback&&d.callback(A),A}toImage(d){return new Promise((y,_)=>{try{const A=d==null?void 0:d.callback;A&&delete d.callback,e.Util._urlToImage(this.toDataURL(d),function(T){y(T),A==null||A(T)})}catch(A){_(A)}})}toBlob(d){return new Promise((y,_)=>{try{const A=d==null?void 0:d.callback;A&&delete d.callback,this.toCanvas(d).toBlob(T=>{y(T),A==null||A(T)},d==null?void 0:d.mimeType,d==null?void 0:d.quality)}catch(A){_(A)}})}setSize(d){return this.width(d.width),this.height(d.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(d,y,_){let A=this.eventListeners[d],T,G,M;for(T=0;T<A.length;T++)if(G=A[T].name,M=A[T].handler,(G!=="konva"||y==="konva")&&(!y||G===y)&&(!_||_===M)){if(A.splice(T,1),A.length===0){delete this.eventListeners[d];break}T--}}_fireChangeEvent(d,y,_){this._fire(d+w,{oldVal:y,newVal:_})}addName(d){if(!this.hasName(d)){const y=this.name(),_=y?y+" "+d:d;this.name(_)}return this}hasName(d){if(!d)return!1;const y=this.name();return y?(y||"").split(/\s/g).indexOf(d)!==-1:!1}removeName(d){const y=(this.name()||"").split(/\s/g),_=y.indexOf(d);return _!==-1&&(y.splice(_,1),this.name(y.join(" "))),this}setAttr(d,y){const _=this[k+e.Util._capitalize(d)];return e.Util._isFunction(_)?_.call(this,y):this._setAttr(d,y),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const d=this.getLayer()||this.getStage();d==null||d.batchDraw()}}_setAttr(d,y){const _=this.attrs[d];_===y&&!e.Util.isObject(y)||(y==null?delete this.attrs[d]:this.attrs[d]=y,this._shouldFireChangeEvents&&this._fireChangeEvent(d,_,y),this._requestDraw())}_setComponentAttr(d,y,_){let A;_!==void 0&&(A=this.attrs[d],A||(this.attrs[d]=this.getAttr(d)),this.attrs[d][y]=_,this._fireChangeEvent(d,A,_))}_fireAndBubble(d,y,_){if(y&&this.nodeType===l&&(y.target=this),!((d===u||d===x)&&(_&&(this===_||this.isAncestorOf&&this.isAncestorOf(_))||this.nodeType==="Stage"&&!_))){this._fire(d,y);const T=(d===u||d===x)&&_&&_.isAncestorOf&&_.isAncestorOf(this)&&!_.isAncestorOf(this.parent);(y&&!y.cancelBubble||!y)&&this.parent&&this.parent.isListening()&&!T&&(_&&_.parent?this._fireAndBubble.call(this.parent,d,y,_):this._fireAndBubble.call(this.parent,d,y))}}_getProtoListeners(d){var y,_,A;const T=(y=this._cache.get(c))!==null&&y!==void 0?y:{};let G=T==null?void 0:T[d];if(G===void 0){G=[];let M=Object.getPrototypeOf(this);for(;M;){const U=(A=(_=M.eventListeners)===null||_===void 0?void 0:_[d])!==null&&A!==void 0?A:[];G.push(...U),M=Object.getPrototypeOf(M)}T[d]=G,this._cache.set(c,T)}return G}_fire(d,y){y=y||{},y.currentTarget=this,y.type=d;const _=this._getProtoListeners(d);if(_)for(var A=0;A<_.length;A++)_[A].handler.call(this,y);const T=this.eventListeners[d];if(T)for(var A=0;A<T.length;A++)T[A].handler.call(this,y)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(d){const y=d?d.pointerId:void 0,_=this.getStage(),A=this.getAbsolutePosition();if(!_)return;const T=_._getPointerById(y)||_._changedPointerPositions[0]||A;s.DD._dragElements.set(this._id,{node:this,startPointerPos:T,offset:{x:T.x-A.x,y:T.y-A.y},dragStatus:"ready",pointerId:y})}startDrag(d,y=!0){s.DD._dragElements.has(this._id)||this._createDragElement(d);const _=s.DD._dragElements.get(this._id);_.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:d&&d.evt},y)}_setDragPosition(d,y){const _=this.getStage()._getPointerById(y.pointerId);if(!_)return;let A={x:_.x-y.offset.x,y:_.y-y.offset.y};const T=this.dragBoundFunc();if(T!==void 0){const G=T.call(this,A,d);G?A=G:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==A.x||this._lastPos.y!==A.y)&&(this.setAbsolutePosition(A),this._requestDraw()),this._lastPos=A}stopDrag(d){const y=s.DD._dragElements.get(this._id);y&&(y.dragStatus="stopped"),s.DD._endDragBefore(d),s.DD._endDragAfter(d)}setDraggable(d){this._setAttr("draggable",d),this._dragChange()}isDragging(){const d=s.DD._dragElements.get(this._id);return d?d.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(d){if(!(!(d.evt.button!==void 0)||n.Konva.dragButtons.indexOf(d.evt.button)>=0)||this.isDragging())return;let A=!1;s.DD._dragElements.forEach(T=>{this.isAncestorOf(T.node)&&(A=!0)}),A||this._createDragElement(d)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const y=s.DD._dragElements.get(this._id),_=y&&y.dragStatus==="dragging",A=y&&y.dragStatus==="ready";_?this.stopDrag():A&&s.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(d={x:0,y:0}){const y=this.getStage();if(!y)return!1;const _={x:-d.x,y:-d.y,width:y.width()+2*d.x,height:y.height()+2*d.y};return e.Util.haveIntersection(_,this.getClientRect())}static create(d,y){return e.Util._isString(d)&&(d=JSON.parse(d)),this._createNode(d,y)}static _createNode(d,y){let _=E.prototype.getClassName.call(d),A=d.children,T,G,M;y&&(d.attrs.container=y),n.Konva[_]||(e.Util.warn('Can not find a node with class name "'+_+'". Fallback to "Shape".'),_="Shape");const U=n.Konva[_];if(T=new U(d.attrs),A)for(G=A.length,M=0;M<G;M++)T.add(E._createNode(A[M]));return T}}Kt.Node=E,E.prototype.nodeType="Node",E.prototype._attrsAffectingSize=[],E.prototype.eventListeners={},E.prototype.on.call(E.prototype,S,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(C),this._clearSelfAndDescendantCache(h)}),E.prototype.on.call(E.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(D)}),E.prototype.on.call(E.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),E.prototype.on.call(E.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(a)});const O=t.Factory.addGetterSetter;return O(E,"zIndex"),O(E,"absolutePosition"),O(E,"position"),O(E,"x",0,(0,i.getNumberValidator)()),O(E,"y",0,(0,i.getNumberValidator)()),O(E,"globalCompositeOperation","source-over",(0,i.getStringValidator)()),O(E,"opacity",1,(0,i.getNumberValidator)()),O(E,"name","",(0,i.getStringValidator)()),O(E,"id","",(0,i.getStringValidator)()),O(E,"rotation",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"scale",["x","y"]),O(E,"scaleX",1,(0,i.getNumberValidator)()),O(E,"scaleY",1,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"skew",["x","y"]),O(E,"skewX",0,(0,i.getNumberValidator)()),O(E,"skewY",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(E,"offset",["x","y"]),O(E,"offsetX",0,(0,i.getNumberValidator)()),O(E,"offsetY",0,(0,i.getNumberValidator)()),O(E,"dragDistance",void 0,(0,i.getNumberValidator)()),O(E,"width",0,(0,i.getNumberValidator)()),O(E,"height",0,(0,i.getNumberValidator)()),O(E,"listening",!0,(0,i.getBooleanValidator)()),O(E,"preventDefault",!0,(0,i.getBooleanValidator)()),O(E,"filters",void 0,function(L){return this._filterUpToDate=!1,L}),O(E,"visible",!0,(0,i.getBooleanValidator)()),O(E,"transformsEnabled","all",(0,i.getStringValidator)()),O(E,"size"),O(E,"dragBoundFunc"),O(E,"draggable",!1,(0,i.getBooleanValidator)()),t.Factory.backCompat(E,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Kt}var ut={},Yi;function oa(){if(Yi)return ut;Yi=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.getCapturedShape=n,ut.createEvent=s,ut.hasPointerCapture=i,ut.setPointerCapture=a,ut.releaseCapture=c;const e=ge(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function n(h){return t.get(h)}function s(h){return{evt:h,pointerId:h.pointerId}}function i(h,f){return t.get(h)===f}function a(h,f){c(h),f.getStage()&&(t.set(h,f),r&&f._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function c(h,f){const v=t.get(h);if(!v)return;const w=v.getStage();w&&w.content,t.delete(h),r&&v._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}return ut}var ji;function Qr(){return ji||(ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=ge(),r=we(),n=bt(),s=fr(),i=yt(),a=ge(),c=oa(),h="hasShadow",f="shadowRGBA",v="patternImage",w="linearGradient",b="radialGradient";let m;function g(){return m||(m=r.Util.createCanvasElement().getContext("2d"),m)}e.shapes={};function u(I){const E=this.attrs.fillRule;E?I.fill(E):I.fill()}function x(I){I.stroke()}function k(I){const E=this.attrs.fillRule;E?I.fill(E):I.fill()}function l(I){I.stroke()}function o(){this._clearCache(h)}function p(){this._clearCache(f)}function C(){this._clearCache(v)}function P(){this._clearCache(w)}function D(){this._clearCache(b)}class S extends s.Node{constructor(E){super(E);let O;for(;O=r.Util.getRandomColor(),!(O&&!(O in e.shapes)););this.colorKey=O,e.shapes[O]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(h,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(v,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const O=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(O&&O.setTransform){const L=new r.Transform;L.translate(this.fillPatternX(),this.fillPatternY()),L.rotate(t.Konva.getAngle(this.fillPatternRotation())),L.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),L.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const d=L.getMatrix(),y=typeof DOMMatrix>"u"?{a:d[0],b:d[1],c:d[2],d:d[3],e:d[4],f:d[5]}:new DOMMatrix(d);O.setTransform(y)}return O}}_getLinearGradient(){return this._getCache(w,this.__getLinearGradient)}__getLinearGradient(){const E=this.fillLinearGradientColorStops();if(E){const O=g(),L=this.fillLinearGradientStartPoint(),d=this.fillLinearGradientEndPoint(),y=O.createLinearGradient(L.x,L.y,d.x,d.y);for(let _=0;_<E.length;_+=2)y.addColorStop(E[_],E[_+1]);return y}}_getRadialGradient(){return this._getCache(b,this.__getRadialGradient)}__getRadialGradient(){const E=this.fillRadialGradientColorStops();if(E){const O=g(),L=this.fillRadialGradientStartPoint(),d=this.fillRadialGradientEndPoint(),y=O.createRadialGradient(L.x,L.y,this.fillRadialGradientStartRadius(),d.x,d.y,this.fillRadialGradientEndRadius());for(let _=0;_<E.length;_+=2)y.addColorStop(E[_],E[_+1]);return y}}getShadowRGBA(){return this._getCache(f,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const E=r.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){const O=this.getStage();if(!O)return!1;const L=O.bufferHitCanvas;return L.getContext().clear(),this.drawHit(L,void 0,!0),L.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data[3]>0}destroy(){return s.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var O;if(!((O=this.attrs.perfectDrawEnabled)!==null&&O!==void 0?O:!0))return!1;const d=E||this.hasFill(),y=this.hasStroke(),_=this.getAbsoluteOpacity()!==1;if(d&&y&&_)return!0;const A=this.hasShadow(),T=this.shadowForStrokeEnabled();return!!(d&&y&&A&&T)}setStrokeHitEnabled(E){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){let O=!1,L=this.getParent();for(;L;){if(L.isCached()){O=!0;break}L=L.getParent()}const d=E.skipTransform,y=E.relativeTo||O&&this.getStage()||void 0,_=this.getSelfRect(),T=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,G=_.width+T,M=_.height+T,U=!E.skipShadow&&this.hasShadow(),B=U?this.shadowOffsetX():0,j=U?this.shadowOffsetY():0,z=G+Math.abs(B),ee=M+Math.abs(j),K=U&&this.shadowBlur()||0,ie=z+K*2,R=ee+K*2,F={width:ie,height:R,x:-(T/2+K)+Math.min(B,0)+_.x,y:-(T/2+K)+Math.min(j,0)+_.y};return d?F:this._transformedRect(F,y)}drawScene(E,O,L){const d=this.getLayer();let y=E||d.getCanvas(),_=y.getContext(),A=this._getCanvasCache(),T=this.getSceneFunc(),G=this.hasShadow(),M,U;const B=y.isCache,j=O===this;if(!this.isVisible()&&!j)return this;if(A){_.save();const ee=this.getAbsoluteTransform(O).getMatrix();return _.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedSceneCanvas(_),_.restore(),this}if(!T)return this;if(_.save(),this._useBufferCanvas()&&!B){M=this.getStage();const ee=L||M.bufferCanvas;U=ee.getContext(),U.clear(),U.save(),U._applyLineJoin(this);var z=this.getAbsoluteTransform(O).getMatrix();U.transform(z[0],z[1],z[2],z[3],z[4],z[5]),T.call(this,U,this),U.restore();const K=ee.pixelRatio;G&&_._applyShadow(this),_._applyOpacity(this),_._applyGlobalCompositeOperation(this),_.drawImage(ee._canvas,0,0,ee.width/K,ee.height/K)}else{if(_._applyLineJoin(this),!j){var z=this.getAbsoluteTransform(O).getMatrix();_.transform(z[0],z[1],z[2],z[3],z[4],z[5]),_._applyOpacity(this),_._applyGlobalCompositeOperation(this)}G&&_._applyShadow(this),T.call(this,_,this)}return _.restore(),this}drawHit(E,O,L=!1){if(!this.shouldDrawHit(O,L))return this;const d=this.getLayer(),y=E||d.hitCanvas,_=y&&y.getContext(),A=this.hitFunc()||this.sceneFunc(),T=this._getCanvasCache(),G=T&&T.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),G){_.save();const U=this.getAbsoluteTransform(O).getMatrix();return _.transform(U[0],U[1],U[2],U[3],U[4],U[5]),this._drawCachedHitCanvas(_),_.restore(),this}if(!A)return this;if(_.save(),_._applyLineJoin(this),!(this===O)){const U=this.getAbsoluteTransform(O).getMatrix();_.transform(U[0],U[1],U[2],U[3],U[4],U[5])}return A.call(this,_,this),_.restore(),this}drawHitFromCache(E=0){const O=this._getCanvasCache(),L=this._getCachedSceneCanvas(),d=O.hit,y=d.getContext(),_=d.getWidth(),A=d.getHeight();y.clear(),y.drawImage(L._canvas,0,0,_,A);try{const T=y.getImageData(0,0,_,A),G=T.data,M=G.length,U=r.Util._hexToRgb(this.colorKey);for(let B=0;B<M;B+=4)G[B+3]>E?(G[B]=U.r,G[B+1]=U.g,G[B+2]=U.b,G[B+3]=255):G[B+3]=0;y.putImageData(T,0,0)}catch(T){r.Util.error("Unable to draw hit graph from cached scene canvas. "+T.message)}return this}hasPointerCapture(E){return c.hasPointerCapture(E,this)}setPointerCapture(E){c.setPointerCapture(E,this)}releaseCapture(E){c.releaseCapture(E,this)}}e.Shape=S,S.prototype._fillFunc=u,S.prototype._strokeFunc=x,S.prototype._fillFuncHit=k,S.prototype._strokeFuncHit=l,S.prototype._centroid=!1,S.prototype.nodeType="Shape",(0,a._registerNode)(S),S.prototype.eventListeners={},S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",o),S.prototype.on.call(S.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",C),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",P),S.prototype.on.call(S.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",D),n.Factory.addGetterSetter(S,"stroke",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(S,"strokeWidth",2,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(S,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(S,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(S,"lineJoin"),n.Factory.addGetterSetter(S,"lineCap"),n.Factory.addGetterSetter(S,"sceneFunc"),n.Factory.addGetterSetter(S,"hitFunc"),n.Factory.addGetterSetter(S,"dash"),n.Factory.addGetterSetter(S,"dashOffset",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowColor",void 0,(0,i.getStringValidator)()),n.Factory.addGetterSetter(S,"shadowBlur",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowOpacity",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(S,"shadowOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"shadowOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternImage"),n.Factory.addGetterSetter(S,"fill",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(S,"fillPatternX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(S,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(S,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(S,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(S,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(S,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(S,"fillEnabled",!0),n.Factory.addGetterSetter(S,"strokeEnabled",!0),n.Factory.addGetterSetter(S,"shadowEnabled",!0),n.Factory.addGetterSetter(S,"dashEnabled",!0),n.Factory.addGetterSetter(S,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(S,"fillPriority","color"),n.Factory.addComponentsGetterSetter(S,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(S,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(S,"fillPatternScaleX",1,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(S,"fillPatternScaleY",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(S,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(S,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(S,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(S,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(S,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(S,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(S,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(S,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(S,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(S,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(S,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(S,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(S,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(S,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(S,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(S,"fillPatternRotation",0),n.Factory.addGetterSetter(S,"fillRule",void 0,(0,i.getStringValidator)()),n.Factory.backCompat(S,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(un)),un}const zc=["mouseover","mouseout","mouseenter","mouseleave","mousemove","mousedown","mouseup","wheel","click","dblclick","touchstart","touchmove","touchend","tap","dbltap","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerenter","pointerout","pointerleave","pointerclick","pointerdblclick","dragstart","dragmove","dragend","transformstart","transform","transformend"];function $r(e,t){zc.forEach(r=>{const n=e[`on${r}`];typeof n=="function"&&t.on(r,s=>{n(s)})})}const Gr=["svelte-konva-stage","svelte-konva-layer","svelte-konva-group","svelte-konva-label"];var or;(function(e){e[e.Stage=0]="Stage",e[e.Layer=1]="Layer",e[e.Group=2]="Group",e[e.Label=3]="Label"})(or||(or={}));const Hc="svelte-konva: Component does not have any parent container. Please make sure that the component is wrapped inside a Layer or Group.",qc="svelte-konva: A Layer needs to have a Stage as parent.";function la(e,t){Gr.forEach(r=>{Pr(r,null)}),Pr(Gr[e],t)}function ca(){for(let e=1;e<4;e++){const t=Un(Gr[e]);if(t)return t}throw new Error(Hc)}function Kc(){const e=Un(Gr[or.Stage]);if(e)return e;throw new Error(qc)}var mr={exports:{}},fn={},Wt={},Xi;function en(){if(Xi)return Wt;Xi=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.Container=void 0;const e=bt(),t=fr(),r=yt();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const a=this.children||[],c=[];return a.forEach(function(h){i(h)&&c.push(h)}),c}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(let c=0;c<i.length;c++)this.add(i[c]);return this}const a=i[0];return a.getParent()?(a.moveTo(this),this):(this._validateAdd(a),a.index=this.getChildren().length,a.parent=this,a._clearCaches(),this.getChildren().push(a),this._fire("add",{child:a}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){const a=this._generalFind(i,!0);return a.length>0?a[0]:void 0}_generalFind(i,a){const c=[];return this._descendants(h=>{const f=h._isMatch(i);return f&&c.push(h),!!(f&&a)}),c}_descendants(i){let a=!1;const c=this.getChildren();for(const h of c){if(a=i(h),a)return!0;if(h.hasChildren()&&(a=h._descendants(i),a))return!0}return!1}toObject(){const i=t.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(a=>{i.children.push(a.toObject())}),i}isAncestorOf(i){let a=i.getParent();for(;a;){if(a._id===this._id)return!0;a=a.getParent()}return!1}clone(i){const a=t.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(c){a.add(c.clone())}),a}getAllIntersections(i){const a=[];return this.find("Shape").forEach(c=>{c.isVisible()&&c.intersects(i)&&a.push(c)}),a}_clearSelfAndDescendantCache(i){var a;super._clearSelfAndDescendantCache(i),!this.isCached()&&((a=this.children)===null||a===void 0||a.forEach(function(c){c._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(a,c){a.index=c}),this._requestDraw()}drawScene(i,a,c){const h=this.getLayer(),f=i||h&&h.getCanvas(),v=f&&f.getContext(),w=this._getCanvasCache(),b=w&&w.scene,m=f&&f.isCache;if(!this.isVisible()&&!m)return this;if(b){v.save();const g=this.getAbsoluteTransform(a).getMatrix();v.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(v),v.restore()}else this._drawChildren("drawScene",f,a,c);return this}drawHit(i,a){if(!this.shouldDrawHit(a))return this;const c=this.getLayer(),h=i||c&&c.hitCanvas,f=h&&h.getContext(),v=this._getCanvasCache();if(v&&v.hit){f.save();const b=this.getAbsoluteTransform(a).getMatrix();f.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._drawCachedHitCanvas(f),f.restore()}else this._drawChildren("drawHit",h,a);return this}_drawChildren(i,a,c,h){var f;const v=a&&a.getContext(),w=this.clipWidth(),b=this.clipHeight(),m=this.clipFunc(),g=typeof w=="number"&&typeof b=="number"||m,u=c===this;if(g){v.save();const k=this.getAbsoluteTransform(c);let l=k.getMatrix();v.transform(l[0],l[1],l[2],l[3],l[4],l[5]),v.beginPath();let o;if(m)o=m.call(this,v,this);else{const p=this.clipX(),C=this.clipY();v.rect(p||0,C||0,w,b)}v.clip.apply(v,o),l=k.copy().invert().getMatrix(),v.transform(l[0],l[1],l[2],l[3],l[4],l[5])}const x=!u&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";x&&(v.save(),v._applyGlobalCompositeOperation(this)),(f=this.children)===null||f===void 0||f.forEach(function(k){k[i](a,c,h)}),x&&v.restore(),g&&v.restore()}getClientRect(i={}){var a;const c=i.skipTransform,h=i.relativeTo;let f,v,w,b,m={x:1/0,y:1/0,width:0,height:0};const g=this;(a=this.children)===null||a===void 0||a.forEach(function(k){if(!k.visible())return;const l=k.getClientRect({relativeTo:g,skipShadow:i.skipShadow,skipStroke:i.skipStroke});l.width===0&&l.height===0||(f===void 0?(f=l.x,v=l.y,w=l.x+l.width,b=l.y+l.height):(f=Math.min(f,l.x),v=Math.min(v,l.y),w=Math.max(w,l.x+l.width),b=Math.max(b,l.y+l.height)))});const u=this.find("Shape");let x=!1;for(let k=0;k<u.length;k++)if(u[k]._isVisible(this)){x=!0;break}return x&&f!==void 0?m={x:f,y:v,width:w-f,height:b-v}:m={x:0,y:0,width:0,height:0},c?m:this._transformedRect(m,h)}};return Wt.Container=n,e.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipFunc"),Wt}var gn={},zi;function Wc(){return zi||(zi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=we(),r=bt(),n=en(),s=ge(),i=Zr(),a=Qn(),c=ge(),h=oa(),f="Stage",v="string",w="px",b="mouseout",m="mouseleave",g="mouseover",u="mouseenter",x="mousemove",k="mousedown",l="mouseup",o="pointermove",p="pointerdown",C="pointerup",P="pointercancel",D="lostpointercapture",S="pointerout",I="pointerleave",E="pointerover",O="pointerenter",L="contextmenu",d="touchstart",y="touchend",_="touchmove",A="touchcancel",T="wheel",G=5,M=[[u,"_pointerenter"],[k,"_pointerdown"],[x,"_pointermove"],[l,"_pointerup"],[m,"_pointerleave"],[d,"_pointerdown"],[_,"_pointermove"],[y,"_pointerup"],[A,"_pointercancel"],[g,"_pointerover"],[T,"_wheel"],[L,"_contextmenu"],[p,"_pointerdown"],[o,"_pointermove"],[C,"_pointerup"],[P,"_pointercancel"],[D,"_lostpointercapture"]],U={mouse:{[S]:b,[I]:m,[E]:g,[O]:u,[o]:x,[p]:k,[C]:l,[P]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[S]:"touchout",[I]:"touchleave",[E]:"touchover",[O]:"touchenter",[o]:_,[p]:d,[C]:y,[P]:A,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[S]:S,[I]:I,[E]:E,[O]:O,[o]:o,[p]:p,[C]:C,[P]:P,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},B=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",j=ie=>{const R=B(ie);if(R==="pointer")return s.Konva.pointerEventsEnabled&&U.pointer;if(R==="touch")return U.touch;if(R==="mouse")return U.mouse};function z(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const ee="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class K extends n.Container{constructor(R){super(z(R)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{z(this.attrs)}),this._checkVisibility()}_validateAdd(R){const F=R.getType()==="Layer",Y=R.getType()==="FastLayer";F||Y||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const R=this.visible()?"":"none";this.content.style.display=R}setContainer(R){if(typeof R===v){if(R.charAt(0)==="."){const Y=R.slice(1);R=document.getElementsByClassName(Y)[0]}else{var F;R.charAt(0)!=="#"?F=R:F=R.slice(1),R=document.getElementById(F)}if(!R)throw"Can not find container in document with id "+F}return this._setAttr("container",R),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),R.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const R=this.children,F=R.length;for(let Y=0;Y<F;Y++)R[Y].clear();return this}clone(R){return R||(R={}),R.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,R)}destroy(){super.destroy();const R=this.content;R&&t.Util._isInDocument(R)&&this.container().removeChild(R);const F=e.stages.indexOf(this);return F>-1&&e.stages.splice(F,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const R=this._pointerPositions[0]||this._changedPointerPositions[0];return R?{x:R.x,y:R.y}:(t.Util.warn(ee),null)}_getPointerById(R){return this._pointerPositions.find(F=>F.id===R)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(R){R=R||{},R.x=R.x||0,R.y=R.y||0,R.width=R.width||this.width(),R.height=R.height||this.height();const F=new i.SceneCanvas({width:R.width,height:R.height,pixelRatio:R.pixelRatio||1}),Y=F.getContext()._context,re=this.children;return(R.x||R.y)&&Y.translate(-1*R.x,-1*R.y),re.forEach(function(se){if(!se.isVisible())return;const de=se._toKonvaCanvas(R);Y.drawImage(de._canvas,R.x,R.y,de.getWidth()/de.getPixelRatio(),de.getHeight()/de.getPixelRatio())}),F}getIntersection(R){if(!R)return null;const F=this.children,Y=F.length,re=Y-1;for(let se=re;se>=0;se--){const de=F[se].getIntersection(R);if(de)return de}return null}_resizeDOM(){const R=this.width(),F=this.height();this.content&&(this.content.style.width=R+w,this.content.style.height=F+w),this.bufferCanvas.setSize(R,F),this.bufferHitCanvas.setSize(R,F),this.children.forEach(Y=>{Y.setSize({width:R,height:F}),Y.draw()})}add(R,...F){if(arguments.length>1){for(let re=0;re<arguments.length;re++)this.add(arguments[re]);return this}super.add(R);const Y=this.children.length;return Y>G&&t.Util.warn("The stage has "+Y+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),R.setSize({width:this.width(),height:this.height()}),R.draw(),s.Konva.isBrowser&&this.content.appendChild(R.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(R){return h.hasPointerCapture(R,this)}setPointerCapture(R){h.setPointerCapture(R,this)}releaseCapture(R){h.releaseCapture(R,this)}getLayers(){return this.children}_bindContentEvents(){s.Konva.isBrowser&&M.forEach(([R,F])=>{this.content.addEventListener(R,Y=>{this[F](Y)},{passive:!1})})}_pointerenter(R){this.setPointersPositions(R);const F=j(R.type);F&&this._fire(F.pointerenter,{evt:R,target:this,currentTarget:this})}_pointerover(R){this.setPointersPositions(R);const F=j(R.type);F&&this._fire(F.pointerover,{evt:R,target:this,currentTarget:this})}_getTargetShape(R){let F=this[R+"targetShape"];return F&&!F.getStage()&&(F=null),F}_pointerleave(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);const re=this._getTargetShape(Y),se=!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled;re&&se?(re._fireAndBubble(F.pointerout,{evt:R}),re._fireAndBubble(F.pointerleave,{evt:R}),this._fire(F.pointerleave,{evt:R,target:this,currentTarget:this}),this[Y+"targetShape"]=null):se&&(this._fire(F.pointerleave,{evt:R,target:this,currentTarget:this}),this._fire(F.pointerout,{evt:R,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);let re=!1;this._changedPointerPositions.forEach(se=>{const de=this.getIntersection(se);if(a.DD.justDragged=!1,s.Konva["_"+Y+"ListenClick"]=!0,!de||!de.isListening()){this[Y+"ClickStartShape"]=void 0;return}s.Konva.capturePointerEventsEnabled&&de.setPointerCapture(se.id),this[Y+"ClickStartShape"]=de,de._fireAndBubble(F.pointerdown,{evt:R,pointerId:se.id}),re=!0;const Oe=R.type.indexOf("touch")>=0;de.preventDefault()&&R.cancelable&&Oe&&R.preventDefault()}),re||this._fire(F.pointerdown,{evt:R,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(R){const F=j(R.type),Y=B(R.type);if(!F||(s.Konva.isDragging()&&a.DD.node.preventDefault()&&R.cancelable&&R.preventDefault(),this.setPointersPositions(R),!(!(s.Konva.isDragging()||s.Konva.isTransforming())||s.Konva.hitOnDragEnabled)))return;const se={};let de=!1;const Oe=this._getTargetShape(Y);this._changedPointerPositions.forEach(lt=>{const oe=h.getCapturedShape(lt.id)||this.getIntersection(lt),wt=lt.id,Ze={evt:R,pointerId:wt},Ct=Oe!==oe;if(Ct&&Oe&&(Oe._fireAndBubble(F.pointerout,{...Ze},oe),Oe._fireAndBubble(F.pointerleave,{...Ze},oe)),oe){if(se[oe._id])return;se[oe._id]=!0}oe&&oe.isListening()?(de=!0,Ct&&(oe._fireAndBubble(F.pointerover,{...Ze},Oe),oe._fireAndBubble(F.pointerenter,{...Ze},Oe),this[Y+"targetShape"]=oe),oe._fireAndBubble(F.pointermove,{...Ze})):Oe&&(this._fire(F.pointerover,{evt:R,target:this,currentTarget:this,pointerId:wt}),this[Y+"targetShape"]=null)}),de||this._fire(F.pointermove,{evt:R,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(R){const F=j(R.type),Y=B(R.type);if(!F)return;this.setPointersPositions(R);const re=this[Y+"ClickStartShape"],se=this[Y+"ClickEndShape"],de={};let Oe=!1;this._changedPointerPositions.forEach(lt=>{const oe=h.getCapturedShape(lt.id)||this.getIntersection(lt);if(oe){if(oe.releaseCapture(lt.id),de[oe._id])return;de[oe._id]=!0}const wt=lt.id,Ze={evt:R,pointerId:wt};let Ct=!1;s.Konva["_"+Y+"InDblClickWindow"]?(Ct=!0,clearTimeout(this[Y+"DblTimeout"])):a.DD.justDragged||(s.Konva["_"+Y+"InDblClickWindow"]=!0,clearTimeout(this[Y+"DblTimeout"])),this[Y+"DblTimeout"]=setTimeout(function(){s.Konva["_"+Y+"InDblClickWindow"]=!1},s.Konva.dblClickWindow),oe&&oe.isListening()?(Oe=!0,this[Y+"ClickEndShape"]=oe,oe._fireAndBubble(F.pointerup,{...Ze}),s.Konva["_"+Y+"ListenClick"]&&re&&re===oe&&(oe._fireAndBubble(F.pointerclick,{...Ze}),Ct&&se&&se===oe&&oe._fireAndBubble(F.pointerdblclick,{...Ze}))):(this[Y+"ClickEndShape"]=null,s.Konva["_"+Y+"ListenClick"]&&this._fire(F.pointerclick,{evt:R,target:this,currentTarget:this,pointerId:wt}),Ct&&this._fire(F.pointerdblclick,{evt:R,target:this,currentTarget:this,pointerId:wt}))}),Oe||this._fire(F.pointerup,{evt:R,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva["_"+Y+"ListenClick"]=!1,R.cancelable&&Y!=="touch"&&Y!=="pointer"&&R.preventDefault()}_contextmenu(R){this.setPointersPositions(R);const F=this.getIntersection(this.getPointerPosition());F&&F.isListening()?F._fireAndBubble(L,{evt:R}):this._fire(L,{evt:R,target:this,currentTarget:this})}_wheel(R){this.setPointersPositions(R);const F=this.getIntersection(this.getPointerPosition());F&&F.isListening()?F._fireAndBubble(T,{evt:R}):this._fire(T,{evt:R,target:this,currentTarget:this})}_pointercancel(R){this.setPointersPositions(R);const F=h.getCapturedShape(R.pointerId)||this.getIntersection(this.getPointerPosition());F&&F._fireAndBubble(C,h.createEvent(R)),h.releaseCapture(R.pointerId)}_lostpointercapture(R){h.releaseCapture(R.pointerId)}setPointersPositions(R){const F=this._getContentPosition();let Y=null,re=null;R=R||window.event,R.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(R.touches,se=>{this._pointerPositions.push({id:se.identifier,x:(se.clientX-F.left)/F.scaleX,y:(se.clientY-F.top)/F.scaleY})}),Array.prototype.forEach.call(R.changedTouches||R.touches,se=>{this._changedPointerPositions.push({id:se.identifier,x:(se.clientX-F.left)/F.scaleX,y:(se.clientY-F.top)/F.scaleY})})):(Y=(R.clientX-F.left)/F.scaleX,re=(R.clientY-F.top)/F.scaleY,this.pointerPos={x:Y,y:re},this._pointerPositions=[{x:Y,y:re,id:t.Util._getFirstPointerId(R)}],this._changedPointerPositions=[{x:Y,y:re,id:t.Util._getFirstPointerId(R)}])}_setPointerPosition(R){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(R)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const R=this.content.getBoundingClientRect();return{top:R.top,left:R.left,scaleX:R.width/this.content.clientWidth||1,scaleY:R.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!s.Konva.isBrowser)return;const R=this.container();if(!R)throw"Stage has no container. A container is required.";R.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),R.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(R){R.batchDraw()}),this}}e.Stage=K,K.prototype.nodeType=f,(0,c._registerNode)(K),r.Factory.addGetterSetter(K,"container"),s.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(ie=>{ie.batchDraw()})})}(gn)),gn}var Jt={},Hi;function da(){if(Hi)return Jt;Hi=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.Layer=void 0;const e=we(),t=en(),r=fr(),n=bt(),s=Zr(),i=yt(),a=Qr(),c=ge(),h="#",f="beforeDraw",v="draw",w=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b=w.length;class m extends t.Container{constructor(u){super(u),this.canvas=new s.SceneCanvas,this.hitCanvas=new s.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(u){return this.getContext().clear(u),this.getHitCanvas().getContext().clear(u),this}setZIndex(u){super.setZIndex(u);const x=this.getStage();return x&&x.content&&(x.content.removeChild(this.getNativeCanvasElement()),u<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[u+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const u=this.getStage();return u&&u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const x=this.getStage();return!x||!x.content?!1:(x.content.removeChild(this.getNativeCanvasElement()),this.index<x.children.length-1?x.content.insertBefore(this.getNativeCanvasElement(),x.children[this.index+1].getCanvas()._canvas):x.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const u=this.getStage();if(u){const x=u.children;u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.insertBefore(this.getNativeCanvasElement(),x[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const u=this.getStage();if(u){const x=u.children;u.content&&(u.content.removeChild(this.getNativeCanvasElement()),u.content.insertBefore(this.getNativeCanvasElement(),x[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const u=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),u&&u.parentNode&&e.Util._isInDocument(u)&&u.parentNode.removeChild(u),this}getStage(){return this.parent}setSize({width:u,height:x}){return this.canvas.setSize(u,x),this.hitCanvas.setSize(u,x),this._setSmoothEnabled(),this}_validateAdd(u){const x=u.getType();x!=="Group"&&x!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(u){return u=u||{},u.width=u.width||this.getWidth(),u.height=u.height||this.getHeight(),u.x=u.x!==void 0?u.x:this.x(),u.y=u.y!==void 0?u.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,u)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(u){if(!this.isListening()||!this.isVisible())return null;let x=1,k=!1;for(;;){for(let l=0;l<b;l++){const o=w[l],p=this._getIntersection({x:u.x+o.x*x,y:u.y+o.y*x}),C=p.shape;if(C)return C;if(k=!!p.antialiased,!p.antialiased)break}if(k)x+=1;else return null}}_getIntersection(u){const x=this.hitCanvas.pixelRatio,k=this.hitCanvas.context.getImageData(Math.round(u.x*x),Math.round(u.y*x),1,1).data,l=k[3];if(l===255){const o=e.Util._rgbToHex(k[0],k[1],k[2]),p=a.shapes[h+o];return p?{shape:p}:{antialiased:!0}}else if(l>0)return{antialiased:!0};return{}}drawScene(u,x){const k=this.getLayer(),l=u||k&&k.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&l.getContext().clear(),t.Container.prototype.drawScene.call(this,l,x),this._fire(v,{node:this}),this}drawHit(u,x){const k=this.getLayer(),l=u||k&&k.hitCanvas;return k&&k.clearBeforeDraw()&&k.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,l,x),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(u){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(u)}getHitGraphEnabled(u){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const u=this.parent;!!this.hitCanvas._canvas.parentNode?u.content.removeChild(this.hitCanvas._canvas):u.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}return Jt.Layer=m,m.prototype.nodeType="Layer",(0,c._registerNode)(m),n.Factory.addGetterSetter(m,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(m,"clearBeforeDraw",!0),n.Factory.addGetterSetter(m,"hitGraphEnabled",!0,(0,i.getBooleanValidator)()),Jt}var Zt={},qi;function Jc(){if(qi)return Zt;qi=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.FastLayer=void 0;const e=we(),t=da(),r=ge();let n=class extends t.Layer{constructor(i){super(i),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Zt.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),Zt}var Qt={},Ki;function Zc(){if(Ki)return Qt;Ki=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.Group=void 0;const e=we(),t=en(),r=ge();let n=class extends t.Container{_validateAdd(i){const a=i.getType();a!=="Group"&&a!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return Qt.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),Qt}var $t={},Wi;function ua(){if(Wi)return $t;Wi=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.Animation=void 0;const e=ge(),t=we(),r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class Pt{constructor(i,a){this.id=Pt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=i,this.setLayers(a)}setLayers(i){let a=[];return i&&(a=Array.isArray(i)?i:[i]),this.layers=a,this}getLayers(){return this.layers}addLayer(i){const a=this.layers,c=a.length;for(let h=0;h<c;h++)if(a[h]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){const a=Pt.animations,c=a.length;for(let h=0;h<c;h++)if(a[h].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),Pt._addAnimation(this),this}stop(){return Pt._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){const a=i.id,c=this.animations,h=c.length;for(let f=0;f<h;f++)if(c[f].id===a){this.animations.splice(f,1);break}}static _runFrames(){const i={},a=this.animations;for(let c=0;c<a.length;c++){const h=a[c],f=h.layers,v=h.func;h._updateFrameObject(r());const w=f.length;let b;if(v?b=v.call(h,h.frame)!==!1:b=!0,!!b)for(let m=0;m<w;m++){const g=f[m];g._id!==void 0&&(i[g._id]=g)}}for(const c in i)i.hasOwnProperty(c)&&i[c].batchDraw()}static _animationLoop(){const i=Pt;i.animations.length?(i._runFrames(),t.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return $t.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,$t}var pn={},Ji;function Qc(){return Ji||(Ji=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=we(),r=ua(),n=fr(),s=ge(),i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,c=2,h=3,f=["fill","stroke","shadowColor"];let v=0;class w{constructor(g,u,x,k,l,o,p){this.prop=g,this.propFunc=u,this.begin=k,this._pos=k,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=p,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=x,this._change=l-this.begin,this.pause()}fire(g){const u=this[g];u&&u()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===c?this.setTime(g):this.state===h&&this.setTime(this.duration-g)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class b{constructor(g){const u=this,x=g.node,k=x._id,l=g.easing||e.Easings.Linear,o=!!g.yoyo;let p,C;typeof g.duration>"u"?p=.3:g.duration===0?p=.001:p=g.duration,this.node=x,this._id=v++;const P=x.getLayer()||(x instanceof s.Konva.Stage?x.getLayers():null);P||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){u.tween.onEnterFrame()},P),this.tween=new w(C,function(D){u._tweenFunc(D)},l,0,1,p*1e3,o),this._addListeners(),b.attrs[k]||(b.attrs[k]={}),b.attrs[k][this._id]||(b.attrs[k][this._id]={}),b.tweens[k]||(b.tweens[k]={});for(C in g)i[C]===void 0&&this._addAttr(C,g[C]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,u){const x=this.node,k=x._id;let l,o,p,C,P;const D=b.tweens[k][g];D&&delete b.attrs[k][D][g];let S=x.getAttr(g);if(t.Util._isArray(u))if(l=[],o=Math.max(u.length,S.length),g==="points"&&u.length!==S.length&&(u.length>S.length?(C=S,S=t.Util._prepareArrayForTween(S,u,x.closed())):(p=u,u=t.Util._prepareArrayForTween(u,S,x.closed()))),g.indexOf("fill")===0)for(let I=0;I<o;I++)if(I%2===0)l.push(u[I]-S[I]);else{const E=t.Util.colorToRGBA(S[I]);P=t.Util.colorToRGBA(u[I]),S[I]=E,l.push({r:P.r-E.r,g:P.g-E.g,b:P.b-E.b,a:P.a-E.a})}else for(let I=0;I<o;I++)l.push(u[I]-S[I]);else f.indexOf(g)!==-1?(S=t.Util.colorToRGBA(S),P=t.Util.colorToRGBA(u),l={r:P.r-S.r,g:P.g-S.g,b:P.b-S.b,a:P.a-S.a}):l=u-S;b.attrs[k][this._id][g]={start:S,diff:l,end:u,trueEnd:p,trueStart:C},b.tweens[k][g]=this._id}_tweenFunc(g){const u=this.node,x=b.attrs[u._id][this._id];let k,l,o,p,C,P,D,S;for(k in x){if(l=x[k],o=l.start,p=l.diff,S=l.end,t.Util._isArray(o))if(C=[],D=Math.max(o.length,S.length),k.indexOf("fill")===0)for(P=0;P<D;P++)P%2===0?C.push((o[P]||0)+p[P]*g):C.push("rgba("+Math.round(o[P].r+p[P].r*g)+","+Math.round(o[P].g+p[P].g*g)+","+Math.round(o[P].b+p[P].b*g)+","+(o[P].a+p[P].a*g)+")");else for(P=0;P<D;P++)C.push((o[P]||0)+p[P]*g);else f.indexOf(k)!==-1?C="rgba("+Math.round(o.r+p.r*g)+","+Math.round(o.g+p.g*g)+","+Math.round(o.b+p.b*g)+","+(o.a+p.a*g)+")":C=o+p*g;u.setAttr(k,C)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,u=b.attrs[g._id][this._id];u.points&&u.points.trueEnd&&g.setAttr("points",u.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,u=b.attrs[g._id][this._id];u.points&&u.points.trueStart&&g.points(u.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,u=this._id,x=b.tweens[g];this.pause();for(const k in x)delete b.tweens[g][k];delete b.attrs[g][u]}}e.Tween=b,b.attrs={},b.tweens={},n.Node.prototype.to=function(m){const g=m.onFinish;m.node=this,m.onFinish=function(){this.destroy(),g&&g()},new b(m).play()},e.Easings={BackEaseIn(m,g,u,x){return u*(m/=x)*m*((1.70158+1)*m-1.70158)+g},BackEaseOut(m,g,u,x){return u*((m=m/x-1)*m*((1.70158+1)*m+1.70158)+1)+g},BackEaseInOut(m,g,u,x){let k=1.70158;return(m/=x/2)<1?u/2*(m*m*(((k*=1.525)+1)*m-k))+g:u/2*((m-=2)*m*(((k*=1.525)+1)*m+k)+2)+g},ElasticEaseIn(m,g,u,x,k,l){let o=0;return m===0?g:(m/=x)===1?g+u:(l||(l=x*.3),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),-(k*Math.pow(2,10*(m-=1))*Math.sin((m*x-o)*(2*Math.PI)/l))+g)},ElasticEaseOut(m,g,u,x,k,l){let o=0;return m===0?g:(m/=x)===1?g+u:(l||(l=x*.3),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),k*Math.pow(2,-10*m)*Math.sin((m*x-o)*(2*Math.PI)/l)+u+g)},ElasticEaseInOut(m,g,u,x,k,l){let o=0;return m===0?g:(m/=x/2)===2?g+u:(l||(l=x*(.3*1.5)),!k||k<Math.abs(u)?(k=u,o=l/4):o=l/(2*Math.PI)*Math.asin(u/k),m<1?-.5*(k*Math.pow(2,10*(m-=1))*Math.sin((m*x-o)*(2*Math.PI)/l))+g:k*Math.pow(2,-10*(m-=1))*Math.sin((m*x-o)*(2*Math.PI)/l)*.5+u+g)},BounceEaseOut(m,g,u,x){return(m/=x)<1/2.75?u*(7.5625*m*m)+g:m<2/2.75?u*(7.5625*(m-=1.5/2.75)*m+.75)+g:m<2.5/2.75?u*(7.5625*(m-=2.25/2.75)*m+.9375)+g:u*(7.5625*(m-=2.625/2.75)*m+.984375)+g},BounceEaseIn(m,g,u,x){return u-e.Easings.BounceEaseOut(x-m,0,u,x)+g},BounceEaseInOut(m,g,u,x){return m<x/2?e.Easings.BounceEaseIn(m*2,0,u,x)*.5+g:e.Easings.BounceEaseOut(m*2-x,0,u,x)*.5+u*.5+g},EaseIn(m,g,u,x){return u*(m/=x)*m+g},EaseOut(m,g,u,x){return-u*(m/=x)*(m-2)+g},EaseInOut(m,g,u,x){return(m/=x/2)<1?u/2*m*m+g:-u/2*(--m*(m-2)-1)+g},StrongEaseIn(m,g,u,x){return u*(m/=x)*m*m*m*m+g},StrongEaseOut(m,g,u,x){return u*((m=m/x-1)*m*m*m*m+1)+g},StrongEaseInOut(m,g,u,x){return(m/=x/2)<1?u/2*m*m*m*m*m+g:u/2*((m-=2)*m*m*m*m+2)+g},Linear(m,g,u,x){return u*m/x+g}}}(pn)),pn}var Zi;function Qi(){return Zi||(Zi=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=ge(),r=we(),n=fr(),s=en(),i=Wc(),a=da(),c=Jc(),h=Zc(),f=Qn(),v=Qr(),w=ua(),b=Qc(),m=aa(),g=Zr();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:s.Container,Stage:i.Stage,stages:i.stages,Layer:a.Layer,FastLayer:c.FastLayer,Group:h.Group,DD:f.DD,Shape:v.Shape,shapes:v.shapes,Animation:w.Animation,Tween:b.Tween,Easings:b.Easings,Context:m.Context,Canvas:g.Canvas}),e.default=e.Konva}(fn)),fn}var $i;function $c(){return $i||($i=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;var r=Qi();Object.defineProperty(t,"Konva",{enumerable:!0,get:function(){return r.Konva}});const n=Qi();e.exports=n.Konva}(mr,mr.exports)),mr.exports}var ed=$c();const ha=Xc(ed);function td(e,t){Se(t,!0);const[r,n]=qn(),s=()=>Hn(l,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),m=V(t,"skewY",15),g=Kr(t,["$$slots","$$events","$$legacy","children","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new ha.Layer({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:m(),...g}),x=Ys(null);let k=nr(!1),l=Kc();Bt(()=>{if(s().add(u),!i()){const D=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(D.x),c()!==void 0&&c(D.y),h()!==void 0&&h(D.scale),f()!==void 0&&f(D.scaleX),v()!==void 0&&v(D.scaleY),w()!==void 0&&w(D.rotation),b()!==void 0&&b(D.skewX),m()!==void 0&&m(D.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(D.x),c()!==void 0&&c(D.y)})}Object.keys(g).filter(D=>!D.startsWith("on")).forEach(D=>{Q(()=>{u.setAttr(D,g[D])})}),Q(()=>{u.setAttr("x",a())}),Q(()=>{u.setAttr("y",c())}),Q(()=>{u.setAttr("scale",h())}),Q(()=>{u.setAttr("scaleX",f())}),Q(()=>{u.setAttr("scaleY",v())}),Q(()=>{u.setAttr("rotation",w())}),Q(()=>{u.setAttr("skewX",b())}),Q(()=>{u.setAttr("skewY",m())}),$r(g,u),x.set(u),J(k,!0)}),hr(()=>{u.destroy()}),la(or.Layer,x);var o=ce(),p=ae(o);{var C=D=>{var S=ce(),I=ae(S);Ns(I,()=>t.children),q(D,S)};Re(p,D=>{N(k)&&t.children&&D(C)})}q(e,o);var P=Pe({handle:u});return n(),P}var er={},es;function rd(){if(es)return er;es=1,Object.defineProperty(er,"__esModule",{value:!0}),er.Rect=void 0;const e=bt(),t=Qr(),r=ge(),n=we(),s=yt();class i extends t.Shape{_sceneFunc(c){const h=this.cornerRadius(),f=this.width(),v=this.height();c.beginPath(),h?n.Util.drawRoundedRectPath(c,f,v,h):c.rect(0,0,f,v),c.closePath(),c.fillStrokeShape(this)}}return er.Rect=i,i.prototype.className="Rect",(0,r._registerNode)(i),e.Factory.addGetterSetter(i,"cornerRadius",0,(0,s.getNumberOrArrayOfNumbersValidator)(4)),er}var nd=rd();function id(e,t){Se(t,!0);const[r,n]=qn(),s=()=>Hn(x,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),m=V(t,"skewY",15),g=Kr(t,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new nd.Rect({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:m(),...g}),x=ca();Bt(()=>{if(s().add(u),!i()){const l=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y),h()!==void 0&&h(l.scale),f()!==void 0&&f(l.scaleX),v()!==void 0&&v(l.scaleY),w()!==void 0&&w(l.rotation),b()!==void 0&&b(l.skewX),m()!==void 0&&m(l.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y)})}Object.keys(g).filter(l=>!l.startsWith("on")).forEach(l=>{Q(()=>{u.setAttr(l,g[l])})}),Q(()=>{u.setAttr("x",a())}),Q(()=>{u.setAttr("y",c())}),Q(()=>{u.setAttr("scale",h())}),Q(()=>{u.setAttr("scaleX",f())}),Q(()=>{u.setAttr("scaleY",v())}),Q(()=>{u.setAttr("rotation",w())}),Q(()=>{u.setAttr("skewX",b())}),Q(()=>{u.setAttr("skewY",m())}),$r(g,u)}),hr(()=>{u.destroy()});var k=Pe({handle:u});return n(),k}var sd=Qr();function fa(e,t){Se(t,!0);const[r,n]=qn(),s=()=>Hn(x,"$parent",r);let i=V(t,"staticConfig",3,!1),a=V(t,"x",15),c=V(t,"y",15),h=V(t,"scale",15),f=V(t,"scaleX",15),v=V(t,"scaleY",15),w=V(t,"rotation",15),b=V(t,"skewX",15),m=V(t,"skewY",15),g=Kr(t,["$$slots","$$events","$$legacy","staticConfig","x","y","scale","scaleX","scaleY","rotation","skewX","skewY"]);const u=new sd.Shape({x:a(),y:c(),scale:h(),scaleX:f(),scaleY:v(),rotation:w(),skewX:b(),skewY:m(),...g}),x=ca();Bt(()=>{if(s().add(u),!i()){const l=u.getAttrs();u.on("transformend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y),h()!==void 0&&h(l.scale),f()!==void 0&&f(l.scaleX),v()!==void 0&&v(l.scaleY),w()!==void 0&&w(l.rotation),b()!==void 0&&b(l.skewX),m()!==void 0&&m(l.skewY)}),u.on("dragend",()=>{a()!==void 0&&a(l.x),c()!==void 0&&c(l.y)})}Object.keys(g).filter(l=>!l.startsWith("on")).forEach(l=>{Q(()=>{u.setAttr(l,g[l])})}),Q(()=>{u.setAttr("x",a())}),Q(()=>{u.setAttr("y",c())}),Q(()=>{u.setAttr("scale",h())}),Q(()=>{u.setAttr("scaleX",f())}),Q(()=>{u.setAttr("scaleY",v())}),Q(()=>{u.setAttr("rotation",w())}),Q(()=>{u.setAttr("skewX",b())}),Q(()=>{u.setAttr("skewY",m())}),$r(g,u)}),hr(()=>{u.destroy()});var k=Pe({handle:u});return n(),k}var ad=De("<div><!></div>");function od(e,t){Se(t,!0);let r=V(t,"staticConfig",3,!1),n=V(t,"x",15),s=V(t,"y",15),i=Kr(t,["$$slots","$$events","$$legacy","children","staticConfig","x","y","divWrapperProps"]),a=nr(null);function c(){return N(a)}const h=Ys(null);let f,v=nr(!1);Bt(()=>{if(J(a,nt(new ha.Stage({container:f,y:s(),x:n(),...i}))),!r()){const u=N(a).getAttrs();N(a).on("dragend",()=>{n()!==void 0&&n(u.x),s()!==void 0&&s(u.y)})}Object.keys(i).filter(u=>!u.startsWith("on")).forEach(u=>{Q(()=>{N(a).setAttr(u,i[u])})}),Q(()=>{N(a).setAttr("x",n())}),Q(()=>{N(a).setAttr("y",s())}),$r(i,N(a)),h.set(N(a)),J(v,!0)}),hr(()=>{N(a)&&N(a).destroy()}),la(or.Stage,h);var w=ad();let b;var m=me(w);{var g=u=>{var x=ce(),k=ae(x);Ns(k,()=>t.children),q(u,x)};Re(m,u=>{N(v)&&t.children&&u(g)})}return Ir(w,u=>f=u,()=>f),_e(()=>b=Ue(w,b,{...t.divWrapperProps})),q(e,w),Pe({handle:c})}const ts=(e,t,r)=>Math.max(Math.min(e,r),t),he=e=>e*Math.PI/180,ld=e=>e*180/Math.PI,ke=2,Fr=7,cd=2,rs=1,dd=4;function ud(e,t){Se(t,!0);const r=V(t,"showPath",3,!1);fa(e,{scaleX:ke,scaleY:ke,get width(){return t.route.box.width},get height(){return t.route.box.height},sceneFunc:n=>{const s=t.route.elementToDraw;for(const i of["border","road","line"]){n.beginPath();for(const a of s)switch(a.type){case"move":{n.moveTo(a.x,a.y);break}case"line":{n.lineTo(a.x,a.y);break}case"arc":{n.arc(a.cx,a.cy,a.radius,a.startAngleRad,a.endAngleRad,a.anticlockwise);break}}n.lineWidth=i==="border"?Fr*2+cd*2:i==="road"?Fr*2:rs,n.strokeStyle=i==="border"?"#ccc":i==="road"?"#888":"#fff",n.stroke()}n.beginPath();for(const i of s)switch(i.type){case"move":{n.moveTo(i.x,i.y);break}case"line":{n.lineTo(i.x,i.y);break}}if(n.setLineDash([dd]),n.lineWidth=rs,n.strokeStyle="#888",n.stroke(),r())for(let i=0;i<t.route.pathLength;i++){const a=t.route.getPathPoint(i);n.beginPath(),n.arc(a.x,a.y,1,0,he(360),!1),n.fillStyle="#f00",n.fill()}}}),Pe()}function hd(e,t){Se(t,!0);const r=pe(()=>(t.drawingData.point.x+Fr/2*Math.cos(he(t.drawingData.point.angle+(t.lane==="cw"?90:-90))))*ke),n=pe(()=>(t.drawingData.point.y+Fr/2*Math.sin(he(t.drawingData.point.angle+(t.lane==="cw"?90:-90))))*ke);fa(e,{scaleX:ke,scaleY:ke,get x(){return N(r)},get y(){return N(n)},get rotation(){return t.drawingData.point.angle},sceneFunc:s=>{s.beginPath(),s.moveTo(-t.drawingData.carDescriptor.shape.length/2,0),s.lineTo(t.drawingData.carDescriptor.shape.length/2,0),s.lineWidth=t.drawingData.carDescriptor.shape.width,s.strokeStyle=t.drawingData.color,s.stroke(),t.drawingData.isBreaking&&(s.beginPath(),s.moveTo(-t.drawingData.carDescriptor.shape.length/2,0),s.lineTo(-t.drawingData.carDescriptor.shape.length/2+1,0),s.lineWidth=t.drawingData.carDescriptor.shape.width,s.strokeStyle="red",s.stroke())}}),Pe()}var fd=De(' <span class="font-semibold"> </span>%',1),gd=De("<div><!> <!></div>");function ns(e,t){let n=V(t,"class",8,""),s=V(t,"title",8,"Zoom"),i=V(t,"value",12,100),a=V(t,"min",8,0),c=V(t,"max",8,100),h=V(t,"step",8,1);var f=gd(),v=me(f);Vc(v,{defaultClass:"text-sm whitespace-nowrap cursor-pointer",title:"Reset zoom",onclick:()=>{i(100)},children:(b,m)=>{var g=fd(),u=ae(g),x=Me(u),k=me(x);_e(()=>{Or(u,`${s()??""}: `),Or(k,i())}),q(b,g)},$$slots:{default:!0}});var w=Me(v,2);jc(w,{get min(){return a()},get max(){return c()},get step(){return h()},id:"imageZoom",get value(){return i()},set value(b){i(b)},$$legacy:!0}),_e(()=>Pn(f,n()+" flex items-center space-x-2")),q(e,f)}const is=30;class pd{constructor(t,r){ve(this,"boundingBoxCache");ve(this,"pathLengthCache");ve(this,"pathPointsCache",[]);ve(this,"elementsToDrawCache");ve(this,"calcTotalPathLength",()=>this.path.reduce((t,r)=>t+(r.type==="line"?r.length:Math.abs(r.radius*he(r.angle))),0));this.startPoint=t,this.path=r,this.pathLengthCache=Math.trunc(this.calcTotalPathLength());for(let n=0;n<this.pathLengthCache;n++)this.pathPointsCache.push(this.calcPositionOnPath(n));for(let n=0;n<this.pathLengthCache;n++)for(let s=n+1;s<this.pathLengthCache*2;s++){const i=this.pathPointsCache[s%this.pathLengthCache],a=this.pathPointsCache[n];if(i.radius!=0&&(a.radius===0||i.radius<a.radius)){a.nextCurve={distance:s-n,radius:i.radius};break}}this.boundingBoxCache=this.calculateBoundingBox(),this.elementsToDrawCache=this.getPathElementsToDraw()}get pathLength(){return this.pathLengthCache}getPathPoint(t){return this.pathPointsCache[Math.trunc(t%this.pathLengthCache)]}get box(){return{offsetX:-30+this.boundingBoxCache.minX,offsetY:-30+this.boundingBoxCache.minY,width:this.boundingBoxCache.maxX-this.boundingBoxCache.minX+2*is,height:this.boundingBoxCache.maxY-this.boundingBoxCache.minY+2*is}}get elementToDraw(){return this.elementsToDrawCache}calcPositionOnPath(t){let r=t%this.calcTotalPathLength(),n=this.startPoint.x,s=this.startPoint.y,i=this.startPoint.angle,a=0;for(;r>0;)for(const c of this.path)if(c.type==="line"){if(r<=c.length)return n+=r*Math.cos(he(i)),s+=r*Math.sin(he(i)),{x:n,y:s,angle:i,radius:0,nextCurve:void 0};n+=c.length*Math.cos(he(i)),s+=c.length*Math.sin(he(i)),r-=c.length,a=0}else if(c.type==="arc"){const h=Math.abs(c.radius*he(c.angle)),f=c.angle<0,v=r/c.radius,w=ld(v),b=n-c.radius*Math.sin(he(i))*(f?-1:1),m=s+c.radius*Math.cos(he(i))*(f?-1:1);if(r<=h)return i+=w*Math.sign(c.angle),n=b+c.radius*Math.cos(he(i-90*(f?-1:1))),s=m+c.radius*Math.sin(he(i-90*(f?-1:1))),{x:n,y:s,angle:i,radius:c.radius,nextCurve:void 0};i+=c.angle,n=b+c.radius*Math.cos(he(i-90*(f?-1:1))),s=m+c.radius*Math.sin(he(i-90*(f?-1:1))),r-=h,a=c.radius}return{x:n,y:s,angle:i,radius:a,nextCurve:void 0}}calculateBoundingBox(){let t=this.startPoint.x,r=this.startPoint.y,n=this.startPoint.x,s=this.startPoint.y;for(let i=0;i<this.pathLengthCache;i++){const a=this.calcPositionOnPath(i);t=Math.trunc(Math.min(t,a.x)),r=Math.trunc(Math.min(r,a.y)),n=Math.trunc(Math.max(n,a.x)),s=Math.trunc(Math.max(s,a.y))}return{minX:t,minY:r,maxX:n,maxY:s}}getPathElementsToDraw(){const t=[];t.push({type:"move",x:this.startPoint.x,y:this.startPoint.y});let r=this.startPoint.x,n=this.startPoint.y,s=this.startPoint.angle;for(const i of this.path)if(i.type==="line"){const a=r+i.length*Math.cos(he(s)),c=n+i.length*Math.sin(he(s));t.push({type:"line",x:a,y:c}),r=a,n=c}else if(i.type==="arc"){const a=i.angle<0,c=r-i.radius*Math.sin(he(s))*(a?-1:1),h=n+i.radius*Math.cos(he(s))*(a?-1:1),f=he(s-90*(a?-1:1)),v=he(s-90*(a?-1:1)+i.angle);t.push({type:"arc",cx:c,cy:h,radius:i.radius,startAngleRad:f,endAngleRad:v,anticlockwise:a}),r=c+i.radius*Math.cos(v),n=h+i.radius*Math.sin(v),s+=i.angle,t.push({type:"move",x:r,y:n})}return t}}const _r={car:{engine:{breakAcceleration:1},shape:{width:4,length:6}},truck:{engine:{breakAcceleration:1},shape:{width:5,length:9}}};class vn{constructor(t,r,n,s=0){ve(this,"position",0);ve(this,"speed",0);ve(this,"targetSpeed",0);ve(this,"acceleration",0);ve(this,"getStatus",()=>({position:Math.trunc(this.position),speed:Math.trunc(this.speed),targetSpeed:Math.trunc(this.targetSpeed),carType:this.carType,carDescriptor:_r[this.carType],color:this.color,isAccelerating:this.acceleration>0,isBreaking:this.acceleration<-_r[this.carType].engine.breakAcceleration}));ve(this,"lastMove",Date.now());ve(this,"accelerate",(t=1)=>this.acceleration=this.driveParameters.maxAcceleration*ts(t,0,1));ve(this,"hold",()=>this.acceleration=0);ve(this,"release",()=>this.acceleration=-_r[this.carType].engine.breakAcceleration);ve(this,"break",(t=1)=>this.acceleration=-this.driveParameters.maxBreak*ts(t,0,1));this.carType=t,this.color=r,this.driveParameters=n,this.position=s}reset(){this.position=0,this.speed=0,this.acceleration=0}move(t,r,n,s){const i=(Date.now()-this.lastMove)/1e3*(s/100);this.lastMove=Date.now(),this.position+=this.speed*i,this.speed+=this.acceleration*i;const a=[this.driveParameters.maxSpeed];t.speed<this.speed&&t.distance<Math.max(this.speed**2/(2*this.driveParameters.maxBreak),_r[this.carType].shape.length)*2&&a.push(t.speed),r.radius&&a.push(r.radius),n&&n.distance<(this.speed**2-n.radius**2)/(2*this.driveParameters.maxBreak)&&a.push(n.radius),this.targetSpeed=Math.min(...a),this.speed===this.targetSpeed?this.hold():this.speed<this.targetSpeed?this.accelerate(this.speed<this.targetSpeed/2?1:.75):this.speed>this.targetSpeed*1.05?this.break():this.release()}}const Ne={route:new pd({x:0,y:0,angle:0},[{type:"line",length:100},{type:"arc",radius:50,angle:100},{type:"line",length:100},{type:"arc",radius:40,angle:-110},{type:"line",length:100},{type:"arc",radius:30,angle:180},{type:"line",length:300},{type:"arc",radius:50,angle:45},{type:"line",length:20},{type:"arc",radius:30,angle:90},{type:"line",length:130},{type:"arc",radius:30,angle:90},{type:"arc",radius:20,angle:-180},{type:"line",length:80},{type:"arc",radius:20,angle:-180},{type:"arc",radius:30,angle:180},{type:"arc",radius:50,angle:55},{type:"line",length:28.3},{type:"arc",radius:50,angle:45},{type:"arc",radius:70,angle:45},{type:"line",length:10.2}]),vehicles:[new vn("car","#4c4",{maxSpeed:100,maxAcceleration:15,maxBreak:25},20),new vn("car","#44c",{maxSpeed:60,maxAcceleration:20,maxBreak:20},10),new vn("truck","yellow",{maxSpeed:80,maxAcceleration:15,maxBreak:20},0)]};var vd=De("<!> <!> <!>",1),md=De('<span class="flex flex-row gap-1 items-center"> <span class="text-xs">m/sec</span> <!></span>'),_d=De('<div class="grid grid-cols-3"><div class="flex justify-center my-4"><!></div> <div class="flex justify-center my-4"> </div> <div class="flex justify-center my-4"><!></div></div> <div class="flex justify-center"><!></div> <div class="absolute top-10 left-0 p-4"><!> <!></div>',1);function yd(e,t){Se(t,!0);const r=Ne.route.box,n=Ne.route.pathLength;let s=nr(100),i=nr(100);const a=new Ln;setInterval(()=>{for(let O=0;O<Ne.vehicles.length;O++){const L=Ne.vehicles[O],d=Ne.vehicles.length<2?void 0:O>0?Ne.vehicles[O-1]:Ne.vehicles.at(-1),y=L.getStatus(),_=Ne.route.getPathPoint(y.position);L.move(d?{distance:(d.getStatus().position+d.getStatus().carDescriptor.shape.length-y.position-y.carDescriptor.shape.length+n)%n,speed:d.getStatus().speed}:{distance:1e3,speed:1e3},{radius:_.radius},_.nextCurve,N(i));const A=L.getStatus();a.set(L,{...A,point:Ne.route.getPathPoint(A.position)})}},10);const c=()=>{a.clear();for(const O of Ne.vehicles)O.reset()};var h=_d(),f=ae(h),v=me(f),w=me(v);ns(w,{class:"w-3/5",min:10,max:300,step:10,get value(){return N(s)},set value(O){J(s,nt(O))}});var b=Me(v,2),m=me(b),g=Me(b,2),u=me(g);ns(u,{class:"w-3/5",title:"Speed",min:10,max:300,step:10,get value(){return N(i)},set value(O){J(i,nt(O))}});var x=Me(f,2),k=me(x);const l=pe(()=>ke*r.width*(N(s)/100)),o=pe(()=>ke*r.height*(N(s)/100)),p=pe(()=>N(s)/100),C=pe(()=>N(s)/100),P=pe(()=>ke*r.offsetX),D=pe(()=>ke*r.offsetY);od(k,{get width(){return N(l)},get height(){return N(o)},get scaleX(){return N(p)},get scaleY(){return N(C)},get offsetX(){return N(P)},get offsetY(){return N(D)},children:(O,L)=>{td(O,{children:(d,y)=>{var _=vd(),A=ae(_);const T=pe(()=>ke*r.offsetX),G=pe(()=>ke*r.offsetY),M=pe(()=>ke*r.width),U=pe(()=>ke*r.height);id(A,{id:"background",get x(){return N(T)},get y(){return N(G)},get width(){return N(M)},get height(){return N(U)},fill:"#7a7",stroke:"#888"});var B=Me(A,2);ud(B,{get route(){return Ne.route}});var j=Me(B,2);hi(j,17,()=>a.values(),ui,(z,ee)=>{hd(z,{get drawingData(){return N(ee)},lane:"cw"})}),q(d,_)},$$slots:{default:!0}})},$$slots:{default:!0}});var S=Me(x,2),I=me(S);Uc(I,{class:"w-48 ",shadow:!1,children:(O,L)=>{var d=ce(),y=ae(d);hi(y,17,()=>a.values(),ui,(_,A)=>{var T=md(),G=me(T),M=Me(G,3);{var U=j=>{Ri(j,{icon:"mdi:arrow-up",width:"16"})},B=j=>{var z=ce(),ee=ae(z);{var K=ie=>{Ri(ie,{icon:"mdi:arrow-down",width:"16"})};Re(ee,ie=>{N(A).isBreaking&&ie(K)},!0)}q(j,z)};Re(M,j=>{N(A).isAccelerating?j(U):j(B,!1)})}_e(()=>{zn(T,"style",`color: ${N(A).color}`),Or(G,`${N(A).speed??""} `)}),q(_,T)}),q(O,d)},$$slots:{default:!0}});var E=Me(I,2);Nc(E,{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-4",$$events:{click:c},children:(O,L)=>{var d=So("Reset");q(O,d)},$$slots:{default:!0}}),_e(()=>Or(m,`${n??""} m in ${r.width??""} x ${r.height??""} m`)),q(e,h),Pe()}Po(yd,{target:document.querySelector("#app")});
